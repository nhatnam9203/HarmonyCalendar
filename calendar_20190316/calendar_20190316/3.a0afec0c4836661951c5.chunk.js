(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{a089d5de5d5c1c06e185:function(e,t,n){"use strict";n.r(t);var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0b3cb19af78752326f59"),a=n("ab4cb61bcb2dc161defb"),c=n("d7dd51e1bf6bfc2c9c3d"),s=n("a28fc3c963a1d4d1a2e5"),u=n("8a2d1b95e05b6a321e74"),d=n.n(u),p=n("5ef9de3df8d92ea0e41c"),f=n.n(p),l=n("5fa3f8487e09c6182715"),m=n.n(l),h=n("f3b0ff1628e56352bcbf"),y=n.n(h),b=n("a1cf5d6fa4ed65a6ddd5"),v=n.n(b),g=n("6a4f9c383785f9168266"),w=n.n(g),S=n("d3a850c4000d77bccc89"),k=n.n(S),x=n("f2873ecf7390fe7d7c89"),I=n.n(x);function C(e){var t={dispatch:y.a,subscribe:y.a,getState:y.a,replaceReducer:y.a,runSaga:y.a,injectedReducers:k.a,injectedSagas:k.a};w()(I()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var A=n("491cc2e27aa2b4221847");function _(e,t){return function(n,r){t||C(e),w()(m()(n)&&!v()(n)&&y()(r),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===r||(e.injectedReducers[n]=r,e.replaceReducer(Object(A.a)(e.injectedReducers)))}}function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j="@@saga-injector/restart-on-remount",M="@@saga-injector/daemon",Y="@@saga-injector/once-till-unmount";function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=[j,M,Y],L=function(e){return w()(m()(e)&&!v()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},W=function(e){var t={saga:y.a,mode:function(e){return m()(e)&&B.includes(e)}};w()(I()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function H(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;t||C(e);var i=R({},r,{mode:r.mode||j}),a=i.saga,c=i.mode;L(n),W(i);var s=Reflect.has(e.injectedSagas,n);(!s||s&&c!==M&&c!==Y)&&(e.injectedSagas[n]=R({},i,{task:e.runSaga(a,o)}))}}function z(e,t){return function(n){if(t||C(e),L(n),Reflect.has(e.injectedSagas,n)){var r=e.injectedSagas[n];r.mode&&r.mode!==M&&(r.task.cancel(),e.injectedSagas[n]="done")}}}function U(e){return(U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=n("72110207b6499adb0ff6"),X=n.n(q),Z=n("0a659e49a726b6fa3fb3"),Q=n("d4644582e3cddb2eda41");function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function ne(e){var t=(e=e.replace(/\D/g,"")).match(/^(\d{1,3})(\d{0,3})(\d{0,4})$/);return t&&(e="".concat(t[1]).concat(t[2]?"-":"").concat(t[2]).concat(t[3]?"-":"").concat(t[3])),e}function re(e){return e>="0"&&e<="9"}function oe(e){for(var t="",n=0;n<e.length;n++)(re(e[n])||"-"===e[n])&&(t+=e[n].toString());return"-"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t.toString()}function ie(e){var t="";if(e)if("1"===e.charAt(0))t="(+1) "+ne(e.substring(1));else if("8"===e.charAt(0)&&"4"===e.charAt(1))t="(+84) "+ne(e.substring(2));else if("+"===e.charAt(0)&&"1"===e.charAt(1))t="(+1) "+ne(e.substring(2));else{if("+"!==e.charAt(0)||"8"!==e.charAt(1)||"4"!==e.charAt(2))return e;t="(+84) "+ne(e.substring(3))}return t}function ae(e,t,n,r){var o;return o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},method:n},t&&{body:JSON.stringify(t)}),fetch(e,o).then(function(e){if(200===e.status)return e.json()}).then(function(e){return e}).catch(function(e){return e})}const ce=te("token"),se=(te("storeid"),te("merchantid")),ue=te("staffId"),de=te("deviceId"),pe="https://staging.harmonypayment.com",fe=`${pe}/api`,le=`${pe}`,me=`${fe}/staff/getbydate/${se}?date=`,he=`${fe}/appointment/date`,ye=`${fe}/appointment/getbystatus?status=waiting`,be=`${fe}/appointment`,ve=`${fe}/appointment/updatestatus`,ge=`${fe}/customer/getbyphone`,we=`${fe}/customer`,Se=`${fe}/appointment`,ke=`${fe}/appointment`,xe=`${fe}/staff/signin`,Ie=`${fe}/blocktime`,Ce=`${fe}/blocktime`,Ae=`${fe}/blocktime?workingdate=`,_e=`${fe}/appointment/checkout`,Oe=`${fe}/staff/loginTime`;n("8e4c85c29cdef1bf8a5f");var Te,Pe=n("d433ee11c4833de99670"),De=n("c5f961fe227ed7c9791b"),Ee=n("5a3157817ca8447f132a"),Ne=n("ce83741f5d4040dca12e"),je=n.n(Ne);function Me(e){return(Me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t,n,r){Te||(Te="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Te,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Me(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=[1,2,3,4,5,6,7,8,9,10,11,12],He=[0,15,30,45],ze=["AM","PM"];function Ue(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}var Ge,$e=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fe(this,Be(t).call(this,e))).state={hour:2,minute:0,localization:"PM"},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r["Component"]),n=t,(o=[{key:"selectHour",value:function(e){this.setState({hour:e})}},{key:"selectMinute",value:function(e){this.setState({minute:e})}},{key:"selectLocal",value:function(e){this.setState({localization:e})}},{key:"closePopup",value:function(){var e,t=this.props,n=t.closePopupSelectTime,r=t.isStart,o=t.isEnd,i=this.state,a=i.hour,c=i.minute,s=i.localization;r&&(e={data:"".concat(Ue(a,2).toString(),":").concat(Ue(c,2).toString()," ").concat(s),isStart:!0}),o&&(e={data:"".concat(Ue(a,2).toString(),":").concat(Ue(c,2).toString()," ").concat(s),isEnd:!0}),n(e)}},{key:"renderHour",value:function(){var e=this;return We.map(function(t,n){return Ye("div",{onClick:function(){return e.selectHour(t)},style:Je.localziation},n,Ye("div",{style:Ke(e.state.hour,t)},void 0,Ue(t,2)))})}},{key:"renderMinute",value:function(){var e=this;return He.map(function(t,n){return Ye("div",{onClick:function(){return e.selectMinute(t)},style:Je.localziation},n,Ye("div",{style:Ke(e.state.minute,t)},void 0,Ue(t,2)))})}},{key:"renderLocalization",value:function(){var e=this;return ze.map(function(t,n){return Ye("div",{onClick:function(){return e.selectLocal(t)},style:Je.localziation},n,Ye("div",{style:Ke(e.state.localization,t)},void 0,Ue(t,2)))})}},{key:"render",value:function(){var e=this;return Ye("div",{style:Je.container},void 0,Ye("div",{style:Je.wrapper},void 0,Ye("div",{style:Je.item},void 0,Ye("div",{style:Je.titleHour},void 0,"Hour"),Ye("div",{style:Je.hour},void 0,this.renderHour())),Ye("div",{style:Je.item},void 0,Ye("div",{style:Je.title},void 0,"Minute"),Ye("div",{style:Je.minute},void 0,this.renderMinute())),Ye("div",{style:Je.item},void 0,Ye("div",{style:Je.titleLocal},void 0,"Localziation"),Ye("div",{style:Je.minute},void 0,this.renderLocalization()))),Ye("div",{style:Je.containerButton},void 0,Ye("div",{onClick:function(){return e.closePopup()},style:Je.button},void 0,"Select")))}}])&&Re(n.prototype,o),i&&Re(n,i),t}(),Ke=function(e,t){return{backgroundColor:e===t?"#FFFEC4":"#ffffff",padding:7,width:30,borderRadius:20,textAlign:"center",fontWeight:e===t?"600":"500"}},Je={container:{top:0,right:0,left:0,bottom:-40,position:"absolute",boxShadow:"0 0 7px rgba(0, 0, 0, 0.13)",backgroundColor:"#ffffff",zIndex:999,borderRadius:18,height:420},title:{textAlign:"center",padding:12,backgroundColor:"#1B75C0",color:"#ffffff",fontWeight:"600"},titleHour:{textAlign:"center",padding:12,backgroundColor:"#1B75C0",color:"#ffffff",fontWeight:"600",borderTopLeftRadius:10},titleLocal:{textAlign:"center",padding:12,backgroundColor:"#1B75C0",color:"#ffffff",fontWeight:"600",borderTopRightRadius:10},hour:{textAlign:"center",padding:10,height:350,overflowY:"scroll"},minute:{textAlign:"center",padding:10},item:{flex:1,fontSize:15},containerButton:{justifyContent:"center",alignItems:"center",display:"flex",marginTop:-30},button:{backgroundColor:"#1B75C0",width:120,color:"#ffffff",fontWeight:"600",padding:15,borderRadius:3,cursor:"pointer",textAlign:"center",fontSize:16},wrapper:{display:"flex",flexDirection:"row",borderTopLeftRadius:20,borderTopRightRadius:20},localziation:{marginTop:15,cursor:"pointer",padding:5,width:"100%",display:"flex",justifyContent:"center"}};function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t,n,r){Ge||(Ge="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Ge,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Xe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ze(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Xe(i,r,o,a,c,"next",e)}function c(e){Xe(i,r,o,a,c,"throw",e)}a(void 0)})}}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=Object(i.c)(Pe.a).withConfig({displayName:"Pincode__FormPincode",componentId:"sc-1c8cn3z-0"})(["padding:0 !important;padding-bottom:1rem !important;background:#ffffff;width:26rem !important;max-height:30rem;border:none !important;border-radius:0.8rem;position:relative;box-shadow:0 1px #fff inset,0 0.6px 10px #1FB5F4;"]);rt.Header=i.c.div.withConfig({displayName:"Pincode__Header",componentId:"sc-1c8cn3z-1"})(["height:3.2rem;width:100%;background:#1073c2;display:flex;justify-content:center;align-items:center;border-top-left-radius:3px;border-top-right-radius:3px;position:relative;"]);i.c.div.withConfig({displayName:"Pincode__HeaderText",componentId:"sc-1c8cn3z-2"})(["color:#ffffff;font-size:1.2rem;font-weight:600;lettter-spacing:0.6;"]);var ot=i.c.div.withConfig({displayName:"Pincode__PincodeBody",componentId:"sc-1c8cn3z-3"})(["max-height:30rem;padding:1rem;text-align:center;display:flex;flex-direction:column;overflow-y:scroll;"]);ot.Input=i.c.input.withConfig({displayName:"Pincode__Input",componentId:"sc-1c8cn3z-4"})(["width:100%;height:2.5rem !important;text-align:left;background:#ffffff;border:1px solid #dddddd;padding-left:1.3rem;font-size:1.4rem;border-radius:5px;-moz-appearance:none;-webkit-appearance:none;"]),ot.Button=i.c.button.withConfig({displayName:"Pincode__Button",componentId:"sc-1c8cn3z-5"})(["display:flex;justify-content:center;align-items:center;color:#ffffff;text-align:center;width:7.5rem;align-self:center;background:#1073c2;padding:0.6rem;margin-top:0.6rem;border-radius:3px;cursor:pointer;"]);var it=i.c.div.withConfig({displayName:"Pincode__StaffHeader",componentId:"sc-1c8cn3z-6"})(["display:flex;flex-direction:row;width:100%;height:5rem;"]);it.Left=i.c.div.withConfig({displayName:"Pincode__Left",componentId:"sc-1c8cn3z-7"})(["width:5rem;height:5rem;"]),it.Right=i.c.div.withConfig({displayName:"Pincode__Right",componentId:"sc-1c8cn3z-8"})(["justify-content:space-between;align-items:flex-start;display:flex;flex-direction:column;height:50px;width:100%;margin-left:15px;"]);var at=i.c.div.withConfig({displayName:"Pincode__StaffBody",componentId:"sc-1c8cn3z-9"})(["position:relative;"]);at.Title=i.c.div.withConfig({displayName:"Pincode__Title",componentId:"sc-1c8cn3z-10"})(["color:#1b75c0;font-weight:600;font-size:1rem;text-align:left;"]),it.Right.Bottom=i.c.div.withConfig({displayName:"Pincode__Bottom",componentId:"sc-1c8cn3z-11"})([""]);var ct,st=i.c.div.withConfig({displayName:"Pincode__Row",componentId:"sc-1c8cn3z-12"})(["display:flex;flex-direction:row;margin-top:1rem;"]),ut=i.c.div.withConfig({displayName:"Pincode__ButtonAddBlock",componentId:"sc-1c8cn3z-13"})(["display:flex;flex-direction:row;padding:0.2rem;background-color:#f2f2f2;width:48%;font-weight:600;collor:#333;align-items:center;justify-content:center;cursor:pointer;border-radius:3px;padding:0.9rem;"]),dt=i.c.div.withConfig({displayName:"Pincode__BlockList",componentId:"sc-1c8cn3z-14"})(["width:100%;height:100% !important;"]),pt={pincode:"",note:"",isAddBlock:!1,isStart:!1,isEnd:!1,start:"02:00 PM",end:"02:00 PM",isPopupSelectTime:!1},ft=qe("div",{},void 0,"Login : "),lt=qe("div",{},void 0,"Still not login"),mt=qe("div",{},void 0,"Appointments :"),ht=qe(Q.FaClock,{color:"#1266AE",size:18}),yt=qe(De.GiAlarmClock,{size:20,color:"#4B4B4B"}),bt=qe(at.Title,{},void 0,"Add block time"),vt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=et(this,tt(t).call(this))).state=pt,e}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,r["Component"]),n=t,(i=[{key:"resetState",value:function(){this.setState(pt)}},{key:"checkPincode",value:function(){var e=Ze(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.pincode,n=this.props.checkPinCode,e.next=4,n(t);case 4:this.closeModal(),this.setState({pincode:""});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onChangePincode",value:function(){var e=Ze(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,t.target.validity.valid?this.setState({pincode:t.target.value.replace(/^0+/,"")}):""!==n&&"-"!==n||this.setState({pincode:n});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"closeModal",value:function(){var e=this.props,t=e.togglePopupPincode,n=e.disableCalendar;t(!1,""),this.resetState(),n(!1)}},{key:"getTimeLogin",value:function(){var e=this.props,t=e.staff,n=e.currentDay,r=0;switch(X()(n).format("dddd")){case"Monday":r=t.workingTimes.Monday.timeStart;break;case"Tuesday":r=t.workingTimes.Tuesday.timeStart;break;case"Wednesday":r=t.workingTimes.Wednesday.timeStart;break;case"Thursday":r=t.workingTimes.Thursday.timeStart;break;case"Friday":r=t.workingTimes.Friday.timeStart;break;case"Saturday":r=t.workingTimes.Saturday.timeStart}return r}},{key:"closePopupSelectTime",value:function(e){if(e.isStart)this.setState({start:e.data,isPopupSelectTime:!1,isStart:!1,isEnd:!1});else if(e.isEnd){var t=this.state.start,n=X()(t,"h:mma");X()(e.data,"h:mma").isSameOrBefore(n)?alert("End time must be after Start time"):this.setState({end:e.data,isPopupSelectTime:!1,isStart:!1,isEnd:!1})}else this.setState({isPopupSelectTime:!1,isStart:!1,isEnd:!1})}},{key:"findAppointment",value:function(){var e=this.props,t=e.calendarMembers,n=e.staff,r=t.find(function(e){return parseInt(e.memberId)===parseInt(n.id)});return r?r.appointments.filter(function(e){return"BLOCK"!==e.status&&"BLOCK_TEMP"!==e.status}).length.toString():0}},{key:"submitEditBlock",value:function(){var e=this.props,t=e.SubmitEditBlockTime,n=e.staff,r=this.state,o=r.start,i=r.end,a=r.note,c=X()(o,"h:mma");X()(i,"h:mma").isSameOrBefore(c)?alert("End time must be after Start time"):(t({staff:n,start:o,end:i,note:a}),this.closeModal())}},{key:"deleteBlockTime",value:function(e){var t=this.props,n=t.staff,r=t.deleteBlockTime;r({block:e,staff:n}),this.closeModal()}},{key:"renderTimeLogin",value:function(e){return e?qe(o.a.Fragment,{},void 0,ft,qe("div",{style:gt.timeLogin},void 0,e)):lt}},{key:"renderHeaderRight",value:function(){var e=this.props.staff;return qe(it.Right,{},void 0,qe("div",{style:gt.title},void 0,e.title),qe("div",{style:gt.headerRight},void 0,qe("div",{style:{display:"flex",flexDirection:"row"}},void 0,this.renderTimeLogin(e.timeLogin)),qe("div",{style:gt.appointmentQuantity},void 0,mt,qe("div",{style:{fontWeight:600}},void 0,this.findAppointment()))))}},{key:"renderBlockTimeList",value:function(){var e=this;return this.props.staff.blockTime.filter(function(e){return 0===e.isDisabled}).map(function(t){return qe("div",{style:gt.blockTime},t.blockTimeId,qe("div",{style:{width:"10%"}},void 0,ht),qe("div",{style:gt.test},void 0,qe("div",{style:gt.blockHeader},void 0,qe("div",{style:gt.workingDate},void 0,X()(t.workingDate).format("MM/DD/YYYY")),qe("div",{style:gt.timeBlock},void 0,t.blockTimeStart," - ",t.blockTimeEnd)),qe("div",{style:gt.note},void 0,t.note)),qe("div",{onClick:function(){return e.deleteBlockTime(t)},style:gt.trashButton},void 0,qe(Q.FaTrash,{color:"#6A6A6A",size:20,style:gt.trash})))})}},{key:"renderStaffBody",value:function(){var e=this,t=this.state,n=t.isAddBlock,r=t.start,i=t.end;return n?qe(at,{},void 0,bt,qe(st,{},void 0,qe("div",{style:gt.titleBody},void 0,"Time"),qe("div",{onClick:function(){return e.setState({isPopupSelectTime:!0,isStart:!0})}},void 0,qe("div",{style:gt.select},void 0,r.toString().substring(0,5),qe("span",{},void 0," ",r.toString().substring(6,8)),qe(Q.FaCaretDown,{style:gt.faCaretDown}))),qe("p",{style:{marginLeft:8,marginTop:7,fontWeight:"500",fontSize:16}},void 0," - "),qe("div",{onClick:function(){return e.setState({isPopupSelectTime:!0,isEnd:!0})}},void 0,qe("div",{style:gt.select},void 0,i,qe(Q.FaCaretDown,{style:gt.faCaretDown})))),qe(st,{},void 0,qe("div",{style:gt.titleBody},void 0,"Reason"),qe("div",{},void 0,qe("textarea",{value:this.state.note,onChange:function(t){return e.setState({note:t.target.value})},style:gt.notes}))),qe("div",{onClick:function(){return e.submitEditBlock()},style:gt.bottom},void 0,qe("div",{style:gt.btnSubmit},void 0,"Submit"))):qe(o.a.Fragment,{},void 0,qe(ut,{onClick:function(){return e.setState({isAddBlock:!0})}},void 0,yt,qe("div",{style:{marginLeft:8,color:"#4B4B4B"}},void 0,"Add block time")),qe(dt,{},void 0,this.renderBlockTimeList()))}},{key:"renderPopupSelectTime",value:function(){var e=this,t=this.state,n=t.isPopupSelectTime,r=t.isStart,o=t.isEnd;return n?qe($e,{closePopupSelectTime:function(t){return e.closePopupSelectTime(t)},isStart:r,isEnd:o}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.popupPincode,r=t.staff,o=this.state.isPopupSelectTime;return!1===n?"":qe(rt,{open:!0,closeOnDocumentClick:!1},void 0,qe(Ee.TiDelete,{onClick:o?function(){}:function(){return e.closeModal()},color:"#6A6A6A",size:38,style:gt.closeModal}),qe(ot,{},void 0,qe(it,{},void 0,qe(it.Left,{},void 0,qe("img",{style:gt.imgStaff,src:r.imageUrl,atl:""})),this.renderHeaderRight()),this.renderStaffBody()),this.renderPopupSelectTime())}}])&&Qe(n.prototype,i),a&&Qe(n,a),t}(),gt={test:{width:"80%",textAlign:"left",wordBreak:"break-all",marginLeft:10},imgStaff:{width:50,height:50,borderRadius:40},faCaretDown:{position:"absolute",right:5,top:9,width:17,height:17,color:"#333"},select:{width:123,height:40,borderWidth:1,borderColor:"#dddddd",borderStyle:"solid",marginLeft:10,fontWeight:300,paddingTop:12,position:"relative"},titleBody:{width:100,textAlign:"left",marginTop:8,fontSize:16},notes:{width:270,height:120,borderWidth:1,borderColor:"#dddddd",borderStyle:"solid",marginLeft:10,backgroundColor:"#FAFAFA",padding:10,reSize:"none"},btnSubmit:{textAlign:"center",padding:12,width:100,color:"#ffffff",backgroundColor:"#1B75C0",fontSize:16,fontWeight:"500",letterSpacing:.3,cursor:"pointer",borderRadius:3},bottom:{width:"100%",display:"flex",justifyContent:"center",marginTop:15},blockTime:{padding:10,display:"flex",flexDirection:"row",width:"100%",borderWidth:1,borderStyle:"solid",borderColor:"#dddddd",marginTop:10},blockHeader:{display:"flex",flexDirection:"row",marginBottom:10},workingDate:{fontWeight:300,color:"#6A6A6A"},timeBlock:{marginLeft:15,fontWeight:"600",color:"#333"},trash:{},trashButton:{width:"10%",position:"relative",cursor:"pointer",justifyContent:"center",alignItems:"center",display:"flex"},closeModal:{position:"absolute",right:5,top:5,cursor:"pointer"},headerRight:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"stretch"},title:{fontSize:18,fontWeight:"700",color:"#1266AE"},timeLogin:{fontWeight:"600",marginLeft:15},appointmentQuantity:{display:"flex",justifyContent:"space-between",alignItems:"stretch",flexDirection:"row"},note:{letterSpacing:.3}};function wt(e){return(wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n,r){ct||(ct="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:ct,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==wt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=St(Q.FaCaretLeft,{}),_t=St(Q.FaCaretRight,{}),Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xt(this,It(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){(0,this.props.loadMembers)()}},{key:"onPrevClick",value:function(e,t){t(e)}},{key:"onNextClick",value:function(e,t){t(e)}},{key:"afterSlide",value:function(e){var t=this.props.resources;this.props.setDisplayedMembers(t.slice(6*e,6*e+6)),this.props.renderAppointment(),this.props.setSlideIndex(e)}},{key:"onTodayClick",value:function(){this.props.onChangeToday(X()().format("DDMMYYYY"))}},{key:"getWorrkingTime",value:function(e,t){switch(X()(t).format("dddd")){case"Monday":if(e.workingTimes.Monday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Monday.timeStart," - ",e.workingTimes.Monday.timeEnd);case"Tuesday":if(e.workingTimes.Tuesday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Tuesday.timeStart," - ",e.workingTimes.Tuesday.timeEnd);case"Wednesday":if(e.workingTimes.Wednesday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Wednesday.timeStart," - ",e.workingTimes.Wednesday.timeEnd);case"Thursday":if(e.workingTimes.Thursday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Thursday.timeStart," - ",e.workingTimes.Thursday.timeEnd);case"Friday":if(e.workingTimes.Friday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Friday.timeStart," - ",e.workingTimes.Friday.timeEnd);case"Saturday":if(e.workingTimes.Saturday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Saturday.timeStart," - ",e.workingTimes.Saturday.timeEnd);case"Monday":if(e.workingTimes.Monday.isCheck)return St(Nt.WorkingTime,{},void 0,e.workingTimes.Monday.timeStart," - ",e.workingTimes.Monday.timeEnd)}}},{key:"openPincode",value:function(e){navigator.onLine?(this.props.togglePopupPincode(!0,e),this.props.disableCalendar(!0),this.props.getTimeStaffLogin(e.id)):alert("You must have an internet connection to perform this !")}},{key:"renderResource",value:function(e,t){var n=this,r=this.props,o=r.calendarMembers,i=r.currentDay;r.togglePopupPincode,o&&o.find(function(t){return t.memberId===e.id});return St(Nt,{onClick:function(){return n.openPincode(e)},active:parseInt(e.id)===parseInt(ue)},t,St(Nt.Avatar,{},void 0,St("img",{src:e.imageUrl,alt:e.orderNumber})),St(Nt.OrderNumber,{next:1===e.isNextAvailableStaff},void 0,e.orderNumber),St(Nt.WorkingTime,{},void 0,this.getWorrkingTime(e,i)),St(Nt.Title,{},void 0,e.title))}},{key:"renderResources",value:function(e,t){var n=this;return St(Et,{},t,e.map(function(e,t){return n.renderResource(e,t)}))}},{key:"renderLoadingResources",value:function(e){return St(Et,{},e,St(Nt,{}))}},{key:"renderCarouselSlide",value:function(){var e=this,t=this.props,n=t.loading,r=t.resources;return n?[1].map(function(t){return e.renderLoadingResources(t)}):r?function(e,t){for(var n=[],r=0;r<e.length;r+=1){var o=n[n.length-1];o&&o.length!==t?o.push(e[r]):n.push([e[r]])}return n}(r,6).map(function(t,n){return e.renderResources(t,n)}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.checkPinCode,r=t.popupPincode,i=t.togglePopupPincode,a=t.disableCalendar,c=t.PinStaff,s=t.calendarMembers,u=t.SubmitEditBlockTime,d=t.deleteBlockTime,p=t.currentDay;return St(o.a.Fragment,{},void 0,St(Tt,{},void 0,St(Pt,{},void 0,St(Pt.Button,{onClick:function(){return e.onTodayClick()}},void 0,"Today")),St(Dt,{},void 0,St(Z.a,{dragging:!0,renderBottomCenterControls:function(){return""},renderCenterLeftControls:function(t){var n=t.previousSlide;return St(jt,{onClick:function(t){return e.onPrevClick(t,n)}},void 0,At)},renderCenterRightControls:function(t){var n=t.nextSlide;return St(Mt,{onClick:function(t){return e.onNextClick(t,n)}},void 0,_t)},afterSlide:function(t){return e.afterSlide(t)}},void 0,this.renderCarouselSlide())),Yt),St(vt,{checkPinCode:n,popupPincode:r,togglePopupPincode:i,disableCalendar:a,staff:c,calendarMembers:s,SubmitEditBlockTime:u,deleteBlockTime:d,currentDay:p}))}}])&&kt(n.prototype,r),i&&kt(n,i),t}(),Tt=i.c.div.withConfig({displayName:"ResourceSelector__ResourceSelectorWrapper",componentId:"sc-1ww0b6w-0"})(["width:100%;height:4rem;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-top:2px solid #3883bb;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;"]),Pt=i.c.div.withConfig({displayName:"ResourceSelector__TodayWrapper",componentId:"sc-1ww0b6w-1"})(["width:calc(5.05rem - 2px);height:100%;text-align:center;padding:0.5rem;"]);Pt.Button=i.c.div.withConfig({displayName:"ResourceSelector__Button",componentId:"sc-1ww0b6w-2"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;"]);var Dt=i.c.div.withConfig({displayName:"ResourceSelector__ResourceSliderWrapper",componentId:"sc-1ww0b6w-3"})(["width:calc(100% - 5.05rem - (calc((100vw - 5.05rem) / 7)) + 1px);position:relative;"]),Et=i.c.div.withConfig({displayName:"ResourceSelector__ResourceWrapper",componentId:"sc-1ww0b6w-4"})(["height:calc(4rem - 2px);position:relative;border-left:1px solid #3883bb;display:flex;"]),Nt=i.c.div.withConfig({displayName:"ResourceSelector__Resource",componentId:"sc-1ww0b6w-5"})(["cursor:pointer;width:calc(100% / 6);padding:0.25rem;position:relative;border-right:1px solid #ddd;text-align:center;background-color:",";"],function(e){return e.active?"#1EB5F4":"#ffffff"});Nt.Avatar=i.c.div.withConfig({displayName:"ResourceSelector__Avatar",componentId:"sc-1ww0b6w-6"})(["padding:2px;cursor:pointer;& img{width:3rem;height:3rem;border-radius:50%;object-fit:cover;}"]),Nt.OrderNumber=i.c.div.withConfig({displayName:"ResourceSelector__OrderNumber",componentId:"sc-1ww0b6w-7"})(["position:absolute;top:2px;right:2px;background:",";width:18px;height:18px;border-radius:50%;color:#ffffff;padding:2px;font-size:11px;line-height:1.3;"],function(e){return e.next?"red":"#1073C2"}),Nt.WorkingTime=i.c.div.withConfig({displayName:"ResourceSelector__WorkingTime",componentId:"sc-1ww0b6w-8"})(["position:absolute;bottom:0;left:0;width:100%;opacity:0.75;text-align:center;padding-bottom:4px;padding-left:5px;font-size:7px;line-height:1.3;font-weight:500;color:",";background:",";"],function(e){return e.notWork?"#ffffff":""},function(e){return e.notWork?"red":"#ffffff"}),Nt.Title=i.c.div.withConfig({displayName:"ResourceSelector__Title",componentId:"sc-1ww0b6w-9"})(["position:absolute;bottom:13px;left:0;background:#ffffff;width:100%;opacity:0.75;text-align:center;padding-bottom:4px;font-size:0.85rem;line-height:1.3;font-weight:400;"]);var jt=i.c.div.withConfig({displayName:"ResourceSelector__PrevButton",componentId:"sc-1ww0b6w-10"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),Mt=i.c.div.withConfig({displayName:"ResourceSelector__NextButton",componentId:"sc-1ww0b6w-11"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),Yt=St(i.c.div.withConfig({displayName:"ResourceSelector__WaitingHeader",componentId:"sc-1ww0b6w-12"})(["width:calc((100vw - 5.05rem) / 7);text-align:center;line-height:64px;font-size:18px;color:#333333;background:#f4f4f5;border-left:1px solid #3883bb;"]),{},void 0,"Waiting");var Rt=n("54f683fcda7806277002"),Ft=n("b2363a9b9ad426a51c96"),Bt=n.n(Ft),Lt=n("74431d47afb6248fcb69"),Wt=n("6c68d13fe9e3e77d8fc4"),Ht=n("bd183afcc37eabd79225"),zt=n.n(Ht),Ut="app/Appointment/SELECT_DAY",Gt="app/Appointment/SELECT_WEEK",$t="app/Appointment/SELECT_DAY_CALENDAR",Kt="app/Appointment/SELECT_APPOINTMENT",Jt="app/Appointment/DESELECT_APPOINTMENT",Vt="app/Appointment/OPEN_ADDING_APPOINTMENT",qt="app/Appointment/CLOSE_ADDING_APPOINTMENT",Xt="App/LOAD_MEMBERS",Zt="App/LOAD_MEMBERS_SUCCESS",Qt="App/LOAD_MEMBERS_ERROR",en="App/SET_DISPLAYED_MEMBERS",tn="App/LOAD_WAITING_APPOINTMENT",nn="App/LOAD_WAITING_APPOINTMENT_SUCCESS",rn="App/ASSIGN_WAITING_APPOINTMENT_ERROR",on="App/LOAD_APPOINTMENTS_BY_MEMBERS",an="App/LOAD_APPOINTMENTS_BY_MEMBERS_SUCCESS",cn="App/LOAD_ALL_APPOINTMENTS",sn="App/LOAD_APPOINTMENTS_BY_MEMBERS_ERROR",un="App/ASSIGN_APPOINTMENT",dn="App/ASSIGN_APPOINTMENT_SUCCESS",pn="App/MOVE_APPOINTMENT",fn="App/MOVE_APPOINTMENT_SUCCESS",ln="App/MOVE_APPOINTMENT_ERROR",mn="App/PUT_BACK_APPOINTMENT",hn="App/PUT_BACK_APPOINTMENT_SUCCESS",yn="App/PUT_BACK_APPOINTMENT_ERROR",bn="app/Appointment/CANCEL_APPOINTMENT",vn="app/Appointment/CANCEL_APPOINTMENT_SUCCESS",gn="app/Appointment/CANCEL_APPOINTMENT_ERROR",wn="app/Appointment/UPDATE_STATUS_APPOINTMENT",Sn="app/Appointment/UPDATE_STATUS_APPOINTMENT_SUCCESS",kn="app/Appointment/UPDATE_STATUS_APPOINTMENT_ERROR",xn="app/Appointment/UPDATE_STATUS_APPOINTMENT_ERROR",In="app/Appointment/CHECK_PHONE_ADD_CUSTOMER",Cn="app/Appointment/CHECK_PHONE_ADD_CUSTOMER_SUCCESS",An="app/Appointment/CHECK_PHONE_ADD_CUSTOMER_ERROR",_n="app/Appointment/ADD_CUSTOMER",On="app/Appointment/ADD_CUSTOMER_SUCCESS",Tn="app/Appointment/ADD_CUSTOMER_ERROR",Pn="UPDATE_WAITING_APPOINTMENT",Dn="UPDATE_APPOINTMENT_STATUS",En="DISABLE_CALENDAR",Nn="LOADING_WAITING",jn="LOADING_CALENDAR",Mn="TIME_STAFFID",Yn="ADD_APPOINTMENT_TO_CALENDAR",Rn="DELETE_EVENT_WAITINGLIST",Fn="DELETE_EVENT_WAITINGLIST_SUCCESS",Bn="REMOVE_APPOINTMENT_WAITING",Ln="DELETE_WAITING_APPPOINTMENT",Wn="CHANGE_APPOINTMENT_TIME",Hn="CHANGE_APPOINTMENT_TIME_SUCCESS",zn="UPDATE_APPOINTMENT_OFFLINE",Un="LOAD_APPOINTMENT_AGAIN",Gn="ADD_APPOINTMENT_TO_WAITING",$n="ADD_APPOINTMENT_RELOAD_CALENDAR",Kn="ADD_APPOINTMENT_REALTIME",Jn="INFO_CHECK_PHONE",Vn="UPDATE_APPOINTMENT_PAID",qn="DELETE_APPOINTMENT_CALENDAR",Xn="UPDATE_STAFF",Zn="CHECKPINCODE",Qn="OPEN_PINCODE",er="UPDATE_NEXT_STAFF",tr="UPDATE_NEXT_STAFF_SUCCESS",nr="UPDATE_USER",rr="RENDER_APPOINTMEMT",or="UPDATE_APPOINTMENT_CALENDAR_FRONTEND",ir="SUBMIT_EDIT_BLOCKTIME",ar="DELETE_BLOCKTIME",cr="DELETE_BLOCKTIME_SUCCESSS",sr="GET_BLOCKTIME",ur="GET_BLOCKTIME_SUCCESS",dr="GET_APPOINTMENT_OFFLINE",pr="GET_WAITINGLIST_OFFLINE",fr="GET_APP_BY_ID",lr="GET_APP_BY_ID_SUCCESS",mr="GROUP_APPOINTMENT",hr="CHECKOUT",yr="UPDATE_APPOINTMENT_PAID_OFFLINE",br="GET_TIME_STAFF_LOGIN",vr="GET_TIME_STAFF_LOGIN_SUCCESS",gr="SET_SLIDE_INDEX";function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sr(e,t,n[t])})}return e}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e){return{type:Ut,day:e}}function xr(e){return{type:Gt,dayOfWeek:e}}function Ir(e){return{type:$t,day:e}}function Cr(){return{type:Jt}}function Ar(e){return{type:Vt,appointment:e}}function _r(){return{type:Xt}}function Or(e){return{type:Zt,members:e}}function Tr(e){return{type:en,members:e}}function Pr(e){return wr({type:tn},e)}function Dr(e){return{type:nn,appointments:e}}function Er(){return{type:on}}function Nr(e){return{type:an,appointments:e}}function jr(e){return{type:cn,appointments:e}}function Mr(e){return{type:sn,error:e}}function Yr(e){return wr({type:un},e)}function Rr(e,t,n,r){return{type:pn,appointmentId:e,newPositionIndex:t,newTime:n,newEndTime:r}}function Fr(e){return{type:fn,appointment:e}}function Br(e){return{type:ln,error:e}}function Lr(e){return{type:hn,appointment:e}}function Wr(e){return{type:vn,appointmentId:e}}function Hr(e){return{type:gn,error:e}}function zr(e){return{type:kn,error:e}}function Ur(e){return{type:Cn,phone:e}}function Gr(e){return{type:An,error:e}}function $r(e){return{type:On,customer:e}}var Kr=function(e){return{type:Pn,appointment:e}},Jr=function(e){return{type:Dn,appointment:e}},Vr=function(e){return{type:"UPDATE_APPOINTMENT_STATUS_ERROR",error:e}},qr=function(e){return{type:En,status:e}},Xr=function(e){return{type:Nn,status:e}},Zr=function(e){return{type:jn,status:e}},Qr=function(e){return{type:Mn,data:e}},eo=function(e){return{type:Yn,appointment:e}},to=function(e){return{type:Rn,appointment:e}},no=function(e){return{type:Bn,appointment:e}},ro=function(e){return{type:Ln,status:e}},oo=function(e){return{type:Wn,appointment:e}},io=function(e){return{type:zn,data:e}},ao=function(e){return{type:"UPDATE_APPOINTMENT_OFFLINE_SUCCESS",data:e}},co=function(e){return{type:Un,data:e}},so=function(e){return{type:Gn,data:e}},uo=function(e){return{type:$n,data:e}},po=function(e){return{type:Kn,data:e}},fo=function(e){return{type:Jn,data:e}},lo=function(e){return{type:Vn,appointment:e}},mo=function(e){return{type:qn,appointment:e}},ho=function(e){return{type:Xn,staff:e}},yo=function(e){return{type:Zn,pincode:e}},bo=function(e,t){return{type:Qn,data:e,pincode:t}},vo=function(){return{type:er}},go=function(){return{type:rr}},wo=function(e){return{type:nr,data:e}},So=function(e){return{type:or,data:e}},ko=function(e){return{type:ir,data:e}},xo=function(e){return{type:ar,data:e}},Io=function(e){return{type:cr,data:e}},Co=function(e){return{type:sr,data:e}},Ao=function(e){return{type:ur,data:e}},_o=function(e){return{type:mr,data:e}},Oo=function(e){return{type:hr,data:e}},To=function(e){return{type:yr,idAppointment:e}},Po=function(e){return{type:br,staffId:e}},Do=function(e){return{type:gr,slideIndex:e}};function Eo(e,t,n){return{status:"BLOCK",memberId:e,start:"".concat(X()(t).day(n).format("YYYY-MM-DD"),"T06:00:00"),end:"".concat(X()(t).day(n).format("YYYY-MM-DD"),"T23:00:00"),id:"",code:"",userFullName:"",phoneNumber:"",options:[],products:[],extras:[],notes:[]}}function No(e,t,n){return{status:"BLOCK",memberId:e,start:t,end:n,id:"",code:"",userFullName:"",phoneNumber:"",options:[],products:[],extras:[],notes:[]}}function jo(e,t,n,r){return{status:"BLOCK_TEMP",memberId:e,start:t,end:n,id:"",code:"",userFullName:"",phoneNumber:r,options:[],products:[],extras:[],notes:[]}}function Mo(e,t,n,r){switch(e.forEach(function(e){for(var o=t.find(function(t){return t.id===e.memberId}).blockTime.filter(function(e){return X()(e.workingDate).format("YYYY-MM-DD")===r}),i=0;i<o.length;i++){var a=e.memberId,c="".concat(X()(n).format("YYYY-MM-DD"),"T").concat(X()(o[i].blockTimeStart,["h:mm A"]).format("HH:mm:ss")),s="".concat(X()(n).format("YYYY-MM-DD"),"T").concat(X()(o[i].blockTimeEnd,["h:mm A"]).format("HH:mm:ss")),u=o[i].note;e.appointments.push(jo(a,c,s,u))}}),X()(n).format("dddd")){case"Monday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Monday.isCheck)e.appointments.push(Eo(e.memberId,n,"Monday"));else{var o=No(e.memberId,"".concat(X()(n).day("Monday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Monday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Monday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Monday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Monday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Monday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Tuesday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Tuesday.isCheck)e.appointments.push(Eo(e.memberId,n,"Tuesday"));else{var o=No(e.memberId,"".concat(X()(n).day("Tuesday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Tuesday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Tuesday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Tuesday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Tuesday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Tuesday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Wednesday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Wednesday.isCheck)e.appointments.push(Eo(e.memberId,n,"Wednesday"));else{var o=No(e.memberId,"".concat(X()(n).day("Wednesday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Wednesday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Wednesday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Wednesday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Wednesday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Wednesday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Thursday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Thursday.isCheck)e.appointments.push(Eo(e.memberId,n,"Thursday"));else{var o=No(e.memberId,"".concat(X()(n).day("Thursday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Thursday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Thursday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Thursday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Thursday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Thursday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Friday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Friday.isCheck)e.appointments.push(Eo(e.memberId,n,"Friday"));else{var o=No(e.memberId,"".concat(X()(n).day("Friday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Friday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Friday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Friday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Friday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Friday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Saturday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Saturday.isCheck)e.appointments.push(Eo(e.memberId,n,"Saturday"));else{var o=No(e.memberId,"".concat(X()(n).day("Saturday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Saturday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Saturday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Saturday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Saturday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Saturday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}});break;case"Sunday":e.forEach(function(e){var r=t.find(function(t){return t.id===e.memberId});if(!1===r.workingTimes.Sunday.isCheck)e.appointments.push(Eo(e.memberId,n,"Sunday"));else{var o=No(e.memberId,"".concat(X()(n).day("Sunday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Sunday.timeEnd,["h:mm A"]).format("HH:mm:ss")),"".concat(X()(n).day("Sunday").endOf("days").format("YYYY-MM-DD"),"T").concat(X()().endOf("days").subtract(1,"hours").add(1,"seconds").format("HH:mm:ss"))),i=No(e.memberId,"".concat(X()(n).day("Sunday").format("YYYY-MM-DD"),"T").concat(X()().startOf("days").add(6,"hours").format("HH:mm:ss")),"".concat(X()(n).day("Sunday").format("YYYY-MM-DD"),"T").concat(X()(r.workingTimes.Sunday.timeStart,["h:mm A"]).format("HH:mm:ss")));e.appointments.push(o,i)}})}}function Yo(){var e=X()(),t=X()().startOf("hours").add(15,"minutes"),n=X()().startOf("hours").add(30,"minutes"),r=X()().startOf("hours").add(45,"minutes"),o=X()().startOf("hours").add(60,"minutes");return e.isBefore(t)&&(e=t),e.isBetween(t,n)&&(e=n),e.isBetween(n,r)&&(e=r),e.isBetween(r,o)&&(e=o),e.format("YYYY-MM-DD HH:mm")}function Ro(e,t){var n=0;return e.options.forEach(function(e){n+=e.duration}),t.forEach(function(e){n+=e.duration}),n}function Fo(e,t){var n=0;return e.forEach(function(e){n+=parseInt(e.duration)}),t.forEach(function(e){n+=parseInt(e.duration)}),n}function Bo(e,t,n,r){var o;if("checkin"===e||"confirm"===e)if(parseInt(t)>parseInt(n)){var i=parseInt(t)-parseInt(n);o=X()(r).subtract(i,"minutes").format()}else{var a=parseInt(n)-parseInt(t);o=X()(r).add(a,"minutes").format()}else o=X()(r).add(n,"minutes").format();return o}function Lo(e,t,n,r,o,i,a,c,s,u){return"ASSIGNED"===e?{staffId:t,fromTime:n.start,toTime:n.end,status:r,services:n.options,products:n.products,extras:n.extras,notes:o}:{staffId:t,fromTime:i,toTime:a,status:r,services:c,products:s,extras:u,notes:o}}function Wo(e,t){var n=0;return t.options.forEach(function(e){n+=parseInt(e.duration)}),e.forEach(function(e){n+=parseInt(e.duration)}),n}function Ho(e,t,n,r,o,i,a,c,s){return{staffId:e.id,fromTime:t,toTime:n,status:"CHECKED_IN"===r.status?o:"unconfirm",services:i,products:a,extras:c,notes:s}}function zo(e,t,n,r,o,i){return{staffId:e,fromTime:t,toTime:n,status:"waiting",services:r,products:o,extras:i}}var Uo={result:"success",message:"Appointment successfully!"},Go=n("802cdb4f0b591dfd1229"),$o=n.n(Go),Ko=n("8b703812aa8ae3c41814");function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vo(e,t,n[t])})}return e}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Xo={header:!1,defaultView:"agendaDay",groupByResource:!0,editable:!0,eventResourceEditable:!0,droppable:!0,height:"parent",allDaySlot:!1,nowIndicator:!0,selectable:!0,slotLabelFormat:"hh:mm A",slotDuration:"00:15:00",eventOverlap:!0,minTime:"06:00:00",maxTime:"23:00:00",timezone:"local",longPressDelay:200,resources:[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5}],schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",select:function(e,t,n,r,o){var i=!1,a=Ko.store.getState().getIn(["appointment","appointments","calendar"])[o.id];a.appointments.forEach(function(t){"BLOCK_TEMP"===t.status&&X()(t.start).isSameOrBefore(X()(e))&&X()(t.end).isAfter(X()(e))&&(i=!0)});var c=Ko.store.getState().getIn(["appointment","members","displayed"]),s="",u="",d="",p=Ko.store.getState().getIn(["appointment","currentDay"]);switch(X()(p).format("dddd")){case"Monday":c[o.id]&&(s="".concat(X()(p).day("Monday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Monday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Monday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Monday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Monday.isCheck);break;case"Tuesday":c[o.id]&&(s="".concat(X()(p).day("Tuesday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Tuesday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Tuesday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Tuesday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Tuesday.isCheck);break;case"Wednesday":c[o.id]&&(s="".concat(X()(p).day("Wednesday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Wednesday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Wednesday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Wednesday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Wednesday.isCheck);break;case"Thursday":c[o.id]&&(s="".concat(X()(p).day("Thursday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Thursday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Thursday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Thursday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Thursday.isCheck);break;case"Friday":c[o.id]&&(s="".concat(X()(p).day("Friday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Friday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Friday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Friday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Friday.isCheck);break;case"Saturday":c[o.id]&&(s="".concat(X()(p).day("Saturday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Saturday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day("Saturday").format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Saturday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Saturday.isCheck);break;case"Sunday":c[o.id]&&(s="".concat(X()(p).day(0).format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Sunday.timeEnd,["h:mm A"]).format("HH:mm:ss")),u="".concat(X()(p).day(0).format("YYYY-MM-DD"),"T").concat(X()(c[o.id].workingTimes.Sunday.timeStart,["h:mm A"]).format("HH:mm:ss")),d=c[o.id].workingTimes.Sunday.isCheck)}var f=X()(e._d.toString().substr(0,24));d&&!1===i&&X()(f).isBefore(s)&&X()(f).isSameOrAfter(u)&&(Ko.store.dispatch(qr(!0)),Ko.store.dispatch(Ar({})),Ko.store.dispatch(Qr({time:f,staffID:a.memberId})))},eventClick:function(e){var t=Ko.store.getState().getIn(["appointment","appointments","calendar"]).find(function(t){return t.appointments.find(function(t){return t.id===e.data.id})});if(t){var n=t.appointments.find(function(t){return t.id===e.data.id});if(n)Ko.store.dispatch(function(e,t){return{type:Kt,appointment:e,fcEvent:t}}(n,e)),Ko.store.dispatch({type:fr,data:n}),Ko.store.dispatch(qr(!0))}},drop:function(e,t,n,r){var o=this,i=$o()(this).data().event.data,a=0;i.options.forEach(function(e){a+=e.duration});var c="".concat(e.format("YYYY-MM-DD"),"T").concat(e.format("HH:mm:ss")),s=i.options.length>0?X()(c).add(a,"minutes"):X()(c).add(90,"minutes"),u=Ko.store.getState().getIn(["appointment","appointments","calendar"]),d=!0,p=JSON.parse(JSON.stringify(u));p.forEach(function(e){delete e.memberId});var f=Ko.store.getState().getIn(["appointment","members","displayed"]),l=[];p.forEach(function(e){l=[].concat(qo(l),qo(e.appointments))});var m="",h=!1,y="",b=f.findIndex(function(e){return parseInt(e.resourceId)===parseInt(r)});if(-1!==b){var v=Ko.store.getState().getIn(["appointment","currentDay"]);switch(X()(v).format("dddd")){case"Monday":m=f[parseInt(r)].workingTimes.Monday.isCheck,y=f[parseInt(r)].workingTimes.Monday.timeStart,f[parseInt(r)].workingTimes.Monday.timeEnd;break;case"Tuesday":m=f[parseInt(r)].workingTimes.Tuesday.isCheck,y=f[parseInt(r)].workingTimes.Tuesday.timeStart,f[parseInt(r)].workingTimes.Tuesday.timeEnd;break;case"Wednesday":m=f[parseInt(r)].workingTimes.Wednesday.isCheck,y=f[parseInt(r)].workingTimes.Wednesday.timeStart,f[parseInt(r)].workingTimes.Wednesday.timeEnd;break;case"Thursday":m=f[parseInt(r)].workingTimes.Thursday.isCheck,y=f[parseInt(r)].workingTimes.Thursday.timeStart,f[parseInt(r)].workingTimes.Thursday.timeEnd;break;case"Friday":m=f[parseInt(r)].workingTimes.Friday.isCheck,y=f[parseInt(r)].workingTimes.Friday.timeStart,f[parseInt(r)].workingTimes.Friday.timeEnd;break;case"Saturday":m=f[parseInt(r)].workingTimes.Saturday.isCheck,y=f[parseInt(r)].workingTimes.Saturday.timeStart,f[parseInt(r)].workingTimes.Saturday.timeEnd;break;case"Sunday":m=f[parseInt(r)].workingTimes.Sunday.isCheck,y=f[parseInt(r)].workingTimes.Sunday.timeStart,f[parseInt(r)].workingTimes.Sunday.timeEnd}}f[parseInt(r)]&&m?l.forEach(function(e){parseInt(e.memberId)===parseInt(f[parseInt(r)].id)&&(X()(c).isBetween(e.start,e.end)||X()(s).isBetween(e.start,e.end)||X()(e.start).isBetween(c,s)||X()(e.end).isBetween(c,s))&&parseInt(e.id)!==parseInt(i.id)&&(d="BLOCK_TEMP"===e.status&&1)}):d=!1;var g=!0,w="".concat(e.format("YYYY-MM-DD"),"T").concat(e.format("HH:mm:ss"));X()(w).isBefore("".concat(X()().format("YYYY-MM-DD"),"T").concat(X()(y,["h:mm A"]).format("HH:mm:ss")))&&(g=!1),m&&(h=!0),-1===b||!1===h||!1===g||1===d?$o()("#full-calendar").fullCalendar("removeEvents",function(e){return e.data.id===$o()(o).data().event.data.id}):!1===d&&0!==f[parseInt(r)].orderNumber?window.confirm("Are you sure want to assign appointment at this position ?")?Ko.store.dispatch(Yr({eventData:Jo({},i,{status:"CHECKED_IN",start:"".concat(e.format("YYYY-MM-DD"),"T").concat(e.format("HH:mm:ss")),end:i.end.toString().substr(0,19)}),resourceId:r})):$o()("#full-calendar").fullCalendar("removeEvents",function(e){return e.data.id===$o()(o).data().event.data.id}):Ko.store.dispatch(Yr({eventData:Jo({},i,{status:"CHECKED_IN",start:"".concat(e.format("YYYY-MM-DD"),"T").concat(e.format("HH:mm:ss")),end:i.end.toString().substr(0,19)}),resourceId:r}))},eventDrop:function(e,t,n,r,o,i){var a=e.start,c=e.end,s=!0,u=Ko.store.getState().getIn(["appointment","appointments","calendar"]),d=JSON.parse(JSON.stringify(u));d.forEach(function(e){delete e.memberId});var p=Ko.store.getState().getIn(["appointment","members","displayed"]),f=Ko.store.getState().getIn(["appointment","currentDay"]),l="";if(p[parseInt(e.resourceId)])switch(X()(f).format("dddd")){case"Monday":l=p[parseInt(e.resourceId)].workingTimes.Monday.isCheck;break;case"Tuesday":l=p[parseInt(e.resourceId)].workingTimes.Tuesday.isCheck;break;case"Wednesday":l=p[parseInt(e.resourceId)].workingTimes.Wednesday.isCheck;break;case"Thursday":l=p[parseInt(e.resourceId)].workingTimes.Thursday.isCheck;break;case"Friday":l=p[parseInt(e.resourceId)].workingTimes.Friday.isCheck;break;case"Saturday":l=p[parseInt(e.resourceId)].workingTimes.Saturday.isCheck;break;case"Sunday":l=p[parseInt(e.resourceId)].workingTimes.Sunday.isCheck}else s=!1;var m=[];d.forEach(function(e){m=[].concat(qo(m),qo(e.appointments))}),p[parseInt(e.resourceId)]&&l?m.forEach(function(t){parseInt(t.memberId)===parseInt(p[parseInt(e.resourceId)].id)&&(X()(a).isBetween(t.start,t.end)||X()(c).isBetween(t.start,t.end)||X()(t.start).isBetween(a,c)||X()(t.end).isBetween(a,c))&&parseInt(t.id)!==parseInt(e.data.id)&&(s="BLOCK_TEMP"===t.status&&1)}):s=!1;var h=e.resourceId;if(-1===p.findIndex(function(e){return parseInt(e.resourceId)===parseInt(h)})||"PAID"===e.data.status||1===s)n();else{var y="".concat(e.start.format("YYYY-MM-DD"),"T").concat(e.start.format("HH:mm:ss")),b=null!==e.end?"".concat(e.end.format("YYYY-MM-DD"),"T").concat(e.end.format("HH:mm:ss")):X()(y).add(90,"minutes").format("YYYY-MM-DD HH:mm:ss");!1===s?window.confirm("Accept overlapping appointments ?")?Ko.store.dispatch(Rr(e.data.id,e.resourceId,y,b)):n():Ko.store.dispatch(Rr(e.data.id,e.resourceId,y,b))}},eventDragStop:function(e,t){var n,r=$o()("#drag-zone");if(t){var o=r.offset(),i=o.left,a=o.left+r.outerWidth(!0),c=o.top,s=o.top+r.outerHeight(!0);if(t.pageX>=i&&t.pageX<=a&&t.pageY>=c&&t.pageY<=s){$o()("#full-calendar").fullCalendar("removeEvents",e._id);var u=Ko.store.getState().getIn(["appointment","appointments","calendar"])[e.resourceId];Ko.store.dispatch((n=Jo({},e.data,{memberId:u.memberId}),{type:mn,appointment:n}))}}},eventRender:function(e,t){t[0].innerHTML=function(e){return'\n  <div class="app-event">\n    <div class="app-event__id-number">'.concat(e.code,'</div>\n    <div class="app-event__full-name">').concat(e.userFullName,'</div>\n    <div class="app-event__phone-number">&nbsp ').concat(ie(e.phoneNumber),"</div>\n\t").concat(e.options.map(function(e){return function(e){return'<div class="app-event__option">- '.concat(e.serviceName,"</div>")}(e)}).join(""),"\n\t").concat(e.products.map(function(e){return function(e){return'<div class="app-event__option">- '.concat(e.productName,"</div>")}(e)}).join(""),"\n\t").concat(e.extras.map(function(e){return function(e){return'<div class="app-event__option">- '.concat(e.extraName,"</div>")}(e)}).join(""),"\n  </div>\n")}(e.data)},resourceRender:function(e,t){t[0].innerHTML=""}},Zo=function(e,t){$o()("#full-calendar").fullCalendar("gotoDate",e),$o()("#full-calendar").fullCalendar("removeEvents");var n=[];t.forEach(function(e,t){e.appointments.forEach(function(e){var r="#00b4f7",o="event-paid";"ASSIGNED"===e.status&&(r="#FFFD71",o="event-assigned"),"CONFIRMED"===e.status&&(r="#baedf7",o="event-confirmed"),"CHECKED_IN"===e.status&&(r="#00b4f7",o="event-checkin"),"PAID"===e.status&&(r="#00dc00",o="event-paid"),"BLOCK"===e.status&&(r="#DDDDDD",o="event-block"),"BLOCK_TEMP"===e.status&&(r="yellow",o="event-block-temp"),n.push({resourceId:t,start:e.start,end:e.end,data:e,color:r,rendering:"BLOCK"===e.status||"BLOCK_TEMP"===e.status?"background":"",className:o,startEditable:!("PAID"===e.status),resourceEditable:!("PAID"===e.status)})})}),$o()("#full-calendar").fullCalendar("renderEvents",n)},Qo=function(e){$o()("#full-calendar").fullCalendar("removeEvents",[e])},ei=function(e){var t,n=!0,r=!0,o="",i=e.status;"ASSIGNED"===i&&(t="#FFFD71",o="event-assigned"),"CONFIRMED"===i&&(t="#baedf7",o="event-confirmed"),"CHECKED_IN"===i&&(t="#00b4f7",o="event-checkin"),"PAID"===i&&(t="#00dc00",o="event-paid",n=!1,r=!1);var a={resourceId:Ko.store.getState().getIn(["appointment","members","displayed"]).findIndex(function(t){return t.id===e.memberId}),start:e.start,end:e.end,data:e,color:t,className:o,startEditable:n,resourceEditable:r};$o()("#full-calendar").fullCalendar("addEventSource",[a])};function ti(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ri(e,t,n[t])})}return e}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=regeneratorRuntime.mark(ia),ii=regeneratorRuntime.mark(aa),ai=regeneratorRuntime.mark(ca),ci=regeneratorRuntime.mark(sa),si=regeneratorRuntime.mark(ua),ui=regeneratorRuntime.mark(da),di=regeneratorRuntime.mark(pa),pi=regeneratorRuntime.mark(fa),fi=regeneratorRuntime.mark(la),li=regeneratorRuntime.mark(ma),mi=regeneratorRuntime.mark(ha),hi=regeneratorRuntime.mark(ya),yi=regeneratorRuntime.mark(ba),bi=regeneratorRuntime.mark(va),vi=regeneratorRuntime.mark(ga),gi=regeneratorRuntime.mark(wa),wi=regeneratorRuntime.mark(Sa),Si=regeneratorRuntime.mark(ka),ki=regeneratorRuntime.mark(xa),xi=regeneratorRuntime.mark(Ia),Ii=regeneratorRuntime.mark(Ca),Ci=regeneratorRuntime.mark(Aa),Ai=regeneratorRuntime.mark(_a),_i=regeneratorRuntime.mark(Oa),Oi=regeneratorRuntime.mark(Ta),Ti=regeneratorRuntime.mark(Pa),Pi=regeneratorRuntime.mark(Da),Di=regeneratorRuntime.mark(Ea),Ei=regeneratorRuntime.mark(Na),Ni=regeneratorRuntime.mark(ja),ji=regeneratorRuntime.mark(Ma),Mi=regeneratorRuntime.mark(Ya),Yi=regeneratorRuntime.mark(Ra),Ri=regeneratorRuntime.mark(Fa),Fi=regeneratorRuntime.mark(Ba),Bi=regeneratorRuntime.mark(La),Li=regeneratorRuntime.mark(Wa),Wi=regeneratorRuntime.mark(Ha),Hi=regeneratorRuntime.mark(za),zi=regeneratorRuntime.mark(Ua),Ui=regeneratorRuntime.mark(Ga),Gi=regeneratorRuntime.mark($a),$i=regeneratorRuntime.mark(Ka),Ki=regeneratorRuntime.mark(Ja),Ji=regeneratorRuntime.mark(Va),Vi=regeneratorRuntime.mark(qa),qi=regeneratorRuntime.mark(Xa),Xi=regeneratorRuntime.mark(Za),Zi=regeneratorRuntime.mark(Qa),Qi=regeneratorRuntime.mark(ec),ea=regeneratorRuntime.mark(tc),ta={unconfirm:"ASSIGNED",confirm:"CONFIRMED",checkin:"CHECKED_IN",paid:"PAID",waiting:"WAITING",cancel:"CANCEL",pending:"PENDING"},na=function(e){return{id:e.appointmentId,code:"#".concat(e.code),userFullName:e.firstName+" "+e.lastName,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,options:e.services.sort(function(e,t){var n=e.bookingServiceId;return t.bookingServiceId-n}),products:e.products.sort(function(e,t){var n=e.bookingProductId;return t.bookingProductId-n}),extras:e.extras.sort(function(e,t){var n=e.bookingExtraId;return t.bookingExtraId-n}),status:ta[e.status],memberId:e.staffId,start:e.fromTime,end:e.toTime,user_id:e.userId,createDate:e.createdDate,tipPercent:e.tipPercent,tipAmount:e.tipAmount,subTotal:e.subTotal,total:e.total,tax:e.tax,discount:e.discount,giftCard:e.giftCard,giftCards:e.giftCards?e.giftCards:[],notes:e.notes?e.notes.sort(function(e,t){var n=e.appointmentNoteId;return t.appointmentNoteId-n}):[]}},ra=function(e){return{id:e.staffId,title:"".concat(e.displayName),imageUrl:e.imageUrl&&"".concat(e.imageUrl)||"".concat(le,"/").concat("/upload/staff/avatar.svg"),orderNumber:e.orderNumber,workingTimes:e.workingTimes,isDisabled:e.isDisabled,pincode:e.pin,isNextAvailableStaff:e.isNextAvailableStaff,blockTime:e.blockTime?e.blockTime:[],timeLogin:0}},oa={ASSIGNED:"unconfirm",CONFIRMED:"confirm",CHECKED_IN:"checkin",PAID:"paid",WAITING:"waiting",CANCEL:"cancel"};function ia(){var e,t,n,r,o,i,a;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!0!==navigator.onLine){c.next=30;break}return c.prev=1,e=new URL("".concat(me)),c.next=5,Object(Wt.d)(lc());case 5:return t=c.sent,n="".concat(e.toString()).concat(t.format("YYYY-MM-DD")),c.next=9,ae(n,"","GET",ce);case 9:if(1!==(r=c.sent).codeStatus){c.next=22;break}return o=r.data?r.data.map(function(e){return ra(e)}).filter(function(e){return 0===e.isDisabled}):[],c.next=14,Object(Wt.d)(wc());case 14:return i=c.sent,localStorage.setItem("staffList",JSON.stringify(o)),c.next=18,Object(Wt.c)(Or(o));case 18:return c.next=20,Object(Wt.c)(Tr(o.slice(6*i,6*i+6)));case 20:return c.next=22,Object(Wt.c)(Er());case 22:c.next=28;break;case 24:return c.prev=24,c.t0=c.catch(1),c.next=28,Object(Wt.c)((s=c.t0,{type:Qt,error:s}));case 28:c.next=37;break;case 30:return a=JSON.parse(localStorage.getItem("staffList")),c.next=33,Object(Wt.c)(Or(a));case 33:return c.next=35,Object(Wt.c)(Tr(a.slice(0,6)));case 35:return c.next=37,Object(Wt.c)(Er());case 37:case"end":return c.stop()}var s},oi,null,[[1,24]])}function aa(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return alert(e.data.message),t.next=3,Object(Wt.c)(_r());case 3:return t.next=5,Object(Wt.c)(Pr());case 5:return t.next=7,Object(Wt.c)(Er());case 7:return t.abrupt("return");case 8:case"end":return t.stop()}},ii)}function ca(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},ai)}function sa(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},ci)}function ua(){var e,t,n,r,o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!navigator.onLine){a.next=26;break}return a.prev=1,a.next=4,Object(Wt.c)(Xr(!0));case 4:return e=new URL(ye),t=(new Date).getTimezoneOffset(),n="".concat(e.toString(),"&timezone=").concat(t),a.next=9,ae(n.toString(),"","GET",ce);case 9:return r=a.sent,a.next=12,Object(Wt.c)(Xr(!1));case 12:return o=r&&r.data.map(function(e){return na(e)}).filter(function(e){return X()(e.start).format("YYYY-MM-DD hh:mm A")!==X()(e.end).format("YYYY-MM-DD hh:mm A")}),localStorage.setItem("AppointmentWaiting",JSON.stringify(o)),a.next=16,Object(Wt.c)(Dr(o));case 16:a.next=24;break;case 18:return a.prev=18,a.t0=a.catch(1),a.next=22,Object(Wt.c)(Xr(!1));case 22:return a.next=24,Object(Wt.c)((c=a.t0,{type:rn,error:c}));case 24:a.next=31;break;case 26:return i=JSON.parse(localStorage.getItem("AppointmentWaiting")),a.next=29,Object(Wt.c)(Dr(i));case 29:return a.next=31,Object(Wt.c)(Xr(!1));case 31:case"end":return a.stop()}var c},si,null,[[1,18]])}function da(){var e,t,n,r,o,i,a,c;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(Wt.d)(hc());case 3:return t=s.sent,s.next=6,Object(Wt.d)(lc());case 6:if(n=s.sent,r=n.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),!navigator.onLine){s.next=24;break}return s.next=11,Object(Wt.c)(Zr(!0));case 11:return s.next=13,Object(Wt.c)(Co());case 13:return o=new URL(he),i="".concat(o.toString(),"/").concat(r),s.next=17,ae(i.toString(),"","GET",ce);case 17:return a=s.sent,e=a&&a.data.map(function(e){return na(e)}).filter(function(e){return X()(e.start).format("YYYY-MM-DD hh:mm A")!==X()(e.end).format("YYYY-MM-DD hh:mm A")}),r===X()().format("YYYY-MM-DD")&&localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),s.next=22,Object(Wt.c)(Zr(!1));case 22:s.next=25;break;case 24:e=JSON.parse(localStorage.getItem("AppointmentCalendar"));case 25:return Mo(c=t.map(function(t){return{memberId:t.id,appointments:e.filter(function(e){return e.memberId===t.id&&"CANCEL"!==e.status&&"WAITING"!==e.status&&"PENDING"!==e.status&&void 0!==e.status})}}),t,n,r),s.next=29,Object(Wt.c)(Nr(c));case 29:return s.next=31,Object(Wt.c)(jr(e));case 31:navigator.onLine?Zo(n,c):setTimeout(function(){Zo(n,c)},1e3),s.next=38;break;case 34:return s.prev=34,s.t0=s.catch(0),s.next=38,Object(Wt.c)(Mr(s.t0));case 38:case"end":return s.stop()}},ui,null,[[0,34]])}function pa(){var e,t,n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(Wt.d)(hc());case 3:return e=i.sent,i.next=6,Object(Wt.d)(yc());case 6:return t=i.sent,i.next=9,Object(Wt.d)(lc());case 9:return n=i.sent,r=n.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),Mo(o=e.map(function(e){return{memberId:e.id,appointments:t.filter(function(t){return t.memberId===e.id&&"CANCEL"!==t.status&&"WAITING"!==t.status&&"PENDING"!==t.status&&void 0!==t.status})}}),e,n,r),i.next=15,Object(Wt.c)(Nr(o));case 15:Zo(n,o),i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(0),i.next=22,Object(Wt.c)(Mr(i.t0));case 22:case"end":return i.stop()}},di,null,[[0,18]])}function fa(e){var t,n,r,o,i,a,c,s,u,d,p,f,l,m,h,y,b,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(Wt.d)(hc());case 2:return t=g.sent,g.next=5,Object(Wt.d)(bc());case 5:if(n=g.sent,r=t[e.newPositionIndex],o=n.find(function(t){return t.appointments.find(function(t){return t.id===e.appointmentId})})){g.next=11;break}return g.next=11,Object(Wt.c)(Br("Cannot find previous position."));case 11:if(i=o.appointments.find(function(t){return t.id===e.appointmentId})){g.next=15;break}return g.next=15,Object(Wt.c)(Br("Cannot find moved appointment."));case 15:return"CHECKED_IN"!==(a=ni({},i,{start:e.newTime,end:e.newEndTime,memberId:r.id})).status&&(a.status="ASSIGNED"),"CHECKED_IN"===a.status&&(c=X()(a.start).diff(X()(i.start),"minutes"),a.status=c<45&&c>=0||c<0&&c>-45?"CHECKED_IN":"CONFIRMED"),s=a.memberId,u=a.start,d=a.end,p=a.status,f=a.options,l=a.products,m=a.extras,h={staffId:s,fromTime:u,toTime:d,status:oa[p],services:f,products:l,extras:m},g.prev=20,y=new URL(be),b="".concat(y.toString(),"/").concat(a.id),g.next=25,ae(b,h,"PUT",ce);case 25:if(1===(v=g.sent).codeStatus){g.next=29;break}return g.delegateYield(aa(v),"t0",28);case 28:return g.abrupt("return",g.t0);case 29:if(1!==v.codeStatus){g.next=34;break}return g.next=32,Object(Wt.c)(Fr(a));case 32:return g.next=34,Object(Wt.c)(So({appointment:h,id:a.id}));case 34:g.next=42;break;case 36:return g.prev=36,g.t1=g.catch(20),g.next=40,Object(Wt.c)(So({appointment:h,id:a.id}));case 40:return g.next=42,Object(Wt.c)(go());case 42:case"end":return g.stop()}},pi,null,[[20,36]])}function la(e){var t,n,r,o,i,a,c,s,u,d,p;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,t=e.appointment,n=t.memberId,r=t.start,o=t.end,i=t.options,a=t.products,c=t.extras,s=new URL(be),u="".concat(s.toString(),"/").concat(t.id),f.next=7,Object(Wt.c)(Lr(e.appointment));case 7:return d=zo(n,r,o,i,a,c),f.prev=8,f.next=11,ae(u,d,"PUT",ce);case 11:if(1===(p=f.sent).codeStatus){f.next=15;break}return f.delegateYield(aa(p),"t0",14);case 14:return f.abrupt("return",f.t0);case 15:p.codeStatus,f.next=20;break;case 18:f.prev=18,f.t1=f.catch(8);case 20:f.next=26;break;case 22:return f.prev=22,f.t2=f.catch(0),f.next=26,Object(Wt.c)((l=f.t2,{type:yn,error:l}));case 26:case"end":return f.stop()}var l},fi,null,[[0,22],[8,18]])}function ma(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Wt.d)(vc());case 2:if(t=r.sent){r.next=6;break}return r.next=6,Object(Wt.c)(Hr("Cannot find selected fcEvent"));case 6:return r.prev=6,r.next=9,Object(Lt.b)(200);case 9:if(!(n=Uo)){r.next=18;break}return r.next=13,Object(Wt.c)(Wr(e.appointmentId));case 13:return Qo(t._id),r.next=16,Object(Wt.c)(Cr());case 16:r.next=20;break;case 18:return r.next=20,Object(Wt.c)(Hr(n));case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r.catch(6),r.next=26,Object(Wt.c)(Hr(r.t0));case 26:case"end":return r.stop()}},li,null,[[6,22]])}function ha(e){var t,n,r,o,i,a,c,s,u,d,p,f,l,m,h;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Object(Wt.d)(hc());case 2:return t=y.sent,n=t[e.resourceId],r=ni({},e.eventData,{memberId:n.id}),y.prev=5,y.next=8,Object(Wt.c)(no(r));case 8:return o=r.memberId,i=r.start,a=r.status,c=r.options,s=r.products,u=r.extras,d=Wo(u,r),y.next=12,Object(Wt.c)(eo({appointment:r,new_end_time:d>0?X()(i).add(d,"minutes").format().substr(0,19):X()(i).add(15,"minutes").format().substr(0,19),memberId:r.memberId}));case 12:return p={staffId:o,fromTime:i,toTime:d>0?X()(i).add(d,"minutes").format().substr(0,19):X()(i).add(15,"minutes").format().substr(0,19),status:oa[a],services:c,products:s,extras:u},f={data:ni({},p,{id:r.id}),action:"updateAppointmemtOffline"},window.postMessage(f),l=new URL(be),m="".concat(l.toString(),"/").concat(r.id),y.next=19,ae(m,p,"PUT",ce);case 19:if(1===(h=y.sent).codeStatus){y.next=23;break}return y.delegateYield(aa(h),"t0",22);case 22:return y.abrupt("return",y.t0);case 23:h.codeStatus,y.next=28;break;case 26:y.prev=26,y.t1=y.catch(5);case 28:case"end":return y.stop()}},mi,null,[[5,26]])}function ya(e){var t,n,r,o,i,a,c,s,u,d,p,f,l,m,h,y,b,v,g,w,S,k,x,I,C;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,Object(Wt.d)(vc());case 3:if(t=A.sent){A.next=7;break}return A.next=7,Object(Wt.c)(zr("Cannot find selected fcEvent"));case 7:if(n=e.appointment,r=n.appointment,o=n.status,i=n.old_duration,a=n.servicesUpdate,c=n.productsUpdate,s=n.notes,u=n.old_status,d=n.old_appointment,p=n.extrasUpdate,f=r.end,l=r.start,m=r.extras,h=r.memberId,y=Fo(a,m),b=Bo(o,i,y,f),"cancel"!==o){A.next=30;break}return A.next=14,Object(Wt.c)(Wr(r.id));case 14:return Qo(t._id),A.next=17,Object(Wt.c)(Cr());case 17:return A.next=19,Object(Wt.c)(mo(r));case 19:return A.next=21,Object(Wt.c)(go());case 21:return v=new URL(ve),g="".concat(v,"/").concat(r.id),A.next=25,ae(g,{status:o},"PUT",ce);case 25:if(1===(w=A.sent).codeStatus){A.next=29;break}return A.delegateYield(aa(w),"t0",28);case 28:return A.abrupt("return",A.t0);case 29:w.codeStatus;case 30:return S=[],s.forEach(function(e){S.push({note:e.note})}),k=Lo(u,h,d,o,S,l,b,a,c,p),A.next=35,Object(Wt.c)(So({appointment:k,id:r.id}));case 35:return A.next=37,Object(Wt.c)(go());case 37:return x=new URL(be),I="".concat(x,"/").concat(r.id),A.next=41,ae(I,k,"PUT",ce);case 41:if(1===(C=A.sent).codeStatus){A.next=45;break}return A.delegateYield(aa(C),"t1",44);case 44:return A.abrupt("return",A.t1);case 45:C.codeStatus,A.next=52;break;case 48:return A.prev=48,A.t2=A.catch(0),A.next=52,Object(Wt.c)(Vr(A.t2));case 52:case"end":return A.stop()}},hi,null,[[0,48]])}function ba(e){var t,n,r,o,i,a,c,s,u,d,p,f,l,m,h,y,b,v,g;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=function(e,n,r,o,i,a,c,s,u,d,p){var f,l,m,h,y,b,g,w;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Wt.c)(Wr(e.id));case 2:return Qo(n._id),t.next=5,Object(Wt.c)(Cr());case 5:return f=ni({},e,{memberId:p.id}),l=[],u.forEach(function(e){l.push({note:e.note})}),m="confirm",((h=X()(r).diff(X()(d),"minutes"))<45&&h>=0||h<0&&h>-45)&&(m="checkin"),y=Ho(p,r,o,f,m,a,c,s,l),t.next=14,Object(Wt.c)(So({appointment:ni({},y,{toTime:X()(y.fromTime).add(v(y.services,y.extras),"minutes")}),id:f.id}));case 14:return t.next=16,Object(Wt.c)(go());case 16:return t.prev=16,b=new URL(be),g="".concat(b.toString(),"/").concat(f.id),t.next=21,ae(g,y,"PUT",ce);case 21:if(1===(w=t.sent).codeStatus){t.next=25;break}return t.delegateYield(aa(kq),"t0",24);case 24:return t.abrupt("return",t.t0);case 25:w.codeStatus,t.next=34;break;case 28:return t.prev=28,t.t1=t.catch(16),t.next=32,Object(Wt.c)(So({appointment:ni({},y,{toTime:X()(y.fromTime).add(v(y.services,y.extras),"minutes")}),id:f.id}));case 32:return t.next=34,Object(Wt.c)(go());case 34:case"end":return t.stop()}},t,null,[[16,28]])},v=function(e,t){var n=0;return e.forEach(function(e){n+=e.duration}),t.forEach(function(e){n+=e.duration}),n},t=regeneratorRuntime.mark(g),w.prev=3,w.next=6,Object(Wt.d)(vc());case 6:if(n=w.sent){w.next=10;break}return w.next=10,Object(Wt.c)(zr("Cannot find selected fcEvent"));case 10:if(r=e.appointment,o=r.appointment,i=r.dayPicker,a=r.fromTime,c=r.notes,s=r.selectedStaff,u=r.servicesUpdate,d=r.productsUpdate,p=r.extrasUpdate,f=o.memberId,o.options,o.products,l=o.extras,o.id,m=o.start,h=Ro(o,l),y="".concat(X()(i).format("YYYY-MM-DD"),"T").concat(X()(a).format("HH:mm")),b=h>0?X()(y).add(h,"minutes").format("YYYY-MM-DD HH:mm"):X()(y).add(15,"minutes").format("YYYY-MM-DD HH:mm"),!window.confirm("Accept changes ?")){w.next=17;break}return w.delegateYield(g(o,n,y,b,f,u,d,p,c,m,s),"t0",17);case 17:w.next=23;break;case 19:return w.prev=19,w.t1=w.catch(3),w.next=23,Object(Wt.c)(Vr(w.t1));case 23:case"end":return w.stop()}},yi,null,[[3,19]])}function va(e){var t,n,r,o,i,a,c,s,u,d,p,f,l,m,h,y,b,v,g,w,S,k,x,I,C,A,_,O,T,P,D,E,N,j,M;return regeneratorRuntime.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(Y.prev=0,t=e.customer,n=t.first_name,r=t.last_name,o=t.phone,i=t.staffID,a=t.time,c=t.refPhone,s=t.note,u=t.email,!1!==navigator.onLine){Y.next=5;break}return window.postMessage(JSON.stringify({first_name:n,last_name:r,phone:o,staffID:i,time:a,refPhone:c,note:s,email:u,action:"signinAppointmentOffLine"})),Y.abrupt("return");case 5:return Y.next=7,Object(Wt.d)(gc());case 7:if(""!==(d=Y.sent)){Y.next=18;break}return l=new URL(we),m={FirstName:n,LastName:r,Email:u,Phone:o,referrerPhone:"+"+c,favourite:s},Y.next=13,ae(l.toString(),m,"POST",ce);case 13:h=Y.sent,p=h.data.customerId,f=h.data.userId,Y.next=20;break;case 18:p=d.customerId,f=d.userId;case 20:return y={staffId:a?i:0,customerId:p,merchantId:se,userId:f,status:a?"checkin":"waiting",services:[],products:[],extras:[],fromTime:a?X()(new Date(a)).format("YYYY-MM-DD HH:mm"):Yo(),toTime:a?X()(new Date(a)).add(15,"minutes").format("YYYY-MM-DD HH:mm"):X()(Yo()).add(15,"minutes").format("YYYY-MM-DD HH:mm")},b=new URL(Se),Y.next=24,ae(b.toString(),y,"POST",ce);case 24:return v=Y.sent,g="",1===v.codeStatus&&(g=v.data),w=new URL(ke).toString(),Y.next=30,ae("".concat(w,"/").concat(g),"","GET",ce);case 30:return S=Y.sent,Y.next=33,Object(Wt.c)($r(!0));case 33:if(k=S.data,x=k.appointmentId,I=k.createdDate,C=k.fromTime,A=k.toTime,_=k.staffId,O=k.phoneNumber,T=k.services,P=k.products,D=k.userId,E=k.firstName,N=k.lastName,j=k.extras,M={id:x,createDate:I,end:X()(A),start:X()(C),memberId:a?i:_,phoneNumber:O,options:T,products:P,extras:j,status:a?"CHECKED_IN":"WAITING",tipPercent:0,user_id:D,userFullName:E+" "+N,notes:[]},!a){Y.next=38;break}Y.next=40;break;case 38:return Y.next=40,Object(Wt.c)(so(M));case 40:window.postMessage(JSON.stringify({customerId:p,userId:D,appointmentId:x,action:"newAppointment"})),window.postMessage(JSON.stringify({customerId:p,userId:D,appointmentId:x,action:"signinAppointment"})),Y.next=47;break;case 43:return Y.prev=43,Y.t0=Y.catch(0),Y.next=47,Object(Wt.c)((R=Y.t0,{type:Tn,error:R}));case 47:case"end":return Y.stop()}var R},bi,null,[[0,43]])}function ga(e){var t,n,r,o,i,a,c;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,t=e.phone,n=t.phone,r=t.staffID,o=t.time,i=new URL(ge),a="".concat(i.toString(),"/").concat(n),!navigator.onLine){s.next=26;break}return s.next=7,ae(a,"","GET",ce);case 7:if(2!==(c=s.sent).codeStatus){s.next=13;break}return s.next=11,Object(Wt.c)(Ur(!0));case 11:s.next=24;break;case 13:return s.next=15,Object(Wt.c)(Gr(!0));case 15:return s.next=17,Object(Wt.c)(fo(c.data));case 17:if(!r){s.next=21;break}window.postMessage(JSON.stringify({consumerId:c.data.customerId,staffid:r,from_time:o,action:"newAppointment"})),s.next=24;break;case 21:return window.postMessage(JSON.stringify({consumerId:c.data.customerId,action:"newAppointment"})),s.next=24,Object(Wt.c)(Qr(""));case 24:s.next=28;break;case 26:return s.next=28,Object(Wt.c)(Ur(!0));case 28:s.next=34;break;case 30:return s.prev=30,s.t0=s.catch(0),s.next=34,Object(Wt.c)(Gr(s.t0));case 34:case"end":return s.stop()}},vi,null,[[0,30]])}function wa(e){var t,n,r,o,i,a,c,s,u,d,p;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.appointment,n=t.memberId,r=t.start,o=t.end,i=t.options,a=t.products,c=t.extras,f.prev=2,s={staffId:n,fromTime:r,toTime:o,status:"cancel",services:i,products:a,extras:c},u=new URL(be),d="".concat(u.toString(),"/").concat(t.id),f.next=8,ae(d,s,"PUT",ce);case 8:if(1===(p=f.sent).codeStatus){f.next=12;break}return f.delegateYield(aa(p),"t0",11);case 11:return f.abrupt("return",f.t0);case 12:p.codeStatus,f.next=19;break;case 15:return f.prev=15,f.t1=f.catch(2),f.next=19,Object(Wt.c)(no(ni({},t,{status:"cancel"})));case 19:case"end":return f.stop()}},gi,null,[[2,15]])}function Sa(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.data,n=new URL(POST_STATUS_APPOINTMENT_UPDATE),o.next=5,zt.a.post(n.toString(),t,{headers:{Authorization:"Bearer ".concat(ce),"Content-Type":"application/json"}}).then(function(e){return e}).catch(function(e){});case 5:if(!(r=o.sent)){o.next=9;break}return o.next=9,Object(Wt.c)(ao(r));case 9:o.next=13;break;case 11:o.prev=11,o.t0=o.catch(0);case 13:case"end":return o.stop()}},wi,null,[[0,11]])}function ka(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Un,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,c,s,u,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Wt.d)(hc());case 3:return e.sent,e.next=6,Object(Wt.d)(lc());case 6:return t=e.sent,n=t.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),r=new URL(he),o="".concat(r.toString(),"/").concat(n),e.next=12,zt.a.get(o,{headers:{Authorization:"Bearer ".concat(ce)}}).then(function(e){if(200===e.status)return e}).catch(function(e){});case 12:return i=e.sent,a=i&&200===i.status&&i.data.data.map(function(e){return na(e)}),e.next=16,Object(Wt.d)(bc());case 16:c=e.sent,s=[],c.forEach(function(e){return e.appointments.forEach(function(e){return s=[].concat(ti(s),[e])})}),u=(u=Bt()(a,s,"id")).filter(function(e){return"ASSIGNED"===e.status}),d=0;case 22:if(!(d<u.length)){e.next=30;break}return p=u[d],e.next=26,Object(Wt.c)(uo(p));case 26:ei(p);case 27:d++,e.next=22;break;case 30:e.next=36;break;case 32:return e.prev=32,e.t0=e.catch(0),e.next=36,Object(Wt.c)(Mr(e.t0));case 36:case"end":return e.stop()}},e,null,[[0,32]])}));case 2:case"end":return e.stop()}},Si)}function xa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Zn,regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pincode,r="".concat(xe,"/").concat(n),e.next=4,zt.a.put(r,{},{headers:{Authorization:"Bearer ".concat(ce)}}).then(function(e){return e}).catch(function(e){});case 4:if(200===(o=e.sent).status&&o.data.codeStatus,200!==o.status||1!==o.data.codeStatus){e.next=13;break}return e.next=9,Object(Wt.c)(_r());case 9:return e.next=11,Object(Wt.c)(Pr());case 11:return e.next=13,Object(Wt.c)(Er());case 13:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},ki)}function Ia(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(er,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new URL("".concat(me)),e.next=4,Object(Wt.d)(lc());case 4:return n=e.sent,r="".concat(t.toString()).concat(n.format("YYYY-MM-DD")),e.next=8,ae(r,"","GET",ce);case 8:if(1!==(o=e.sent).codeStatus){e.next=18;break}return i=o.data?o.data.map(function(e){return ra(e)}).filter(function(e){return 0===e.isDisabled}):[],e.next=13,Object(Wt.d)(wc());case 13:return a=e.sent,e.next=16,Object(Wt.c)(Or(i));case 16:return e.next=18,Object(Wt.c)(Tr(i.slice(6*a,6*a+6)));case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:case"end":return e.stop()}},e,null,[[0,20]])}));case 2:case"end":return e.stop()}},xi)}function Ca(e){var t,n,r,o,i,a,c,s,u;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.data,n=t.staff,r=t.start,o=t.end,i=t.note,d.next=5,Object(Wt.d)(lc());case 5:return a=d.sent,c=a.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),s=new URL("".concat(Ie)),u={staffId:n.id,workingDate:c,blockTimeStart:r,blockTimeEnd:o,note:i},d.next=11,ae(s.toString(),u,"POST",ce);case 11:if(1!==d.sent.codeStatus){d.next=16;break}return d.next=15,Object(Wt.c)(_r());case 15:return d.abrupt("return");case 16:d.next=20;break;case 18:d.prev=18,d.t0=d.catch(0);case 20:case"end":return d.stop()}},Ii,null,[[0,18]])}function Aa(e){var t,n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.data,n=t.block,r=t.staff,o=new URL("".concat(Ce,"/").concat(n.blockTimeId)),i.next=5,ae(o.toString(),"","DELETE",ce);case 5:if(1!==i.sent.codeStatus){i.next=11;break}return i.next=9,Object(Wt.c)(_r());case 9:return i.next=11,Object(Wt.c)(Io({staff:r,block:n}));case 11:i.next=15;break;case 13:i.prev=13,i.t0=i.catch(0);case 15:case"end":return i.stop()}},Ci,null,[[0,13]])}function _a(){var e,t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Wt.d)(lc());case 3:return e=o.sent,t=e.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),n=new URL("".concat(Ae).concat(t)),o.next=8,ae(n.toString(),"","GET",ce);case 8:if(1!==(r=o.sent).codeStatus){o.next=15;break}return o.next=12,Object(Wt.c)(Ao(r.data));case 12:return o.next=14,Object(Wt.c)(go());case 14:return o.abrupt("return");case 15:o.next=19;break;case 17:o.prev=17,o.t0=o.catch(0);case 19:case"end":return o.stop()}},Ai,null,[[0,17]])}function Oa(e){var t,n,r,o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!navigator.onLine){a.next=15;break}return t=e.data.id,n=new URL("".concat(ke,"/").concat(t)),a.next=6,ae(n.toString(),"","GET",ce);case 6:if(1!==(r=a.sent).codeStatus){a.next=11;break}return a.next=10,Object(Wt.c)({type:"GET_APP_BY_ID_SUCCESS",data:r.data});case 10:return a.abrupt("return");case 11:if(1===r.codeStatus){a.next=13;break}return a.abrupt("return");case 13:a.next=18;break;case 15:return o=e.data,a.next=18,Object(Wt.c)({type:"GET_APP_BY_ID_SUCCESS",data:o});case 18:a.next=25;break;case 20:return a.prev=20,a.t0=a.catch(0),i=e.data,a.next=25,Object(Wt.c)({type:"GET_APP_BY_ID_SUCCESS",data:i});case 25:case"end":return a.stop()}},_i,null,[[0,20]])}function Ta(e){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.data,n=t.idAppointment,r=t.groupId,o=new URL("".concat(_e,"/").concat(n)),i={checkoutGroupId:r||0},c.next=6,ae(o.toString(),i,"PUT",ce);case 6:if((a=c.sent).codeStatus,1===a.codeStatus){c.next=10;break}return c.abrupt("return");case 10:c.next=14;break;case 12:c.prev=12,c.t0=c.catch(0);case 14:case"end":return c.stop()}},Oi,null,[[0,12]])}function Pa(e){var t,n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.staffId,n=(new Date).getTimezoneOffset(),r=new URL("".concat(Oe,"/").concat(t,"?timezone=").concat(n)),i.next=6,ae(r.toString(),"","GET",ce);case 6:if(1!==(o=i.sent).codeStatus){i.next=10;break}return i.next=10,Object(Wt.c)({type:"GET_TIME_STAFF_LOGIN_SUCCESS",data:{timeLogin:o.data,staffId:t}});case 10:if(1===o.codeStatus){i.next=12;break}return i.abrupt("return");case 12:i.next=16;break;case 14:i.prev=14,i.t0=i.catch(0);case 16:case"end":return i.stop()}},Ti,null,[[0,14]])}function Da(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Wt.c)(kr(e.day));case 2:return t.next=4,Object(Wt.c)(xr(e.day));case 4:setTimeout(function(){for(var e=document.getElementsByClassName("fc-now-indicator fc-now-indicator-arrow"),t=0;t<e.length;t++)e[t].scrollIntoView()},300);case 5:case"end":return t.stop()}},Pi)}function Ea(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)($t,Da);case 2:case"end":return e.stop()}},Di)}function Na(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(ir,Ca);case 2:case"end":return e.stop()}},Ei)}function ja(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Xt,ia);case 2:case"end":return e.stop()}},Ni)}function Ma(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(tn,ua);case 2:case"end":return e.stop()}},ji)}function Ya(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(on,da);case 2:return e.next=4,Object(Wt.e)(Ut,ia);case 4:return e.next=6,Object(Wt.e)(xn,da);case 6:case"end":return e.stop()}},Mi)}function Ra(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(rr,pa);case 2:case"end":return e.stop()}},Yi)}function Fa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(un,ha);case 2:case"end":return e.stop()}},Ri)}function Ba(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(pn,fa);case 2:case"end":return e.stop()}},Fi)}function La(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(mn,la);case 2:case"end":return e.stop()}},Bi)}function Wa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(bn,ma);case 2:case"end":return e.stop()}},Li)}function Ha(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Dn,ya);case 2:case"end":return e.stop()}},Wi)}function za(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(_n,va);case 2:case"end":return e.stop()}},Hi)}function Ua(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(In,ga);case 2:case"end":return e.stop()}},zi)}function Ga(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Rn,wa);case 2:case"end":return e.stop()}},Ui)}function $a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(Wn,ba);case 2:case"end":return e.stop()}},Gi)}function Ka(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(zn,Sa);case 2:case"end":return e.stop()}},$i)}function Ja(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(ar,Aa);case 2:case"end":return e.stop()}},Ki)}function Va(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(sr,_a);case 2:case"end":return e.stop()}},Ji)}function qa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(dr,ca);case 2:case"end":return e.stop()}},Vi)}function Xa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(pr,sa);case 2:case"end":return e.stop()}},qi)}function Za(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(fr,Oa);case 2:case"end":return e.stop()}},Xi)}function Qa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(hr,Ta);case 2:case"end":return e.stop()}},Zi)}function ec(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.e)(br,Pa);case 2:case"end":return e.stop()}},Qi)}function tc(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wt.a)([Object(Wt.b)(Ea),Object(Wt.b)(ja),Object(Wt.b)(Ma),Object(Wt.b)(Ra),Object(Wt.b)(Ya),Object(Wt.b)(Fa),Object(Wt.b)(Ba),Object(Wt.b)(La),Object(Wt.b)(Wa),Object(Wt.b)(Ha),Object(Wt.b)(za),Object(Wt.b)(Ua),Object(Wt.b)(Ga),Object(Wt.b)($a),Object(Wt.b)(Ka),Object(Wt.b)(ka),Object(Wt.b)(xa),Object(Wt.b)(Ia),Object(Wt.b)(Na),Object(Wt.b)(Ja),Object(Wt.b)(Va),Object(Wt.b)(qa),Object(Wt.b)(Xa),Object(Wt.b)(Za),Object(Wt.b)(Qa),Object(Wt.b)(ec)]);case 2:case"end":return e.stop()}},ea)}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rc(e,t,n[t])})}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ic=n("9c772359e08e81b5b3ba"),ac=X()(),cc=ac.clone().startOf("isoWeek"),sc=[cc,cc.clone().add(1,"d"),cc.clone().add(2,"d"),cc.clone().add(3,"d"),cc.clone().add(4,"d"),cc.clone().add(5,"d"),cc.clone().add(6,"d")],uc=Object(Rt.fromJS)({loading:!1,loadingNormal:!1,error:!1,currentDay:ac,currentWeekDays:sc,selectedAppointment:null,addingAppointment:null,selectedFCEvent:null,info_after_check_phone:"",members:{all:[],displayed:[],staffSort:[],blockTime:[]},appointments:{calendar:[],waiting:[],allAppoointment:[],appointmentDetail:"",groupAppointment:""},checkPhoneNumber_success:!1,checkPhoneNumber_error:!1,addCustomer_success:!1,addCustomer_error:!1,disable_Calendar:!1,isLoadingWaiting:!1,isLoadingCalendar:!1,time_staffId:"",StatusDeleteWaiting:!1,PopupPincode:!1,PinStaff:"",slideIndex:0});function dc(e){if(!1===navigator.onLine){var t=JSON.parse(localStorage.getItem("AppointmentsOffline"));if(t){var n=oc(t);n.push(e),localStorage.setItem("AppointmentsOffline",JSON.stringify(n))}else{var r=[];r.push(e),localStorage.setItem("AppointmentsOffline",JSON.stringify(r))}}}var pc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ut:return t.set("currentDay",X()(n.day,"DDMMYYYY"));case Gt:return e=X()(n.dayOfWeek,"DDMMYYYY").startOf("isoWeek"),t.set("currentWeekDays",Object(Rt.fromJS)([e,e.clone().add(1,"d"),e.clone().add(2,"d"),e.clone().add(3,"d"),e.clone().add(4,"d"),e.clone().add(5,"d"),e.clone().add(6,"d")]));case Kt:return t.set("selectedAppointment",n.appointment).set("selectedFCEvent",nc({},n.fcEvent));case Jt:return t.set("selectedAppointment",null).set("selectedFCEvent",null).updateIn(["appointments","appointmentDetail"],function(e){return""});case Vt:return t.set("addingAppointment",n.appointment);case qt:return t.set("addingAppointment",null);case Xt:return t.set("loading",!0).set("error",!1).setIn(["members","all"],[]);case"LOAD_STAFF_SORT":return t.setIn(["members","staffSort"],n.staff);case Zt:return t.setIn(["members","all"],n.members).set("loading",!1);case Qt:return t.set("error",n.error).set("loading",!1);case gr:return t.set("slideIndex",n.slideIndex);case en:for(var r=0,o=0;o<n.members.length;o++)n.members[o].resourceId=r,6===(r+=1)&&(r=0);return t.setIn(["members","displayed"],n.members);case tn:return t.setIn(["appointments","waiting"],[]);case nn:var i=n.appointments.sort(function(e,t){var n=new Date(e.id);return new Date(t.id)-n});return t.setIn(["appointments","waiting"],i);case rn:return t.set("error",n.error);case on:return t.setIn(["appointments","calendar"],[]);case an:return t.setIn(["appointments","calendar"],n.appointments);case cn:return t.setIn(["appointments","allAppointment"],n.appointments);case sn:return t.set("error",n.error);case dn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.memberId===n.appointment.memberId});return t&&t.appointments.push(n.appointment),oc(e)}).updateIn(["appointments","waiting"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.id});return t<0?oc(e):(e.splice(t,1),oc(e))});case fn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointment.id})});if(!t)return oc(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointment.id});if(r<0)return oc(e);t.appointments.splice(r,1);var o=e.findIndex(function(e){return e.memberId===n.appointment.memberId});return e[o].appointments.push(n.appointment),oc(e)});case hn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointment.id})});if(!t)return oc(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointment.id});return r<0?oc(e):(t.appointments.splice(r,1),dc(n.appointment),oc(e))}).updateIn(["appointments","waiting"],function(e){return e=[nc({},n.appointment,{status:"WAITING",memberId:null})].concat(oc(e)),localStorage.setItem("AppointmentWaiting",JSON.stringify(e)),oc(e)}).updateIn(["appointments","allAppointment"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.id}),r=n.appointment,o=r.memberId,i=r.start,a=r.end,c=r.options,s=r.products,u=r.extras,d=r.id;if(-1===t)return oc(e);e.splice(t,1);var p=zo(o,i,a,c,s,u);return window.postMessage({data:nc({},p,{id:d}),action:"updateAppointmemtOffline"}),localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),oc(e)});case vn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointmentId})});if(!t)return oc(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointmentId});return r<0?oc(e):(t.appointments.splice(r,1),oc(e))});case Sn:var a=n.appointment,c=a.appointmentID,s=a.status,u=a.newDate,d=a.notes;return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return parseInt(e.id)===parseInt(c)})});if(!t)return oc(e);var n=t.appointments.findIndex(function(e){return parseInt(e.id)===parseInt(c)});return n<0?oc(e):(t.appointments[n].end=u.substr(0,19),t.appointments[n].notes=[].concat(oc(d),oc(t.appointments[n].notes)),"checkin"===s&&(t.appointments[n].status="CHECKED_IN"),"confirm"===s&&(t.appointments[n].status="CONFIRMED"),"unconfirm"===s&&(t.appointments[n].status="UNCONFIRMED"),"paid"===s&&(t.appointments[n].status="PAID"),oc(e))});case Hn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return parseInt(e.memberId)===parseInt(n.appointment.memberId)});if(t){var r=n.appointment.status;return"ASSIGNED"===r&&(n.appointment.status="ASSIGNED"),"CONFIRMED"===r&&(n.appointment.status="ASSIGNED"),"UNCONFIRM"===r&&(n.appointment.status="ASSIGNED"),"CHECKED_IN"===r&&(n.appointment.status="CHECKED_IN"),t.appointments.push(n.appointment),oc(e)}});case Pn:return t.updateIn(["appointments","waiting"],function(e){});case Gn:return t.updateIn(["appointments","waiting"],function(e){return-1===e.findIndex(function(e){return e.id===n.data.id})&&(e=[n.data].concat(oc(e))),oc(e)});case $n:var p="";return t.updateIn(["appointments","calendar"],function(e){for(var t=0;t<e.length;t++)parseInt(e[t].memberId)===parseInt(n.data.memberId)&&(p=t);return e[p].appointments.push(n.data),oc(e)});case Kn:var f="";return t.updateIn(["appointments","calendar"],function(e){if("ASSIGNED"===n.data.status||"CHECKED_IN"===n.data.status){for(var t=0;t<e.length;t++)parseInt(e[t].memberId)===parseInt(n.data.memberId)&&(f=t);""!==f&&e[f].appointments.push(n.data)}return oc(e)}).updateIn(["appointments","allAppointment"],function(e){return"ASSIGNED"!==n.data.status&&"CHECKED_IN"!==n.data.status||-1===e.findIndex(function(e){return e.id===n.data.id})&&e.push(n.data),oc(e)});case Bn:return t.updateIn(["appointments","waiting"],function(e){window.postMessage({data:nc({},n.appointment),action:"updateAppointmemtOffline"});for(var t=0;t<e.length;t++)e[t].id===n.appointment.id&&e.splice(t,1);return localStorage.setItem("AppointmentWaiting",JSON.stringify(e)),oc(e)});case yr:return t.updateIn(["appointments","calendar"],function(e){for(var t=0;t<e.length;t++)e[t].id===n.idAppointment&&(e[t].status="PAID");return oc(e)}).updateIn(["appointments","allAppointment"],function(e){var t=e.findIndex(function(e){return e.id===n.idAppointment});return-1===t?oc(e):(e[t].status="PAID",localStorage.setItem("allAppointment",JSON.stringify(e)),oc(e))});case Vn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return parseInt(e.id)===parseInt(n.appointment.id)})});if(!t){var r=e.find(function(e){return parseInt(e.memberId)===parseInt(n.appointment.memberId)});return r?(r.appointments.push(n.appointment),oc(e)):oc(e)}var o=t.appointments.findIndex(function(e){return parseInt(e.id)===parseInt(n.appointment.id)});if(parseInt(t.memberId)!==n.appointment.memberId){var i=e.find(function(e){return parseInt(e.memberId)===parseInt(n.appointment.memberId)});if(!i)return oc(e);i.appointments.push(n.appointment),t.appointments.splice(o,1)}else"CANCEL"===n.appointment.status?t.appointments.splice(o,1):"WAITING"===n.appointment.status?t.appointments.splice(o,1):t.appointments[o]=n.appointment;return oc(e)}).updateIn(["appointments","allAppointment"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.id});return-1===t?oc(e):(e[t]=n.appointment,localStorage.setItem("allAppointment",JSON.stringify(e)),oc(e))});case Jn:return t.set("info_after_check_phone",n.data);case Ln:return t.set("StatusDeleteWaiting",n.status);case Cn:return t.set("checkPhoneNumber_success",n.phone);case An:return t.set("checkPhoneNumber_error",n.error);case On:return t.set("addCustomer_success",n.customer);case En:return t.set("disable_Calendar",n.status);case Nn:return t.set("isLoadingWaiting",n.status);case jn:return t.set("isLoadingCalendar",n.status);case Mn:return t.set("time_staffId",n.data);case Qn:return t.set("PopupPincode",n.data).set("PinStaff",n.pincode);case Xn:return t.setIn(["members","all"],function(e){return oc(e)});case tr:return t.setIn(["members","all"],n.data);case nr:var l=JSON.parse(n.data);return t.updateIn(["appointments","calendar"],function(e){return e.forEach(function(e){e.appointments.forEach(function(e){e.phoneNumber===l.Phone&&(e.phoneNumber=l.Phone,e.userFullName=l.FirstName+" "+l.LastName)})}),oc(e)}).updateIn(["appointments","waiting"],function(e){return e.forEach(function(e){e.phoneNumber===l.Phone&&(e.phoneNumber=l.Phone,e.userFullName=l.FirstName+" "+l.LastName)}),oc(e)});case Yn:var m;return t.updateIn(["appointments","calendar"],function(e){for(var t=0;t<e.length;t++)parseInt(e[t].memberId)===parseInt(n.appointment.memberId)&&(m=t);return n.appointment.appointment.end=n.appointment.new_end_time,e[m].appointments.push(n.appointment.appointment),oc(e)}).updateIn(["appointments","allAppointment"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.appointment.id});return console.log({pos:t,appointment:n.appointment.appointment,appointmentPOS:e[t]}),n.appointment.appointment.end=n.appointment.new_end_time,-1===t?(e.push(n.appointment.appointment),e=ic.unionBy(e,"id")):e[t]=n.appointment.appointment,dc(n.appointment.appointment),localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),oc(e)});case qn:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointment.id})});if(!t)return oc(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointment.id});return r<0?oc(e):(t.appointments.splice(r,1),oc(e))}).updateIn(["appointments","allAppointment"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.id});return-1===t?oc(e):(e.splice(t,1),dc(n.appointment),localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),oc(e))});case or:return t.updateIn(["appointments","allAppointment"],function(e){var t=n.data,r=t.appointment,o=t.id,i=r.fromTime,a=r.toTime,c=r.extras,s=r.products,u=r.services,d=r.staffId,p=r.status,f=e.findIndex(function(e){return parseInt(e.id)===parseInt(o)});return-1===f?oc(e):(e[f].start=i,e[f].end=a,e[f].extras=c,e[f].products=s,e[f].options=u,e[f].memberId=d,e[f].status=ta[p],dc(r),localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),window.postMessage({data:nc({},r,{id:o}),action:"updateAppointmemtOffline"}),oc(e))});case Fn:return t.updateIn(["appointments","waiting"],function(e){var t=n.appointment,r=e.find(function(e){return e.id===t.id});return-1===r?oc(e):(e.splice(r,1),localStorage.setItem("AppointmentCalendar",JSON.stringify(e)),oc(e))});case cr:return t.updateIn(["members","all"],function(e){var t=n.data,r=t.staff,o=t.block,i=e.findIndex(function(e){return e.id===r.id});if(-1===i)return oc(e);var a=e[i].blockTime.findIndex(function(e){return e.blockTimeId===o.blockTimeId});return-1===a?oc(e):(e[i].blockTime[a].isDisabled=1,oc(e))}).updateIn(["members","displayed"],function(e){var t=n.data,r=t.staff,o=t.block,i=e.findIndex(function(e){return e.id===r.id});if(-1===i)return oc(e);var a=e[i].blockTime.findIndex(function(e){return e.blockTimeId===o.blockTimeId});return-1===a?oc(e):(e[i].blockTime[a].isDisabled=1,oc(e))});case ur:return t.updateIn(["members","all"],function(e){return e.forEach(function(e){e.blockTime=[]}),e.forEach(function(e){var t=[];n.data.forEach(function(n){e.id===n.staffId&&t.push(n)}),e.blockTime=[].concat(t)}),X()(t.getIn(["currentDay"])).format("YYYY-MM-DD")===X()().format("YYYY-MM-DD")&&window.postMessage({action:"dataStaffList",staffList:e}),localStorage.setItem("staffList",JSON.stringify(e)),oc(e)}).updateIn(["members","blockTime"],function(e){return oc(n.data)});case lr:return t.updateIn(["appointments","appointmentDetail"],function(e){return navigator.onLine?nc({},na(n.data)):nc({},n.data)});case vr:return t.updateIn(["members","all"],function(e){var t=e.findIndex(function(e){return e.id===n.data.staffId});if(-1!==t)return e[t].timeLogin=n.data.timeLogin,oc(e)}).updateIn(["members","displayed"],function(e){var t=e.findIndex(function(e){return e.id===n.data.staffId});if(-1!==t)return e[t].timeLogin=n.data.timeLogin,oc(e)});case mr:return t.updateIn(["appointments","groupAppointment"],function(e){return n.data});default:return t}},fc=function(e){return e.get("appointment",uc)},lc=function(){return Object(s.a)(fc,function(e){return e.get("currentDay")})},mc=function(){return Object(s.a)(fc,function(e){return e.getIn(["members","all"])})},hc=function(){return Object(s.a)(fc,function(e){return e.getIn(["members","displayed"])})},yc=function(){return Object(s.a)(fc,function(e){return e.getIn(["appointments","allAppointment"])})},bc=function(){return Object(s.a)(fc,function(e){return e.getIn(["appointments","calendar"])})},vc=function(){return Object(s.a)(fc,function(e){return e.get("selectedFCEvent")})},gc=function(){return Object(s.a)(fc,function(e){return e.get("info_after_check_phone")})},wc=function(){return Object(s.a)(fc,function(e){return e.get("slideIndex")})};var Sc,kc=Object(s.b)({loading:Object(s.a)(fc,function(e){return e.get("loading")}),error:Object(s.a)(fc,function(e){return e.get("error")}),resources:mc(),calendarMembers:bc(),currentDay:lc(),popupPincode:Object(s.a)(fc,function(e){return e.get("PopupPincode")}),PinStaff:Object(s.a)(fc,function(e){return e.get("PinStaff")})}),xc=Object(c.connect)(kc,function(e){return{onChangeToday:function(t){return e(Ir(t))},loadMembers:function(t){return e(_r())},setDisplayedMembers:function(t){return e(Tr(t))},togglePopupPincode:function(t,n){return e(bo(t,n))},checkPinCode:function(t){return e(yo(t))},disableCalendar:function(t){return e(qr(t))},renderAppointment:function(){return e(go())},SubmitEditBlockTime:function(t){return e(ko(t))},deleteBlockTime:function(t){return e(xo(t))},getTimeStaffLogin:function(t){return e(Po(t))},setSlideIndex:function(t){return e(Do(t))}}}),Ic=Object(a.compose)(xc)(Ot);function Cc(e,t,n,r){Sc||(Sc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Sc,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ac(e){return(Ac="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oc(e,t){return!t||"object"!==Ac(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e,t){return(Pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dc,Ec=Cc("div",{id:"full-calendar"}),Nc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oc(this,Tc(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pc(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.options;$o()("#full-calendar").fullCalendar(e),setInterval(function(){$o()(".fc-now-indicator-arrow").html(X()().format("HH:mm"))},500)}},{key:"componentWillReceiveProps",value:function(e){!0===e.disableCalendar?$o()(".fc-scroller").css("-webkit-overflow-scrolling","auto"):$o()(".fc-scroller").css("-webkit-overflow-scrolling:","touch")}},{key:"render",value:function(){this.props.disableCalendar;return Ec}}])&&_c(n.prototype,r),i&&_c(n,i),t}(),jc=(n("c04ba74958b5b4603085"),n("a02d646308e2686437bc"));function Mc(e){return(Mc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yc(e,t,n,r){Dc||(Dc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Dc,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t){return!t||"object"!==Mc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lc(e,t){return(Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wc=Object(i.c)(Pe.a).withConfig({displayName:"ConfirmDeleteWaiting__ConfirmPopup",componentId:"i18fx7-0"})(["border-radius:1.5rem;padding:0 !important;border:none !important;height:200px;width:480px !important;position:relative;"]),Hc=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__ConfirmPopupWrapper",componentId:"i18fx7-1"})([""]);Hc.Header=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__Header",componentId:"i18fx7-2"})(["height:3rem;font-size:1.6rem;font-weight:bold;background:#1FB5F4;color:#ffffff;padding:0.5rem 1rem;line-height:1.5;text-align:center;border-top-left-radius:1.5rem;border-top-right-radius:1.5rem;position:relative;"]),Hc.ButtonX=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__ButtonX",componentId:"i18fx7-3"})(["position:absolute;right:0.5rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;cursor:pointer;"]),Hc.Body=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__Body",componentId:"i18fx7-4"})(["height:5rem;font-size:0.9rem;color:#333;text-align:center;padding-top:1rem;"]),Hc.Footer=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__Footer",componentId:"i18fx7-5"})(["display:flex;flex-direction:row;justify-content:space-between;padding:0 3rem;"]),Hc.WrapperButton=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__WrapperButton",componentId:"i18fx7-6"})(["width:50%;text-align:center;"]),Hc.Button=i.c.button.withConfig({displayName:"ConfirmDeleteWaiting__Button",componentId:"i18fx7-7"})(["background-color:",";color:",";padding:0.8rem 3.5rem;border-radius:3px;font-size:1rem;cursor:pointer;"],function(e){return e.backgroundColor},function(e){return e.Color}),Hc.ButtonYes=i.c.div.withConfig({displayName:"ConfirmDeleteWaiting__ButtonYes",componentId:"i18fx7-8"})(["background-color:",";color:",";padding:0.5rem 2.5rem;border-radius:3px;font-size:1rem;cursor:pointer;"],function(e){return e.backgroundColor},function(e){return e.Color}),Hc.ButtonNo=Object(i.c)(Hc.ButtonYes).withConfig({displayName:"ConfirmDeleteWaiting__ButtonNo",componentId:"i18fx7-9"})([""]);var zc,Uc=Yc(Q.FaTimesCircle,{}),Gc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fc(this,Bc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lc(e,t)}(t,r["Component"]),n=t,(o=[{key:"deleteEventWaiting",value:function(){var e=this.props;(0,e.deleteEventWaitingList)(e.event),this.closeModal()}},{key:"closeModal",value:function(){(0,this.props.deleteWaitingAppointment)(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.StatusDeleteWaiting,r=t.event;return!1===n?"":Yc(Wc,{closeOnDocumentClick:!0,open:!0,onOpen:function(){return e.openModal()},onClose:function(){return e.closeModal()}},void 0,Yc(Hc,{},void 0,Yc(Hc.Header,{},void 0,"Confirmation",Yc(Hc.ButtonX,{onClick:function(){return e.closeModal()}},void 0,Uc)),Yc(Hc.Body,{},void 0,r&&"Delete appointment ".concat(r.code," from Waiting List ?")),Yc(Hc.Footer,{},void 0,Yc(Hc.WrapperButton,{},void 0,Yc(Hc.Button,{Color:"#333",backgroundColor:"#EEEEEE",onClick:function(){return e.deleteEventWaiting()}},void 0,"Yes")),Yc(Hc.WrapperButton,{},void 0,Yc(Hc.Button,{Color:"#fff",backgroundColor:"#1173C3",onClick:function(){return e.closeModal()}},void 0,"No")))))}}])&&Rc(n.prototype,o),i&&Rc(n,i),t}();function $c(e){return($c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kc(e,t,n,r){zc||(zc="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:zc,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e,t){return(Xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zc=i.c.div.withConfig({displayName:"FCDragZone__DragZoneWrapper",componentId:"sc-1jr0ymx-0"})(["height:calc(100vh - 4rem - 4rem - 4rem);position:relative;"]),Qc=i.c.div.withConfig({displayName:"FCDragZone__EventWrapper",componentId:"sc-1jr0ymx-1"})(["background:#f4f4f5;border:1px solid #ffffff;color:#333333;height:110px;overflow:hidden;position:relative;"]);Qc.buttonDelete=i.c.div.withConfig({displayName:"FCDragZone__buttonDelete",componentId:"sc-1jr0ymx-2"})(["position:absolute;right:0.25rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;font-size:1.25rem;color:#717171;cursor:pointer;"]);var es=i.c.div.withConfig({displayName:"FCDragZone__PrevButton",componentId:"sc-1jr0ymx-3"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;text-align:center;width:100%;"]),ts=Object(i.c)(es).withConfig({displayName:"FCDragZone__NextButton",componentId:"sc-1jr0ymx-4"})(["position:absolute;left:0;bottom:0;"]);function ns(){var e=$o()(this).data("event-information"),t=0;e.options.forEach(function(e){t+=parseInt(e.duration)}),e.extras.forEach(function(e){t+=parseInt(e.duration)}),$o()(this).data("event",{data:e,color:"#00b4f7",stick:!0,duration:t>0?X.a.utc().startOf("day").add({minutes:t}).format("HH:mm"):X.a.utc().startOf("day").add({minutes:15}).format("HH:mm")}),$o()(this).draggable({containment:"document",helper:"clone",appendTo:"body",zIndex:999,revert:!0,revertDuration:0})}var rs,os=Kc(Q.FaCaretUp,{}),is=Kc(Q.FaCaretDown,{}),as=Kc(jc.IoIosCloseCircle,{}),cs=Kc("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.5em",width:"1.3em",xmlns:"http://www.w3.org/2000/svg"},void 0,Kc("path",{d:"M335.7 32H177.1C158.8 32 144 46.6 144 64.9v381c0 18.4 14.8 34.1 33.1 34.1h158.5c18.3 0 32.3-15.7 32.3-34.1v-381C368 46.6 354 32 335.7 32zM241 55h30c2.2 0 4 1.8 4 4s-1.8 4-4 4h-30c-2.2 0-4-1.8-4-4s1.8-4 4-4zm15.5 410c-9.6 0-17.4-7.8-17.4-17.4 0-9.6 7.8-17.4 17.4-17.4 9.6 0 17.4 7.8 17.4 17.4 0 9.6-7.8 17.4-17.4 17.4zm93.5-49H162c-1.1 0-2-.9-2-2V85c0-1.1.9-2 2-2h188c1.1 0 2 .9 2 2v329c0 1.1-.9 2-2 2z"})),ss=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return r=this,n=!(o=(e=Vc(t)).call.apply(e,[this].concat(u)))||"object"!==$c(o)&&"function"!==typeof o?qc(r):o,i=qc(n),c={slideIndex:0,slidesToShow:4,event:""},(a="state")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xc(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"updateDimensions",value:function(){this.setState({slidesToShow:Math.round(($o()(window).height()-192-36)/127)||1}),setInterval(function(){$o()("#waiting-events > div").each(ns)},500)}},{key:"componentWillMount",value:function(){this.updateDimensions()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.updateDimensions()})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.updateDimensions()})}},{key:"prevSlide",value:function(){var e=this.state.slideIndex;e>0&&this.setState({slideIndex:e-1})}},{key:"nextSlide",value:function(){var e=this.props.events,t=this.state,n=t.slideIndex,r=t.slidesToShow;n<Math.floor(e.length/r)&&this.setState({slideIndex:n+1})}},{key:"deleteEventWaiting",value:function(e){this.setState({event:e}),(0,this.props.deleteWaitingAppointment)(!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.events,r=t.StatusDeleteWaiting,i=t.deleteWaitingAppointment,a=t.deleteEventWaitingList,c=this.state,s=c.slideIndex,u=c.slidesToShow,d=n.sort(function(e,t){return new Date(e.id)-new Date(t.id)}).slice(s*u,s*u+u);return Kc(o.a.Fragment,{},void 0,Kc(Zc,{},void 0,Kc(es,{onClick:function(){return e.prevSlide()}},void 0,os),Kc(ts,{onClick:function(){return e.nextSlide()}},void 0,is),Kc("div",{id:"waiting-events"},void 0,d.map(function(t){return Kc(Qc,{className:"app-event","data-event-information":JSON.stringify(t)},t.id,Kc(Qc.buttonDelete,{onClick:function(){return e.deleteEventWaiting(t)}},void 0,as),Kc("div",{className:"app-event__id-number"},void 0,t.code),Kc("div",{className:"app-event__full-name"},void 0,t.userFullName),Kc("div",{className:"app-event__phone-number"},void 0,cs,ie(t.phoneNumber)),t.options.map(function(e,t){return Kc("div",{className:"app-event__option"},t,"- ",e.serviceName)}))}))),Kc(Gc,{StatusDeleteWaiting:r,event:this.state.event,deleteEventWaitingList:a,deleteWaitingAppointment:i}))}}])&&Jc(n.prototype,r),i&&Jc(n,i),t}();function us(e,t,n,r){rs||(rs="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:rs,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ds(e){return(ds="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,t){return!t||"object"!==ds(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hs,ys=us(i.c.div.withConfig({displayName:"WaitingLoading__Loading",componentId:"sc-1vhq1ia-0"})(["position:absolute;width:100%;height:100%;display:block;background:#fff;z-index:99;opacity:0.9;padding-top:80%;text-align:center;font-weight:bold;font-style:italic;color:#61859f;font-size:14px;"]),{},void 0,"...Loading"),bs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fs(this,ls(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return ys}}])&&ps(n.prototype,o),i&&ps(n,i),t}();function vs(e){return(vs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t,n,r){hs||(hs="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:hs,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t){return!t||"object"!==vs(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Is,Cs=i.c.div.withConfig({displayName:"CalendarLoading__LoadingCalendar",componentId:"w6unxg-0"})(["position:absolute;width:100%;height:100%;display:block;z-index:99;padding-top:20%;text-align:center;font-weight:bold;font-style:italic;color:#61859f;font-size:24px;"]),As=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ss(this,ks(t).apply(this,arguments))}var o,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(t,r["Component"]),o=t,(i=[{key:"render",value:function(){return gs(Cs,{},void 0,gs("img",{style:{width:100,height:100},src:n("c8bceb1b874be93372c1"),alt:""}))}}])&&ws(o.prototype,i),a&&ws(o,a),t}(),_s=function(e){return{appointmentId:e.AppointmentId,bookingServiceId:e.BookingServiceId,duration:e.Duration,price:e.Price,serviceId:e.ServiceId,serviceName:e.ServiceName,staffId:e.StaffId}},Os=function(e){return{appointmentId:e.AppointmentId,bookingProductId:e.BookingProductId,productId:e.ProductId,productName:e.ProductName,quantity:e.Quantity,price:e.Price}},Ts=function(e){return{appointmentId:e.AppointmentId,bookingExtraId:e.BookingExtraId,duration:e.Duration,extraId:e.ExtraId,extraName:e.ExtraName,price:e.Price}},Ps=function(e){return{appointmentId:e.AppointmentId,appointmentNoteId:e.AppointmentNoteId,createDate:e.CreateDate,note:e.Note,staffId:e.StaffId,staffName:e.StaffName}};function Ds(e){return{id:e.AppointmentId,code:"#".concat(e.Code),userFullName:e.FirstName+" "+e.LastName,phoneNumber:e.PhoneNumber,options:e.Services.map(function(e){return _s(e)}).sort(function(e,t){var n=e.bookingServiceId;return t.bookingServiceId-n}),products:e.Products.map(function(e){return Os(e)}).sort(function(e,t){var n=e.bookingProductId;return t.bookingProductId-n}),extras:e.Extras.map(function(e){return Ts(e)}).sort(function(e,t){var n=e.bookingExtraId;return t.bookingExtraId-n}),status:ta[e.Status],memberId:e.StaffId,start:e.FromTime,end:e.ToTime,user_id:e.UserId,createDate:e.CreatedDate,tipPercent:e.TipPercent,tipAmount:e.TipAmount,subTotal:e.SubTotal,tax:e.Tax,giftCard:e.GiftCard,discount:e.Discount,total:e.Total,notes:e.Notes.sort(function(e,t){var n=e.AppointmentNoteId;return t.AppointmentNoteId-n}).map(function(e){return Ps(e)})}}function Es(e){return(Es="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ns(e,t,n,r){Is||(Is="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Is,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function js(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ms(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){js(i,r,o,a,c,"next",e)}function c(e){js(i,r,o,a,c,"throw",e)}a(void 0)})}}function Ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bs(e,t){return(Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ls=n("affdc6b211b015267846"),Ws=i.c.div.withConfig({displayName:"Calendar__CalendarWrapper",componentId:"sc-1wctk8v-0"})(["display:flex;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-bottom:2px solid #3883bb;height:calc(100% - 4rem - 4rem);overflow:hidden;"]),Hs=i.c.div.withConfig({displayName:"Calendar__MainCalendar",componentId:"sc-1wctk8v-1"})(["flex:1 0;border-right:1px solid #3883bb;"]),zs=i.c.div.withConfig({displayName:"Calendar__RightSideBar",componentId:"sc-1wctk8v-2"})(["width:calc((100vw - 5.05rem) / 7);border-top:2px solid #3883bb;position:relative;"]),Us=i.c.div.withConfig({displayName:"Calendar__SignInWrapper",componentId:"sc-1wctk8v-3"})(["position:absolute;bottom:0;width:calc((100vw - 5.05rem) / 7);background:#fafafa;height:4rem;text-align:center;padding:0.5rem;"]);function Gs(e){try{JSON.parse(e)}catch(e){return!1}return!0}Us.Button=i.c.div.withConfig({displayName:"Calendar__Button",componentId:"sc-1wctk8v-4"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1.1rem;font-weight:bold;line-height:2.8;height:100%;cursor:pointer;"]);var $s=Ns(As,{}),Ks=Ns(bs,{}),Js=function(e){function t(){var e,n,r,o,i,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=Rs(t).call(this),e=!r||"object"!==Es(r)&&"function"!==typeof r?Fs(n):r,i=Fs(e),a="receiveMessage",o=Ms(regeneratorRuntime.mark(function t(n){var r,o,i,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Gs(n.data)&&(r=JSON.parse(n.data),o=r.idAppointment,"PaidOffline"===(i=r.action)&&(e.props.updateAppointmentPaidOffline(o),a=Ko.store.getState().getIn(["appointment","appointments","calendar"]),c=Ko.store.getState().getIn(["appointment","currentDay"]),Zo(c,a)),"reloadWed"===i&&(localStorage.removeItem("staffList"),localStorage.removeItem("AppointmentCalendar"),localStorage.removeItem("AppointmentWaiting"),setTimeout(function(){window.location.reload()},300)));case 1:case"end":return t.stop()}},t)})),c=function(e){return o.apply(this,arguments)},a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.loadWaitingAppointments()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",this.receiveMessage),this.runSignalR(),setInterval(function(){console.log("***********************RECONNECT SignalR***********************"),e.runSignalR()},6e4);for(var t=document.getElementsByClassName("fc-now-indicator fc-now-indicator-arrow"),n=0;n<t.length;n++)t[n].scrollIntoView()}},{key:"runSignalR",value:function(){this.runSignalR_Appointment()}},{key:"runSignalR_Appointment",value:function(){var e=this.props,t=e.addAppointmentRealTime,n=e.addAppointmentWaiting,r=e.updateAppointmentPaid,o=e.removeAppointmentWaiting,i=e.deleteAppointmentCalendar,a=(e.updateStaff,e.loadWaitingAppointments),c=e.loadAppointmentByMembers,s=e.loadMembers,u=e.updateNextStaff,d=e.updateConsumer,p="".concat(pe,"/notification/?merchantId=").concat(se,"&Title=Merchant&kind=calendar&deviceId=").concat(de),f=(new Ls.HubConnectionBuilder).withUrl(p).build();f.on("ListWaNotification",function(){var e=Ms(regeneratorRuntime.mark(function e(p){var f,l,m,h,y,b,v,g,w,S,k,x,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f=JSON.parse(p)).type){e.next=11;break}e.t0=f.type,e.next="staff_change_nextavailable"===e.t0?5:"staff_change_ordernumber"===e.t0?7:10;break;case 5:return u(),e.abrupt("break",11);case 7:return console.log("update next staff"),u(),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:if(!f.data){e.next=56;break}l=f.data.Type,e.t1=l,e.next="user_update"===e.t1?16:"appointment_add"===e.t1?21:"appointment_update"===e.t1?28:"appointment_checkout"===e.t1?50:"change_item"===e.t1?52:55;break;case 16:return d(f.data.user),m=Ko.store.getState().getIn(["appointment","appointments","calendar"]),h=Ko.store.getState().getIn(["appointment","currentDay"]),Zo(h,m),e.abrupt("break",56);case 21:if(!(y=f.data.Appointment)){e.next=27;break}if("CHECKED_IN"!==(b=Ds(y)).status||0!==parseInt(b.memberId)){e.next=26;break}return e.abrupt("return");case 26:"ASSIGNED"===b.status||"CHECKED_IN"===b.status?(v=Ko.store.getState().getIn(["appointment","appointments","calendar"]),v.find(function(e){return e.appointments.find(function(e){return parseInt(e.id)===parseInt(b.id)})})||(ei(b),t(b))):"WAITING"===b.status&&n(b);case 27:return e.abrupt("break",56);case 28:if(!(g=f.data.appointment)){e.next=49;break}w=JSON.parse(g),S=Ds(w),k=Ko.store.getState().getIn(["appointment","appointments","calendar"]),x=Ko.store.getState().getIn(["appointment","currentDay"]),e.t2=S.status,e.next="WAITING"===e.t2?37:"CANCEL"===e.t2?41:45;break;case 37:return n(S),i(S),Zo(x,k),e.abrupt("break",49);case 41:return k.find(function(e){return e.appointments.find(function(e){return parseInt(e.id)===parseInt(S.id)})})&&(i(S),I=Ko.store.getState().getIn(["appointment","currentDay"]),Zo(I,k)),o(S),e.abrupt("break",49);case 45:return r(S),Zo(x,k),"CHECKED_IN"===S.status&&o(S),e.abrupt("break",49);case 49:return e.abrupt("break",56);case 50:return c(),e.abrupt("break",56);case 52:return a(),c(),e.abrupt("break",56);case 55:return e.abrupt("break",56);case 56:f.type&&"staff_update"===f.type&&(s(),c());case 57:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),f.start(),setTimeout(function(){f.stop()},6e4)}},{key:"render",value:function(){var e=this.props,t=e.waitingAppointments,n=e.waitingIndex,r=e.openAddingAppointment,o=(e.calendarMembers,e.disableCalendar),i=e.isLoadWaiting,a=e.isLoadCalendar,c=e.disable_Calendar,s=e.deleteEventWaitingList,u=e.StatusDeleteWaiting,d=e.deleteWaitingAppointment,p=e.updateAppointmentPaid;return Ns(Ws,{},void 0,Ns(Hs,{},void 0,!0===a&&$s,Ns(Nc,{disableCalendar:o,updateAppointmentPaid:p,options:Xo})),Ns(zs,{id:"drag-zone"},void 0,!0===i&&Ks,t&&t.length?Ns(ss,{events:t,index:n,deleteEventWaitingList:s,StatusDeleteWaiting:u,deleteWaitingAppointment:d}):"",Ns(Us,{},void 0,Ns(Us.Button,{onClick:function(){r({}),c(!0)}},void 0,"Check in"))))}}])&&Ys(n.prototype,r),i&&Ys(n,i),t}();var Vs,qs=Object(s.b)({waitingAppointments:Object(s.a)(fc,function(e){return e.getIn(["appointments","waiting"])}),currentDay:lc(),waitingIndex:Object(s.a)(fc,function(e){return e.getIn(["appointments","waitingIndex"])}),calendarMembers:bc(),disableCalendar:Object(s.a)(fc,function(e){return e.get("disable_Calendar")}),isLoadWaiting:Object(s.a)(fc,function(e){return e.get("isLoadingWaiting")}),isLoadCalendar:Object(s.a)(fc,function(e){return e.get("isLoadingCalendar")}),StatusDeleteWaiting:Object(s.a)(fc,function(e){return e.get("StatusDeleteWaiting")}),slideIndex:wc()}),Xs=Object(c.connect)(qs,function(e){return{loadWaitingAppointments:function(t){return e(Pr(t))},openAddingAppointment:function(t){return e(Ar(t))},updateCalendarInterval:function(t){return e({type:xn})},updateWaitingAppointment:function(t){return e(Kr(t))},loadingCalendar:function(t){return e(Zr(t))},loadingWaiting:function(t){return e(Xr(t))},disable_Calendar:function(t){return e(qr(t))},deleteEventWaitingList:function(t){return e(to(t))},deleteWaitingAppointment:function(t){return e(ro(t))},updateAppointmentOffline:function(t){return e(io(t))},loadAppointmentAgain:function(){return e(co())},addAppointmentRealTime:function(t){return e(po(t))},addAppointmentWaiting:function(t){return e(so(t))},updateAppointmentPaid:function(t){return e(lo(t))},removeAppointmentWaiting:function(t){return e(no(t))},deleteAppointmentCalendar:function(t){return e(mo(t))},updateStaff:function(t){return e(ho(t))},loadMembers:function(){return e(_r())},loadAppointmentByMembers:function(){return e(Er())},updateNextStaff:function(){return e(vo())},updateConsumer:function(t){return e(wo(t))},groupIdAppointment:function(t){return e(_o(t))},membersLoaded:function(t){return e(Or(t))},setDisplayedMembers:function(t){return e(Tr(t))},updateAppointmentPaidOffline:function(t){return e(To(t))}}}),Zs=Object(a.compose)(Xs)(Js),Qs=n("0d7f0986bcd2f33d8a2a"),eu=n("ac84d617ca1062960887"),tu=n.n(eu);n("1c63ba327a1209defc64");function nu(e){return(nu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ru(e,t,n,r){Vs||(Vs="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Vs,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iu(e,t){return!t||"object"!==nu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function au(e){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cu(e,t){return(cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var su=i.c.div.withConfig({displayName:"MiniCalendar__MiniCalendarWrapper",componentId:"sc-18e5qik-0"})(["width:calc(5.05rem - 1px);height:100%;text-align:center;border-right:1px solid #3883bb;position:relative;padding:0.5rem;"]);su.Button=i.c.div.withConfig({displayName:"MiniCalendar__Button",componentId:"sc-18e5qik-1"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1.5rem;line-height:1.5;height:100%;cursor:pointer;"]);var uu=i.c.div.withConfig({displayName:"MiniCalendar__CalendarPopup",componentId:"sc-18e5qik-2"})(["top:0;left:0;position:absolute;transform:translate3d(0.5rem,calc(-18rem + 0.5rem),0px);will-change:transform;z-index:1;background:#fff;color:#000;height:18rem;line-height:1;box-shadow:2px 2px 10px rgba(0,0,0,0.1);border-radius:8px;overflow:hidden;"]);uu.Heading=i.c.div.withConfig({displayName:"MiniCalendar__Heading",componentId:"sc-18e5qik-3"})(["background:#0071c5;color:#ffffff;height:3rem;font-size:1.5rem;line-height:2;"]),uu.Body=i.c.div.withConfig({displayName:"MiniCalendar__Body",componentId:"sc-18e5qik-4"})([""]);var du,pu=ru(uu.Heading,{},void 0,"Calendar"),fu=ru(Qs.Helmet,{},void 0,ru("style",{},void 0,"\n            .DayPicker-Day--today {\n              color: #00e260;\n            }\n          ")),lu=ru(Q.FaCalendarAlt,{}),mu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=iu(this,au(t).call(this,e))).state={isPopupOpen:!1},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cu(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClickButton",value:function(){var e=this.state.isPopupOpen;this.setState({isPopupOpen:!e})}},{key:"onOutsideClickPopup",value:function(){this.setState({isPopupOpen:!1})}},{key:"onDaySelected",value:function(e){(0,this.props.onChangeDay)(X()(new Date(e)).format("DDMMYYYY"))}},{key:"renderPopup",value:function(){var e=this,t=this.props.selectedDay;return this.state.isPopupOpen?ru(uu,{},void 0,pu,ru(uu.Body,{},void 0,ru(tu.a,{firstDayOfWeek:1,selectedDays:[t.toDate()],onDayClick:function(t){return e.onDaySelected(t)}}))):""}},{key:"render",value:function(){var e=this;return ru(je.a,{onOutsideClick:function(){return e.onOutsideClickPopup()}},void 0,fu,ru(su,{},void 0,ru(su.Button,{onClick:function(){return e.onClickButton()}},void 0,lu),this.renderPopup()))}}])&&ou(n.prototype,r),i&&ou(n,i),t}();function hu(e){return(hu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t,n,r){du||(du="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:du,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t){return!t||"object"!==hu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gu(e){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su,ku=i.c.div.withConfig({displayName:"DaySlider__DateSliderWrapper",componentId:"sc-192q64y-0"})(["width:calc(100% - 5.05rem);position:relative;height:4rem !important;"]),xu=i.c.div.withConfig({displayName:"DaySlider__CarouselItem",componentId:"sc-192q64y-1"})(["display:flex;flex:1;"]),Iu=i.c.div.withConfig({displayName:"DaySlider__NormalDay",componentId:"sc-192q64y-2"})(["flex:1;border-right:1px solid #3883bb;text-align:center;padding:0.5rem;overflow:hidden;height:4rem;padding-top:0.6rem;font-size:1rem;line-height:1.5;&:last-child{border-right:none;}& div{white-space:normal;text-overflow:ellipsis;overflow:hidden;}"]),Cu=Object(i.c)(Iu).withConfig({displayName:"DaySlider__ActiveDay",componentId:"sc-192q64y-3"})(["background:#0071c5;color:#ffffff;"]),Au=Object(i.c)(Iu).withConfig({displayName:"DaySlider__TodayDay",componentId:"sc-192q64y-4"})(["background:#00e260;color:#ffffff;"]),_u=i.c.div.withConfig({displayName:"DaySlider__PrevButton",componentId:"sc-192q64y-5"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),Ou=i.c.div.withConfig({displayName:"DaySlider__NextButton",componentId:"sc-192q64y-6"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),Tu=yu(Q.FaCaretLeft,{}),Pu=yu(Q.FaCaretRight,{}),Du=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vu(this,gu(t).call(this))).state={currentSlide:0},e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(t,o.a.Component),n=t,(r=[{key:"onPrevClick",value:function(e,t){t(e)}},{key:"onNextClick",value:function(e,t){t(e)}},{key:"onDayClick",value:function(e){(0,this.props.onChangeDay)(e.format("DDMMYYYY"))}},{key:"renderDay",value:function(e){return o.a.createElement(o.a.Fragment,null,yu("div",{},void 0,e.format("dddd")),yu("div",{},void 0,e.format("MM/DD/YYYY")))}},{key:"renderItems",value:function(e,t){var n=this,r=this.props.selectedDay;return e.format("DDMMYYYY")===r.format("DDMMYYYY")?yu(Cu,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e)):e.format("DDMMYYYY")===X()().format("DDMMYYYY")?yu(Au,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e)):yu(Iu,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e))}},{key:"afterSlide",value:function(e){var t=this.props,n=t.days,r=t.onChangeWeek,o=this.state.currentSlide;(0===o&&1===e||1===o&&2===e||2===o&&0===e)&&r(n[0].add(1,"w").format("DDMMYYYY")),(1===o&&0===e||0===o&&2===e||2===o&&1===e)&&r(n[0].subtract(1,"w").format("DDMMYYYY")),this.setState({currentSlide:e})}},{key:"render",value:function(){var e=this,t=this.props.days;return yu(ku,{},void 0,yu(Z.a,{wrapAround:!0,dragging:!0,renderBottomCenterControls:function(){return""},renderCenterLeftControls:function(t){var n=t.previousSlide;return yu(_u,{onClick:function(t){return e.onPrevClick(t,n)}},void 0,Tu)},renderCenterRightControls:function(t){var n=t.nextSlide;return yu(Ou,{onClick:function(t){return e.onNextClick(t,n)}},void 0,Pu)},afterSlide:function(t){return e.afterSlide(t)}},void 0,yu(xu,{},void 0,t.map(function(t,n){return e.renderItems(t,n)})),yu(xu,{},void 0,t.map(function(t,n){return e.renderItems(t,n)})),yu(xu,{},void 0,t.map(function(t,n){return e.renderItems(t,n)}))))}}])&&bu(n.prototype,r),i&&bu(n,i),t}();function Eu(e){return(Eu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nu(e,t,n,r){Su||(Su="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Su,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mu(e,t){return!t||"object"!==Eu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ru(e,t){return(Ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fu=i.c.div.withConfig({displayName:"DaySelector__DaySelectorWrapper",componentId:"rxtnnz-0"})(["width:100%;height:4rem;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-bottom:2px solid #3883bb;display:flex;"]),Bu=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Mu(this,Yu(t).call(this,e));var r=X()().startOf("isoWeek"),o=X()().endOf("isoWeek");n.days=[];for(var i=r;i<=o;)n.days.push(i),i=i.clone().add(1,"d");return n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ru(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.currentDay,n=e.weekDays,r=e.onChangeDay,o=e.onChangeWeek,i=e.onChangeDayOnCalendar;return Nu(Fu,{},void 0,Nu(mu,{selectedDay:t,onChangeDay:i}),Nu(Du,{days:n.valueSeq().toArray(),selectedDay:t,onChangeDay:r,onChangeWeek:o}))}}])&&ju(n.prototype,r),i&&ju(n,i),t}();var Lu,Wu=Object(s.b)({currentDay:lc(),weekDays:Object(s.a)(fc,function(e){return e.get("currentWeekDays")})}),Hu=Object(c.connect)(Wu,function(e){return{onChangeDay:function(t){return e(kr(t))},onChangeWeek:function(t){return e(xr(t))},onChangeDayOnCalendar:function(t){return e(Ir(t))}}}),zu=Object(a.compose)(Hu)(Bu),Uu=n("f8a33b307d5498ae9f5a"),Gu=n.n(Uu),$u=n("f43c68cec9bf27c3c75d"),Ku=n.n($u),Ju=(n("ab11f45a666e0771a8b6"),n("7fa0fb58556283418c86")),Vu=n.n(Ju),qu=(n("ca3c9466d910bcc91f4e"),{ASSIGNED:"unconfirm",CONFIRMED:"confirm",CHECKED_IN:"checkin",PAID:"paid",WAITING:"waiting",CANCEL:"cancel"}),Xu=function(e){return{id:e.id,code:e.code,userFullName:e.firstName+" "+e.lastName,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,services:e.options.sort(function(e,t){var n=e.bookingServiceId;return t.bookingServiceId-n}),products:e.products.sort(function(e,t){var n=e.bookingProductId;return t.bookingProductId-n}),extras:e.extras.sort(function(e,t){var n=e.bookingExtraId;return t.bookingExtraId-n}),status:qu[e.status],staffId:e.memberId,fromTime:e.start,toTime:e.end,userId:e.user_id,createDate:e.createDate,tipPercent:e.tipPercent,tipAmount:e.tipAmount,subTotal:e.subTotal,total:e.total,tax:e.tax,discount:e.discount,giftCard:e.giftCard,giftCards:e.giftCards?e.giftCards:[],notes:e.notes?e.notes.sort(function(e,t){var n=e.appointmentNoteId;return t.appointmentNoteId-n}):[]}},Zu={noteValue:"",confirmationModal:!1,userFullName:"",old_service:[],old_product:[],old_extra:[],services:[],products:[],extras:[],prices:[],old_prices:[],pricesExtras:[],old_priceExtras:[],old_total_duration:0,dayChange:new Date,old_dayChange:new Date,fromTime:moment(),old_fromTime:moment(),toTime:new Date,notes:[],newNotes:[],time:new Date,old_selectedStaff:"",selectedStaff:"",isOpenStaffList:!1,cloneAppointment:"",isPopupDay:!1,isChange:!1,isPopupStaff:!1,indexPopupStaff:"",isPopupTimePicker:!1,isPoupPrice:!1,indexPrice:"",valuePriceIndex:"",isPopupPriceState:"service"};function Qu(e){return(Qu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t,n,r){Lu||(Lu="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Lu,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nd(e,t){return!t||"object"!==Qu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rd(e){return(rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function od(e,t){return(od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var id,ad=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=nd(this,rd(t).call(this,e))).state={},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&od(e,t)}(t,r["Component"]),n=t,(o=[{key:"closePopupStaff",value:function(e){this.props.togglePopupStaff(e)}},{key:"renderStaffList",value:function(){var e=this;return this.props.staffList.map(function(t,n){return ed("div",{onClick:function(){return e.closePopupStaff(t)},style:cd.itemStaff},n,ed("img",{style:cd.imgStaff,src:t?t.imageUrl:""}),ed("p",{style:{marginLeft:10}},void 0,t.title))})}},{key:"render",value:function(){var e=this;return ed(je.a,{onOutsideClick:function(){return e.props.closePopupStaff()}},void 0,ed("div",{style:cd.staffList},void 0,this.renderStaffList()))}}])&&td(n.prototype,o),i&&td(n,i),t}(),cd={staffList:{height:200,width:170,overflowY:"scroll",background:"#ffffff",zIndex:9999,position:"absolute",top:"0%",left:"50%",borderRadius:5,boxShadow:"0 3px 9px rgba(0,0,0,.175)"},imgStaff:{width:40,height:40,objectFit:"cover",borderRadius:30},itemStaff:{display:"flex",flexDirection:"row",paddingLeft:10,paddingTop:10,cursor:"pointer"}},sd=n("12f33dda35cdb1ff52b2"),ud=n.n(sd);function dd(e){return(dd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pd(e,t,n,r){id||(id="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:id,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bd(e,t,n[t])})}return e}function ld(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function md(e){return(md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yd(e,t){return(yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vd,gd=i.c.div.withConfig({displayName:"PopupTimePicker__PopupTimePK",componentId:"sc-1a15bnt-0"})(["position:absolute;top:2.8rem;left:0rem;background-color:#ffffff;border-radius:5px;z-index:999999999999999;width:22rem;height:18rem;box-shadow:0 3px 9px rgba(0,0,0,.175);"]),wd=i.c.div.withConfig({displayName:"PopupTimePicker__Header",componentId:"sc-1a15bnt-1"})(["width:100%;height:3rem;padding:15px;display:flex;justify-content:center;align-items:center;background-color:#eaeaea;border-top-left-radius:5px;border-top-right-radius:5px;font-weight:900;font-size:1rem;color:#585858;"]),Sd=i.c.div.withConfig({displayName:"PopupTimePicker__Body",componentId:"sc-1a15bnt-2"})(["height:12rem;"]),kd=i.c.div.withConfig({displayName:"PopupTimePicker__Footer",componentId:"sc-1a15bnt-3"})(["width:100%;flexDirection:row;display:flex;border:'4px solid #333';background-color:#eaeaea;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:2px solid #dddddd;"]),xd=i.c.div.withConfig({displayName:"PopupTimePicker__Button",componentId:"sc-1a15bnt-4"})(["width:50%;height:3rem;justify-content:center;align-items:center;display:flex;color:#1366af;background-color:#eaeaea;border-bottom-left-radius:8px;border-bottom-right-radius:",";border-right:",";z-zIndex:1111;& > span{font-weight:500;},"],function(e){return e.borderBottomRight?"8px":0},function(e){return e.borderRight?"2px solid #dddddd":0}),Id=pd(wd,{},void 0,"Time Picker"),Cd=pd("span",{},void 0,"Cancel"),Ad=pd("span",{},void 0,"Done"),_d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=md(t).call(this,e),n=!o||"object"!==dd(o)&&"function"!==typeof o?hd(r):o,bd(hd(n),"handleChange",function(e,t){n.setState(function(n){return{valueGroups:fd({},n.valueGroups,bd({},e,t))}})}),n.state={valueGroups:{hour:"08",minutes:"30",localization:"AM"},optionGroups:{hour:["01","02","03","04","05","06","07","08","09","10","11","12"],minutes:["00","15","30","45"],localization:["AM","PM"]}},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yd(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.fromTime;this.setState({valueGroups:{hour:X()(e).format("hh"),minutes:X()(e).minutes().toString(),localization:X()(e).format("A")}})}},{key:"componentWillReceiveProps",value:function(e){var t=e.fromTime;this.setState({valueGroups:{hour:X()(t).format("hh"),minutes:X()(t).minutes().toString(),localization:X()(t).format("A")}})}},{key:"done",value:function(){var e=this.state.valueGroups,t=e.hour,n=e.minutes,r=e.localization,o=this.props.currentDay,i="".concat(X()(o).format("MM/DD/YYYY")," ").concat(t,":").concat(n," ").concat(r);this.props.doneTimePicker(i)}},{key:"cancel",value:function(){this.props.cancelTimePicker()}},{key:"render",value:function(){var e=this,t=(this.props.fromTime,this.state),n=t.optionGroups,r=t.valueGroups;return pd(je.a,{onOutsideClick:function(){return e.cancel()}},void 0,pd(gd,{},void 0,Id,pd(Sd,{},void 0,pd(ud.a,{optionGroups:n,valueGroups:r,onChange:function(t,n){return e.handleChange(t,n)}})),pd(kd,{},void 0,pd(xd,{borderRight:!0,onClick:function(){return e.cancel()}},void 0,Cd),pd(xd,{borderBottomRight:!0,onClick:function(){return e.done()}},void 0,Ad))))}}])&&ld(n.prototype,o),i&&ld(n,i),t}(),Od=n("12b4e377b2ecc97a25de");function Td(e){return(Td="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pd(e,t,n,r){vd||(vd="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:vd,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ed(e,t){return!t||"object"!==Td(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jd(e,t){return(jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Md,Yd=Object(i.c)(Pe.a).withConfig({displayName:"PopupPrice__PricePopup",componentId:"lk9jrd-0"})(["width:22rem !important;height:10.4rem !important;padding:0 !important;border-radius:5px !important;"]),Rd=i.c.div.withConfig({displayName:"PopupPrice__Container",componentId:"lk9jrd-1"})(["background-color:#ffffff;border-radius:5px;z-index:999999999999999;width:22rem;height:10.4rem;box-shadow:0 3px 9px rgba(0,0,0,.175);"]),Fd=i.c.div.withConfig({displayName:"PopupPrice__Header",componentId:"lk9jrd-2"})(["width:100%;height:3rem;padding:15px;display:flex;justify-content:center;align-items:center;background-color:#eaeaea;border-top-left-radius:5px;border-top-right-radius:5px;font-weight:900;font-size:1rem;"]),Bd=i.c.div.withConfig({displayName:"PopupPrice__Body",componentId:"lk9jrd-3"})(["height:4.6rem;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;"]),Ld=i.c.div.withConfig({displayName:"PopupPrice__Footer",componentId:"lk9jrd-4"})(["width:100%;flexDirection:row;display:flex;border:'4px solid #333';background-color:#eaeaea;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:2px solid #dddddd;"]),Wd=i.c.div.withConfig({displayName:"PopupPrice__Button",componentId:"lk9jrd-5"})(["width:50%;height:3rem;justify-content:center;align-items:center;display:flex;color:#1366af;background-color:#eaeaea;border-bottom-left-radius:8px;border-bottom-right-radius:",";border-right:",";z-zIndex:1111;& > span{font-weight:bold;}"],function(e){return e.borderBottomRight?"8px":0},function(e){return e.borderRight?"2px solid #dddddd":0}),Hd=Object(i.c)(Vu.a).withConfig({displayName:"PopupPrice__Input",componentId:"lk9jrd-6"})(["border:1px solid #dddddd;border-radius:3px;height:2.3rem;width:85%;text-align:right;padding-right:1rem;color:#1173C3;font-weight:600;"]),zd=Pd(Fd,{},void 0,"Edit Price"),Ud=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ed(this,Nd(t).call(this,e))).state={price:""},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jd(e,t)}(t,r["Component"]),n=t,(o=[{key:"closePopup",value:function(){this.props.closePopupPrice()}},{key:"donePopup",value:function(){var e=this.state.price,t=this.props.indexPrice;this.props.donePopupPrice(e,t)}},{key:"componentDidMount",value:function(){var e=this.props.valuePriceIndex;this.setState({price:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.valuePriceIndex;this.setState({price:t})}},{key:"onChangePrice",value:function(e){var t=e.floatValue;t&&this.setState({price:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isPoupPrice,r=(t.valuePriceIndex,t.indexPrice,this.state.price);return Pd(Yd,{closeOnDocumentClick:!1,open:n,position:"right center"},void 0,Pd(Rd,{},void 0,zd,Pd(Bd,{},void 0,Pd(Q.FaDollarSign,{style:{position:"absolute",left:40,color:"#585858"}}),Pd(Hd,{value:parseFloat(r).toFixed(2),thousandSeparator:!1,onValueChange:function(t){return e.onChangePrice(t)},type:"tel"})),Pd(Ld,{},void 0,Pd(Wd,{onClick:function(){return e.closePopup()},borderRight:!0},void 0,"Cancel"),Pd(Wd,{onClick:function(){return e.donePopup()},borderBottomRight:!0},void 0,"Done"))))}}])&&Dd(n.prototype,o),i&&Dd(n,i),t}();function Gd(e){return(Gd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kd(e,t,n,r){Md||(Md="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Md,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Jd(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Vd(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Jd(i,r,o,a,c,"next",e)}function c(e){Jd(i,r,o,a,c,"throw",e)}a(void 0)})}}function qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xd(e){return(Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qd(e,t){return(Qd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tp=Object(i.c)(Pe.a).withConfig({displayName:"DetailAppointment__AppPopup",componentId:"sc-1ygvad7-0"})(["border-radius:1.5rem;padding:0 !important;border:none !important;box-shadow:",";"],function(e){return e.BoxShadow}),np=i.c.div.withConfig({displayName:"DetailAppointment__AppPopupWrapper",componentId:"sc-1ygvad7-1"})(["position:relative;"]);np.Header=i.c.div.withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-2"})(["height:3rem;font-size:23px;font-weight:600;background:",";color:",";letter-spacing:0.6;width:100%;padding:0.5rem 1rem;line-height:1.5;text-align:center;border-top-left-radius:1.5rem;border-top-right-radius:1.5rem;"],function(e){return e.backgroundColor},function(e){return e.color?e.color:"white"}),np.Close=i.c.div.withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-3"})(["position:absolute;right:0.5rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;cursor:pointer;"]),np.Body=i.c.div.withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-4"})(["background:#ffffff;width:100%;padding:1rem 1rem 0 1rem;height:450px;overflow-y:",";"],function(e){return e.scroll?"scroll":"hidden"}),np.Footer=i.c.div.withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-5"})(["display:flex;padding:0.5rem 1rem 1rem 1rem;& > div{width:50%;text-align:center;}"]);var rp=Object(i.c)(tp).withConfig({displayName:"DetailAppointment__AppointmentPopup",componentId:"sc-1ygvad7-6"})(["width:50rem !important;"]),op=Object(i.c)(np).withConfig({displayName:"DetailAppointment__AppointmentWrapper",componentId:"sc-1ygvad7-7"})([""]);op.Header=Object(i.c)(np.Header).withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-8"})([""]),op.Close=Object(i.c)(np.Close).withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-9"})([""]),op.Body=Object(i.c)(np.Body).withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-10"})([""]),op.Footer=Object(i.c)(np.Footer).withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-11"})([""]);var ip=i.c.div.withConfig({displayName:"DetailAppointment__UserInformation",componentId:"sc-1ygvad7-12"})(["display:flex;padding:0.5rem;& > div{width:50%;display:flex;justify-content:space-between;}& > div:nth-child(1){margin-right:1.5rem;}"]),ap=i.c.div.withConfig({displayName:"DetailAppointment__WrapperCancelAppointment",componentId:"sc-1ygvad7-13"})(["display:flex;width:100%;justify-content:row;margin-top:50px;"]),cp=i.c.button.withConfig({displayName:"DetailAppointment__AdjustButton",componentId:"sc-1ygvad7-14"})(["background:",";color:#ffffff;padding:5px 15px;margin:0 10px;width:47px;border-radius:3px;cursor:",";"],function(e){return e.active?"#0071c5":"#dddddd"},function(e){return e.active?"pointer":"initial"}),sp=Object(i.c)(cp).withConfig({displayName:"DetailAppointment__ButtonService",componentId:"sc-1ygvad7-15"})(["background:",";"],function(e){return e.backgroundColor}),up=Object(i.c)(cp).withConfig({displayName:"DetailAppointment__ButtonExtra",componentId:"sc-1ygvad7-16"})(["background:",";"],function(e){return e.backgroundColor}),dp=i.c.button.withConfig({displayName:"DetailAppointment__ButtonProduct",componentId:"sc-1ygvad7-17"})(["background:",";color:#ffffff;padding:5px 15px;width:47px;margin:0 10px;border-radius:3px;cursor:",";"],function(e){return e.backgroundColor},function(e){return e.active?"pointer":"initial"}),pp=i.c.div.withConfig({displayName:"DetailAppointment__NoteWrapper",componentId:"sc-1ygvad7-18"})(["border:1px solid #dddddd;background:#eeeeee;padding:0.5rem;overflow-x:scroll;height:10rem;"]);pp.Form=i.c.form.withConfig({displayName:"DetailAppointment__Form",componentId:"sc-1ygvad7-19"})(["display:flex;& > input{flex:1;background:#ffffff;border:1px solid #dddddd;border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0 1rem;-moz-appearance:none;-webkit-appearance:none;}& > button{width:5rem;border-top-right-radius:4px;border-bottom-right-radius:4px;background:#0071c5;color:#ffffff;line-height:2.8;cursor:pointer;text-align:center;}"]);var fp=i.c.div.withConfig({displayName:"DetailAppointment__NoteInformation",componentId:"sc-1ygvad7-20"})(["display:flex;padding:0.5rem;& > div:nth-child(1),& > div:nth-child(2){width:20%;}& > div:last-child{width:60%;}"]),lp=i.c.div.withConfig({displayName:"DetailAppointment__AppointmentInformation",componentId:"sc-1ygvad7-21"})(["display:flex;padding:0.5rem;justify-content:space-between;& > div{}"]),mp=i.c.div.withConfig({displayName:"DetailAppointment__TipPercent",componentId:"sc-1ygvad7-22"})(["display:flex;padding:0.5rem;& > div{width:100%;display:flex;justify-content:flex-end;}"]),hp=i.c.button.withConfig({displayName:"DetailAppointment__Button",componentId:"sc-1ygvad7-23"})(["border-radius:4px;background:",";color:",";border:1px solid #dddddd;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;text-align:center;padding:0 2rem;width:9rem;"],function(e){return e.primary?"#0071c5":"#eeeeee"},function(e){return e.primary?"#ffffff":"#333333"}),yp=Object(i.c)(hp).withConfig({displayName:"DetailAppointment__ButtonChange",componentId:"sc-1ygvad7-24"})(["box-shadow:0 0px #fff inset,0 0.6px 10px #1FB5F4;border:none !important;"]),bp=(i.c.button.withConfig({displayName:"DetailAppointment__ButtonChangeTime",componentId:"sc-1ygvad7-25"})(["background:",";color:",";height:40%;justify-content:center;align-items:center;margin-top:5px;margin-left:10px;width:60%;float:right;cursor:pointer;border-radius:4px;font-size:1rem;"],function(e){return e.disabled?"#eeeeee":"#0071c5"},function(e){return e.primary?"#333333":"#ffffff"}),i.c.img.withConfig({displayName:"DetailAppointment__Img",componentId:"sc-1ygvad7-26"})(["filter:invert(100%);"]),i.c.div.withConfig({displayName:"DetailAppointment__WrapperTimeChange",componentId:"sc-1ygvad7-27"})(["width:100%;display:flex;flex-direction:row;margin-top:1rem;"])),vp=i.c.div.withConfig({displayName:"DetailAppointment__SelectDateWrapper",componentId:"sc-1ygvad7-28"})(["width:calc(100%/2);float:left;"]);vp.SelectDate=i.c.div.withConfig({displayName:"DetailAppointment__SelectDate",componentId:"sc-1ygvad7-29"})(["background:",";color:#fff;font-size:0.95rem;font-weight:400;padding-left:10px;line-height:2;"],function(e){return e.NoneBackground?"#ffffff":"#585858"}),vp.SelectStaff=Object(i.c)(vp.SelectDate).withConfig({displayName:"DetailAppointment__SelectStaff",componentId:"sc-1ygvad7-30"})(["padding-left:50%;"]);var gp=Object(i.c)(tp).withConfig({displayName:"DetailAppointment__ConfirmationPopup",componentId:"sc-1ygvad7-31"})(["width:30rem !important;height:10rem !important;"]),wp=Object(i.c)(np).withConfig({displayName:"DetailAppointment__ConfirmationWrapper",componentId:"sc-1ygvad7-32"})([""]);wp.Header=Object(i.c)(np.Header).withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-33"})([""]),wp.Body=Object(i.c)(np.Body).withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-34"})(["text-align:center;height:150px;border-bottom-left-radius:1.5rem;border-bottom-right-radius:1.5rem;"]),wp.Close=Object(i.c)(np.Close).withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-35"})([""]),wp.Footer=Object(i.c)(np.Footer).withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-36"})([""]);var Sp=i.c.div.withConfig({displayName:"DetailAppointment__WrapperFooterPaid",componentId:"sc-1ygvad7-37"})(["padding:10px;display:flex;flex-direction:row;"]);Sp.Item=i.c.div.withConfig({displayName:"DetailAppointment__Item",componentId:"sc-1ygvad7-38"})(["display:flex;flex-direction:row;justify-content:space-between;width:50%;margin-left:10px;color:#0b0b0b;"]),Sp.ItemLeft=Object(i.c)(Sp.Item).withConfig({displayName:"DetailAppointment__ItemLeft",componentId:"sc-1ygvad7-39"})(["padding-right:4rem;"]);var kp=Object(i.c)(Sp).withConfig({displayName:"DetailAppointment__FooterTotal",componentId:"sc-1ygvad7-40"})(["justify-content:space-between;border-top:1px solid #ebebeb;margin-top:0.3rem;padding-left:20px;"]);i.c.div.withConfig({displayName:"DetailAppointment__MiniCalendarWrapper",componentId:"sc-1ygvad7-41"})(["width:calc(5.05rem - 1px);height:100%;text-align:center;border-right:1px solid #3883bb;position:relative;padding:0.5rem;"]).Button=i.c.div.withConfig({displayName:"DetailAppointment__Button",componentId:"sc-1ygvad7-42"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1.5rem;line-height:1.5;height:100%;cursor:pointer;"]);var xp=i.c.div.withConfig({displayName:"DetailAppointment__CalendarPopup",componentId:"sc-1ygvad7-43"})(["margin-top:280px;position:absolute;transform:translate3d(0.5rem,calc(-18rem + 0.5rem),0px);will-change:transform;z-index:1;top:3rem;left:0;background:#fff;color:#000;height:18rem;line-height:1;box-shadow:2px 2px 10px rgba(0,0,0,0.1);border-radius:8px;overflow:hidden;"]);xp.Heading=i.c.div.withConfig({displayName:"DetailAppointment__Heading",componentId:"sc-1ygvad7-44"})(["background:#0071c5;color:#ffffff;height:3rem;font-size:1.2rem;line-height:2;text-align:center;padding-top:0.3rem;"]),xp.Body=i.c.div.withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-45"})([""]);var Ip=Kd(op.Header,{backgroundColor:"#00dc00"},void 0,"Appointment"),Cp=Kd(xp.Heading,{},void 0,"Select Day"),Ap=Kd(vp.SelectDate,{},void 0,"Date"),_p=Kd(vp.SelectDate,{},void 0,Kd("div",{},void 0,"Time")),Op=Kd("span",{},void 0,"Arriving : "),Tp=Kd("span",{},void 0,"Tip : "),Pp=Kd("span",{},void 0,"Total : "),Dp=Kd("span",{},void 0,"Customer name: "),Ep=Kd("span",{},void 0,"Phone number: "),Np=Kd(mp,{}),jp=Kd("td",{},void 0,"You're in Offline"),Mp=Kd("td",{},void 0,"You're in Offline"),Yp=Kd("strong",{},void 0,"Change"),Rp=Kd(Q.FaTimesCircle,{color:"white"}),Fp=Kd(wp.Header,{backgroundColor:"#00b4f7"},void 0,"Confirmation"),Bp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Xd(t).call(this,e),n=!o||"object"!==Gd(o)&&"function"!==typeof o?Zd(r):o,ep(Zd(n),"updateStatusPaid",function(){var e=Vd(regeneratorRuntime.mark(function e(t){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.appointment,e.next=3,Xu(r);case 3:return o=e.sent,e.next=6,JSON.stringify({appointmentId:t||"web",appointment:o,action:"checkout"});case 6:i=e.sent,window.postMessage(i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ep(Zd(n),"onChangePrice",function(){var e=Vd(regeneratorRuntime.mark(function e(t,r){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state,i=o.prices,a=o.services,i[r]=t,a[r].price=t,e.next=5,n.setState({prices:i,services:a});case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ep(Zd(n),"togglePopupStaff",function(e,t){if(e.id){var r=n.state.services;r[t].staffId=e.id,n.setState({services:r})}var o=n.state.isPopupStaff;n.setState({isPopupStaff:!o,indexPopupStaff:t})}),ep(Zd(n),"renderNote",function(e,t){return Kd(fp,{},t,Kd("div",{},void 0,Kd("strong",{},void 0,X()(e.createDate).format("MM/DD/YYYY"))),Kd("div",{},void 0,Kd("i",{},void 0,e.note)))}),ep(Zd(n),"conditionButtonChange",function(){var e=n.state,t=e.old_service,r=e.old_product,o=e.old_extra,i=e.services,a=e.products,c=e.extras,s=e.old_fromTime,u=e.fromTime,d=e.dayChange,p=e.old_dayChange,f=e.selectedStaff,l=e.old_selectedStaff;return!!(Gu()(t.sort(),i.sort())&&Gu()(r.sort(),a.sort())&&Gu()(o.sort(),c.sort())&&X()(s).format("hh:mm A")===X()(u).format("hh:mm A")&&X()(d).format("MM/DD/YYYY")===X()(p).format("MM/DD/YYYY")&&f.id===l.id)}),n.state=Zu,n}var r,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qd(e,t)}(t,o.a.Component),r=t,(i=[{key:"addService",value:function(e){this.setState(function(t){var n=t.services;return n[e].duration+=15,{services:n}})}},{key:"subtractProduct",value:function(e){this.setState(function(t){var n=t.products;return n[e].quantity>=1&&(n[e].quantity-=1),{products:n}})}},{key:"addProduct",value:function(e){this.setState(function(t){var n=t.products;return n[e].quantity+=1,{products:n}})}},{key:"onChangeFromTime",value:function(e){this.setState({fromTime:e})}},{key:"onChangeToTime",value:function(e){this.setState({toTime:e})}},{key:"onChangeSelectedStaff",value:function(e,t){this.setState({selectedStaff:e})}},{key:"subtractService",value:function(e){this.setState(function(t){var n=t.services;t.prices;return n[e].duration>=5&&(n[e].duration-=5),n[e].duration<5&&(n[e].duration=5),{services:n}})}},{key:"addService",value:function(e){this.setState(function(t){var n=t.services;t.prices;return n[e].duration+=5,{services:n}})}},{key:"subtractExtra",value:function(e){this.setState(function(t){var n=t.extras;return n[e].duration>=5&&(n[e].duration-=5),n[e].duration<5&&(n[e].duration=5),{extras:n}})}},{key:"addExtra",value:function(e){this.setState(function(t){var n=t.extras;return n[e].duration+=5,{extras:n}})}},{key:"onChangePriceExtra",value:function(){var e=Vd(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state,o=r.pricesExtras,i=r.extras,o[n]=t,i[n].price=t,e.next=5,this.setState({pricesExtras:o,extras:i});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this.state,n=t.notes,r=t.noteValue,o=t.userFullName;e.preventDefault(),this.setState({noteValue:"",notes:[{name:o,date:X()().format("DD/MM/YYYY"),content:r}].concat($d(n))})}},{key:"handleChange",value:function(e){var t={note:e.target.value};this.setState({noteValue:t.note})}},{key:"getTotalPrice",value:function(){var e=this.state,t=e.products,n=e.pricesExtras,r=e.prices,o=0;return r.forEach(function(e){o+=parseInt(e)}),t.forEach(function(e){o+=e.price*e.quantity}),n.forEach(function(e){o+=parseInt(e)}),o}},{key:"getTotalDuration",value:function(){var e=this.state.services,t=0;return e.forEach(function(e){t+=e.duration}),t}},{key:"closeModal",value:function(){var e=this.props,t=e.deselectAppointment,n=e.disableCalendar;t(),n(!1)}},{key:"setChangeTrue",value:function(){this.setState({isChange:!0})}},{key:"setChangeFalse",value:function(){this.setState({isChange:!1})}},{key:"componentWillReceiveProps",value:function(){var e=Vd(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,c,s,u,d,p,f,l,m,h,y,b,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentDay,r=t.staffList,!(o=t.appointmentDetail)){e.next=23;break}return i=o.options,a=o.extras,i.forEach(function(e){e.price=parseFloat(e.price)}),a.forEach(function(e){e.price=parseFloat(e.price)}),c=o?r.find(function(e){return e.id===o.memberId}):"",e.next=9,this.resetState();case 9:return s=JSON.parse(JSON.stringify(o)),u=s.options,d=s.userFullName,p=s.products,f=s.start,l=s.extras,m=s.notes,e.next=13,this.setState({old_service:i,old_product:o.products,old_extra:a,services:u,userFullName:d,products:p,dayChange:n,old_dayChange:n,fromTime:X()(f),old_fromTime:X()(f),extras:l,notes:m,selectedStaff:c,old_selectedStaff:c,cloneAppointment:JSON.parse(JSON.stringify(o))});case 13:return h=0,e.next=16,o.options.forEach(function(e){h+=parseInt(e.duration)});case 16:return e.next=18,o.extras.forEach(function(e){h+=parseInt(e.duration)});case 18:return this.setState({old_total_duration:h}),e.next=21,this.setState({prices:[],pricesExtras:[]});case 21:for(y=0;y<o.options.length;y++)b=o.options[y].price,this.setState({prices:[].concat($d(this.state.prices),[parseFloat(b)]),old_prices:[].concat($d(this.state.prices),[parseFloat(b)])});for(v=0;v<o.extras.length;v++)g=o.extras[v].price,this.setState({pricesExtras:[].concat($d(this.state.pricesExtras),[parseFloat(g)]),old_priceExtras:[].concat($d(this.state.old_priceExtras),[parseFloat(g)])});case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resetState",value:function(){this.setState(Zu)}},{key:"openConfirmationModal",value:function(){this.setState({confirmationModal:!0})}},{key:"closeConfirmationModal",value:function(){this.setState({confirmationModal:!1})}},{key:"confirmCancelAppointment",value:function(){this.closeConfirmationModal();var e=this.props,t=e.appointment,n=e.cancelAppointment,r=e.disableCalendar,o=this.state.services;n(t.id);var i=o.map(function(e){return"".concat(e.id,"@").concat(e.duration,"@").concat(t.memberId)});this.updateStatus("cancel",i),r(!1)}},{key:"ChangeAppointmentTime",value:function(){var e=this.state.services,t=this.props.appointment,n=e.map(function(e){return"".concat(e.id,"@").concat(e.duration,"@").concat(t.memberId)});"ASSIGNED"===t.status?this.updateChangeAppointment("unconfirm",n):"CONFIRMED"===t.status?this.updateChangeAppointment("unconfirm",n):"CHECKED_IN"===t.status?this.updateChangeAppointment("checkin",n):alert("status appointment ".concat(t.status,"- id appointment ").concat(t.id)),this.closeModal()}},{key:"updateChangeAppointment",value:function(e,t){var n=this.state,r=n.products,o=n.fromTime,i=n.toTime,a=n.services,c=n.newNotes,s=n.selectedStaff,u=n.extras,d=this.props,p=d.appointment;(0,d.changeAppointmentTime)({appointment:p,total:this.getTotalPrice(),duration:this.getTotalDuration(),servicesUpdate:a,productsUpdate:r,extrasUpdate:u,status:e,old_duration:this.state.old_total_duration,fromTime:o,toTime:i,notes:c,dayPicker:this.state.dayChange,selectedStaff:s})}},{key:"nextStatus",value:function(){var e=this.props.appointment,t=this.state.services.map(function(t){return"".concat(t.id,"@").concat(t.duration,"@").concat(e.memberId)});"ASSIGNED"===e.status?this.updateStatus("confirm",t):"CONFIRMED"===e.status?this.updateStatus("checkin",t):"CHECKED_IN"===e.status?this.updateStatusPaid(e.id):alert("status appointment ".concat(e.status," id appointment ").concat(e.id)),this.closeModal()}},{key:"updateStatus",value:function(e,t){var n=this.state,r=n.products,o=n.services,i=n.extras,a=n.newNotes,c=n.cloneAppointment,s=this.props,u=s.appointment;(0,s.updateAppointment)({appointment:u,servicesUpdate:o,productsUpdate:r,extrasUpdate:i,status:e,notes:a,old_duration:this.state.old_total_duration,old_status:u.status,old_appointment:c})}},{key:"renderHeader",value:function(){var e=this.props.appointment;return"ASSIGNED"===e.status?Kd(op.Header,{color:"#585858",backgroundColor:"#FFFD71"},void 0,e.code," Unconfirmed Appointment"):"CONFIRMED"===e.status?Kd(op.Header,{color:"#585858",backgroundColor:"#c2f4ff"},void 0,e.code," Confirmed Appointment"):"CHECKED_IN"===e.status?Kd(op.Header,{backgroundColor:"#00b4f7"},void 0,e.code," Checked-in Appointment"):"PAID"===e.status?Kd(op.Header,{backgroundColor:"#00dc00"},void 0,e.code," Paid Appointment"):Ip}},{key:"renderStaffList",value:function(){var e=this,t=this.props.staffList,n=this.state.selectedStaff;return t.map(function(t,r){return Kd("div",{onClick:function(){return e.onChangeSelectedStaff(t,r)},style:{display:"flex",flexDirection:"row",paddingLeft:10,paddingTop:10,cursor:"pointer",fontWeight:n.id===t.id?"600":"400",color:n.id===t.id?"#ffffff":"#333",backgroundColor:n.id===t.id?"#1073C2":"#ffffff"}},r,Kd("img",{style:{width:40,height:40,objectFit:"cover",borderRadius:30},src:t?t.imageUrl:""}),Kd("p",{style:{marginLeft:10}},void 0,t.title))})}},{key:"renderSelectDay",value:function(){var e=this,t=this.state,n=t.dayChange,r=t.isPopupDay;t.old_dayChange;return Kd("div",{style:{position:"relative",paddingTop:3}},void 0,Kd("div",{onClick:function(){return e.setState({isPopupDay:!r})},style:Lp.buttonDayChange},void 0,X()(n).format("MM/DD/YYYY"),Kd(Q.FaCaretDown,{style:{marginLeft:10,color:"#1173C3"}})),r&&Kd(je.a,{onOutsideClick:function(){return e.setState({isPopupDay:!r})}},void 0,Kd(xp,{},void 0,Cp,Kd(xp.Body,{},void 0,Kd(tu.a,{firstDayOfWeek:1,selectedDays:X()(n).toDate(),onDayClick:function(t){e.setState({dayChange:t})}})))))}},{key:"openPopupTimePicker",value:function(){this.setState({isPopupTimePicker:!0})}},{key:"closePopupTimePicker",value:function(){var e=this.state.isPopupTimePicker;this.setState({isPopupTimePicker:!e})}},{key:"doneTimePicker",value:function(e){this.setState({fromTime:e}),this.closePopupTimePicker()}},{key:"cancelTimePicker",value:function(){this.closePopupTimePicker()}},{key:"renderChangeAppointTime",value:function(){var e=this,t=this.state,n=(t.selectedStaff,t.isOpenStaffList,t.fromTime),r=t.isPopupTimePicker;return Kd(bp,{},void 0,Kd(vp,{},void 0,Ap,this.renderSelectDay()),Kd(vp,{},void 0,_p,Kd("div",{style:{paddingTop:3,height:42}},void 0,Kd("div",{style:{position:"relative"}},void 0,Kd("div",{style:Lp.buttonTime,onClick:function(){return e.openPopupTimePicker()}},void 0,X()(n).format("hh:mm A").toString(),Kd(Q.FaCaretDown,{style:{marginLeft:10,color:"#1173C3"}})),r&&Kd(_d,{cancelTimePicker:function(){return e.cancelTimePicker()},doneTimePicker:function(t){return e.doneTimePicker(t)},currentDay:this.props.currentDay,fromTime:n})))))}},{key:"renderFooterAppointment",value:function(e){return"PAID"===e.status?Kd(o.a.Fragment,{},void 0,Kd("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},void 0,Kd("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},void 0,Kd(Sp,{},void 0,Kd(Sp.ItemLeft,{},void 0,Kd("div",{style:{fontWeight:"600",color:"#585858"}},void 0,"Subtotal : "),Kd("div",{},void 0,"$ ",parseFloat(e.subTotal).toFixed(2))),Kd(Sp.Item,{},void 0,Kd("div",{style:{fontWeight:"600",color:"#585858"}},void 0,"Discount : "),Kd("div",{},void 0,"$ ",parseFloat(e.discount).toFixed(2))))),Kd("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},void 0,Kd(Sp,{},void 0,Kd(Sp.ItemLeft,{},void 0,Kd("div",{style:{fontWeight:"600",color:"#585858"}},void 0,"Tip : "),Kd("div",{},void 0,"$ ",parseFloat(e.tipAmount).toFixed(2))),Kd(Sp.Item,{},void 0,Kd("div",{style:{fontWeight:"600",color:"#585858"}},void 0,"Gift card : "),Kd("div",{},void 0,"$ ",parseFloat(e.giftCard).toFixed(2))))),Kd("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},void 0,Kd(Sp,{},void 0,Kd(Sp.ItemLeft,{},void 0,Kd("div",{style:{fontWeight:"600",color:"#585858"}},void 0,"Tax : "),Kd("div",{style:{paddingRight:10}},void 0,"$ ",parseFloat(e.tax).toFixed(2))))),Kd(kp,{},void 0,Kd("div",{style:{fontWeight:"900",fontSize:20,color:"#585858"}},void 0,"Total"),Kd("div",{style:{fontWeight:"600",fontSize:20,color:"#585858"}},void 0,"$ ",parseFloat(e.total).toFixed(2))))):Kd(o.a.Fragment,{},void 0,Kd("div",{},void 0,Op,Kd("strong",{},void 0,X()(e.start).fromNow())),Kd("div",{},void 0,Tp,Kd("strong",{},void 0,parseFloat(e.tipPercent).toFixed(2))),Kd("div",{},void 0,Pp,Kd("strong",{},void 0,"$ ",parseFloat(e.subTotal).toFixed(2))))}},{key:"renderBody",value:function(){var e=this.props,t=e.appointment,n=(e.currentDay,this.state.isPopupTimePicker);return Kd(op.Body,{scroll:!n},void 0,Kd(ip,{},void 0,Kd("div",{},void 0,Dp,Kd("span",{style:{color:"#333",fontWeight:"600"}},void 0,t.userFullName)),Kd("div",{},void 0,Ep,Kd("span",{style:{color:"#333",fontWeight:"600"}},void 0,ie(t.phoneNumber)))),"PAID"!==t.status&&this.renderChangeAppointTime(),this.renderServices(),this.renderProducts(),this.renderExtras(),this.renderNotes(),Kd(lp,{},void 0,this.renderFooterAppointment(t)),Np)}},{key:"isSame",value:function(e,t){var n=e,r=t;return e.length<=t.length&&(n=t,r=e,v()(Ku()(n.sort(),r.sort())))}},{key:"buttonService",value:function(e,t,n){this.state.old_service;var r="#dddddd";return"PAID"!==e.status&&t.duration>5&&(r="#0071c5"),r}},{key:"buttonService2",value:function(e,t,n){this.state.old_service;var r="#dddddd";return"PAID"!==e.status&&(r="#0071c5"),r}},{key:"closePopupStaff",value:function(){var e=this.state.isPopupStaff;this.setState({isPopupStaff:!e})}},{key:"openPopupPrice",value:function(e,t,n){this.setState({isPoupPrice:!0,indexPrice:t,valuePriceIndex:e,isPopupPriceState:n})}},{key:"closePopupPrice",value:function(){this.setState({isPoupPrice:!1})}},{key:"donePopupPrice",value:function(e,t){var n=this.state.isPopupPriceState;"service"===n?this.onChangePrice(e,t):"extra"===n&&this.onChangePriceExtra(e,t),this.closePopupPrice()}},{key:"renderService",value:function(e,t){var r=this,o=this.props,i=o.appointment,a=o.staffList,c=a.find(function(t){return parseInt(t.id)===parseInt(e.staffId)}),s=this.state,u=s.prices,d=s.isPopupStaff,p=s.indexPopupStaff,f=u[t]?parseFloat(u[t]).toFixed(2):"0.00",l=1===e.duration.toString().length?"0"+e.duration.toString():e.duration,m=c?c.title:"";return"PAID"!==i.status?Kd("tr",{},t,Kd("td",{style:{borderRight:0}},void 0,Kd("div",{onClick:function(){return r.togglePopupStaff("",t)},style:Lp.staffService},void 0,Kd("p",{style:Lp.staffNameColumn},void 0,m),Kd(Q.FaCaretDown,{style:{color:"#1173C3"}}),d&&t===p&&Kd(ad,{togglePopupStaff:function(e){return r.togglePopupStaff(e,t)},staffList:a,closePopupStaff:function(){return r.closePopupStaff()}}))),Kd("td",{style:{borderLeft:0}},void 0,Kd("div",{style:Lp.serviceColumn},void 0,Kd("div",{style:Lp.serviceName},void 0,e.serviceName))),"PAID"!==i.status&&Kd("td",{style:{textAlign:"center"}},void 0,Kd(sp,{backgroundColor:this.buttonService(i,e,t),disabled:"PAID"===i.status||e.duration<=5,onClick:function(){return r.subtractService(t)}},void 0,"-5'"),l,Kd(sp,{backgroundColor:this.buttonService2(i,e,t),disabled:"PAID"===i.status,onClick:function(){return r.addService(t)}},void 0,"+5'")),Kd("td",{},void 0,Kd("div",{onClick:function(){return r.openPopupPrice(f,t,"service")},style:Lp.row},void 0,Kd("div",{style:Lp.priceS},void 0,f),Kd("img",{src:n("aec32e8a77eab6610f23"),style:{width:16,height:16}})))):e.staff?Kd("tr",{},t,Kd("td",{style:{borderRight:0}},void 0,Kd("div",{style:{display:"flex",flexDirection:"row"}},void 0,Kd("img",{src:e.staff.imageUrl,style:{width:50,height:50,objectFit:"cover",borderRadius:25}}),Kd("p",{style:{marginLeft:8}},void 0,e.staff.displayName))),Kd("td",{style:{borderLeft:0}},void 0,Kd("div",{style:Lp.serviceName},void 0,e.serviceName)),Kd("td",{style:{textAlign:"center"}},void 0,e.staff.tip),Kd("td",{},void 0,Kd("div",{style:{textAlign:"center"}},void 0,f))):Kd("tr",{},t,Kd("td",{},void 0,e.serviceName),jp,Mp,Kd("td",{},void 0,Kd("div",{style:Lp.row},void 0,Kd(Vu.a,{value:f,onValueChange:function(e){return r.onChangePrice(e,t)},thousandSeparator:!1,disabled:"PAID"===i.status,style:Lp.price,type:"tel"}),Kd("img",{src:n("aec32e8a77eab6610f23"),style:{width:16,height:16}}))))}},{key:"renderServices",value:function(){var e=this,t=this.state.services,n=this.props.appointment;if(t.length>0)return"PAID"!==n.status?Kd("table",{},void 0,Kd("thead",{},void 0,Kd("tr",{},void 0,Kd("th",{width:"25%",style:{borderRight:0}},void 0,"Staff"),Kd("th",{width:"25%",style:{borderLeft:0}},void 0,"Services"),Kd("th",{width:"25%",style:{textAlign:"center"}},void 0,"Duration (min)"),Kd("th",{style:{textAlign:"center"}},void 0,"Price ($)"))),Kd("tbody",{},void 0,t.map(function(t,n){return e.renderService(t,n)}))):Kd("table",{},void 0,Kd("thead",{},void 0,Kd("tr",{},void 0,Kd("th",{style:{borderRight:0},width:"25%"},void 0,"Staff"),Kd("th",{style:{borderLeft:0},width:"25%"},void 0,"Services"),Kd("th",{width:"25%",style:{textAlign:"center"}},void 0,"Tip ($)"),Kd("th",{width:"25%",style:{textAlign:"center"}},void 0,"Price ($)"))),Kd("tbody",{},void 0,t.map(function(t,n){return e.renderService(t,n)})))}},{key:"buttonProduct",value:function(e,t,n){this.state.old_product;var r="#dddddd";return"PAID"!==e.status&&t.quantity>1&&(r="#0071c5"),r}},{key:"buttonProduct2",value:function(e,t,n){this.state.old_product;var r="#dddddd";return"PAID"!==e.status&&(r="#0071c5"),r}},{key:"renderProduct",value:function(e,t){var n=this,r=this.props.appointment,o=(this.state.old_product,1===e.quantity.toString().length?"0"+e.quantity.toString():e.quantity);return Kd("tr",{},t,Kd("td",{},void 0,e.productName),Kd("td",{style:{textAlign:"center"}},void 0,Kd(dp,{backgroundColor:this.buttonProduct(r,e,t),disabled:"PAID"===r.status||e.quantity<=1,onClick:function(){return n.subtractProduct(t)}},void 0,"-"),o,Kd(dp,{backgroundColor:this.buttonProduct2(r,e,t),disabled:"PAID"===r.status,onClick:function(){return n.addProduct(t)}},void 0,"+")),Kd("td",{},void 0,Kd("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},void 0,Kd("div",{style:"PAID"!==r.status?Lp.price2:{}},void 0,parseFloat(e.price*e.quantity).toFixed(2)))))}},{key:"renderGiftCard",value:function(e,t){if(e)return Kd("tr",{},t,Kd("td",{},void 0,e.name?e.name:""),Kd("td",{style:{textAlign:"center"}},void 0,e.quantity),Kd("td",{style:{textAlign:"center"}},void 0,e.price))}},{key:"renderProducts",value:function(){var e=this,t=this.state.products,n=this.props.appointment;if(t.length>0||n.giftCards&&n.giftCards.length>0)return Kd("table",{},void 0,Kd("thead",{},void 0,Kd("tr",{},void 0,Kd("th",{style:{width:"50%"}},void 0,"Selected Products"),Kd("th",{style:{width:(n.status,"25%"),textAlign:"center"}},void 0,"Amount"),Kd("th",{style:{textAlign:"center"}},void 0,"Price ($)"))),Kd("tbody",{},void 0,t.map(function(t,n){return e.renderProduct(t,n)}),n.giftCards&&n.giftCards.map(function(t,n){return e.renderGiftCard(t,n)})))}},{key:"buttonExtra",value:function(e,t,n){this.state.old_extra;var r="#dddddd";return"PAID"!==e.status&&t.duration>5&&(r="#0071c5"),r}},{key:"buttonExtra2",value:function(e,t,n){this.state.old_extra;var r="#dddddd";return"PAID"!==e.status&&(r="#0071c5"),r}},{key:"renderExtra",value:function(e,t){var r=this,o=this.props.appointment,i=this.state.pricesExtras,a=i[t]?parseFloat(i[t]).toFixed(2):"0.00";return Kd("tr",{},t,Kd("td",{},void 0,e.extraName),Kd("td",{style:{textAlign:"center"}},void 0,Kd(up,{backgroundColor:this.buttonExtra(o,e,t),disabled:"PAID"===o.status||e.duration<=5,onClick:function(){return r.subtractExtra(t)}},void 0,"-5'"),e.duration,Kd(up,{backgroundColor:this.buttonExtra2(o,e,t),disabled:"PAID"===o.status,onClick:function(){return r.addExtra(t)}},void 0,"+5'")),Kd("td",{style:{textAlign:"center"}},void 0,Kd("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},void 0,Kd("div",{onClick:"PAID"!==o.status?function(){return r.openPopupPrice(a,t,"extra")}:function(){}},void 0,Kd("div",{style:"PAID"!==o.status?Lp.priceS:{}},void 0,a)),"PAID"!==o.status&&Kd("img",{src:n("aec32e8a77eab6610f23"),style:{width:16,height:16}}))))}},{key:"renderExtras",value:function(){var e=this,t=this.state.extras,n=this.props.appointment;if(t.length>0)return Kd("table",{},void 0,Kd("thead",{},void 0,Kd("tr",{},void 0,Kd("th",{style:{width:"50%"}},void 0,"Selected Extras"),Kd("th",{style:{width:(n.status,"25%"),textAlign:"center"}},void 0,"Duration (min)"),Kd("th",{style:{textAlign:"center"}},void 0,"Price ($)"))),Kd("tbody",{},void 0,t.map(function(t,n){return e.renderExtra(t,n)})))}},{key:"addNote",value:function(){var e=this.state,t=e.newNotes,n=e.notes,r=e.noteValue,o={createDate:new Date,note:r};""!==r.trim()&&this.setState({notes:[o].concat($d(n)),newNotes:[o].concat($d(t)),noteValue:""})}},{key:"renderNotes",value:function(){var e=this,t=this.state.notes;return Kd(pp,{},void 0,Kd(pp.Form,{onSubmit:function(t){return e.handleSubmit(t)}},void 0,Kd("input",{value:this.state.noteValue,onChange:function(t){return e.handleChange(t)}}),Kd("button",{onClick:function(){return e.addNote()},type:"button"},void 0,Kd(Od.MdSubdirectoryArrowLeft,{style:{width:33,height:33}}))),t.map(this.renderNote))}},{key:"renderNextStatusButton",value:function(){var e=this,t=this.props.appointment;return this.conditionButtonChange()?"ASSIGNED"===t.status?Kd(hp,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Confirm"):"CONFIRMED"===t.status?Kd(hp,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Check In"):"CHECKED_IN"===t.status?Kd(hp,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Check out"):void 0:Kd(yp,{onClick:function(){return e.ChangeAppointmentTime()},primary:"true"},void 0,Yp)}},{key:"render",value:function(){var e=this,t=this.props,n=t.appointment,r=t.appointmentDetail,o=this.state.isPoupPrice;if(!n)return"";if(""===r)return"";var i="ASSIGNED"===n.status||"CONFIRMED"===n.status?"#585858":"white";return Kd("div",{},void 0,Kd(rp,{closeOnDocumentClick:!0,open:!0,onOpen:function(){return e.openModal()},onClose:function(){return e.closeModal()}},void 0,Kd(op,{},void 0,Kd(op.Close,{onClick:function(){return e.closeModal()}},void 0,Kd(Q.FaTimesCircle,{color:i})),this.renderHeader(),this.renderBody(),Kd(op.Footer,{},void 0,"PAID"!==n.status&&Kd("div",{},void 0,Kd(hp,{onClick:function(){return e.openConfirmationModal()}},void 0,"Cancel")),Kd("div",{},void 0,this.renderNextStatusButton())))),Kd(gp,{open:this.state.confirmationModal},void 0,Kd(wp,{},void 0,Kd(wp.Close,{onClick:function(){return e.closeConfirmationModal()}},void 0,Rp),Fp,Kd(wp.Body,{},void 0,"Do you want to Cancel this Appointment?",Kd(ap,{},void 0,Kd("div",{style:{width:"50%",textAlign:"center"}},void 0,Kd(hp,{onClick:function(){return e.confirmCancelAppointment()}},void 0,"Yes")),Kd("div",{style:{width:"50%",textAlign:"center"}},void 0,Kd(hp,{primary:!0,onClick:function(){return e.closeConfirmationModal()}},void 0,"No")))))),Kd(Ud,{indexPrice:this.state.indexPrice,valuePriceIndex:this.state.valuePriceIndex,isPoupPrice:o,donePopupPrice:function(t,n){return e.donePopupPrice(t,n)},closePopupPrice:function(){return e.closePopupPrice()},onChangePrice:function(t,n){return e.onChangePrice(t,n)}}))}}])&&qd(r.prototype,i),a&&qd(r,a),t}(),Lp={staffList:{height:200,width:170,overflowY:"scroll",background:"#ffffff",zIndex:9999,position:"absolute",top:"110%",borderRadius:5,boxShadow:"0 3px 9px rgba(0,0,0,.175)"},imgStaff:{width:40,height:40,objectFit:"cover",borderRadius:30},price:{fontWeight:"700",color:"#1366AF",width:60,textAlign:"center"},price2:{fontWeight:"900",color:"#1366AF",width:60,textAlign:"center",marginLeft:-15,fontSize:13,letterSpacing:.06,fontFamily:"sans-serif"},row:{display:"flex",flexDirection:"row",justifyContent:"center"},buttonTime:{backgroundColor:"#EEEEEE",borderRadius:5,padding:10,textAlign:"center",width:120,position:"relative"},buttonDayChange:{backgroundColor:"#EEEEEE",borderRadius:5,padding:10,textAlign:"center",width:130},staffService:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"relative",backgroundColor:"#EEEEEE",borderRadius:5,maxWidth:120,whiteSpace:"nowrap",textOverflow:"ellipsis",height:40,paddingRight:10},serviceColumn:{display:"flex",flexDirection:"row",alignItems:"center"},staffNameColumn:{marginLeft:8},serviceName:{width:150,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},row2:{display:"flex",flexDirection:"row",cursor:"pointer",alignItems:"center"},staffName2:{marginLeft:10,overflow:"hidden",textOverflow:"\bellipsis",whiteSpace:"nowrap"},row3:{display:"flex",flexDirection:"row",alignItems:"center"},priceS:{color:"#1173C3",fontWeight:"bold",marginRight:5,fontFamily:"sans-serif"}},Wp=Bp;var Hp,zp=Object(s.b)({appointment:Object(s.a)(fc,function(e){return e.get("selectedAppointment")}),currentDay:lc(),staffList:mc(),appointmentDetail:Object(s.a)(fc,function(e){return e.getIn(["appointments","appointmentDetail"])}),groupAppointment:Object(s.a)(fc,function(e){return e.getIn(["appointments","groupAppointment"])})}),Up=Object(c.connect)(zp,function(e){return{deselectAppointment:function(){return e(Cr())},cancelAppointment:function(t){return e({type:bn,appointmentId:t})},nextStatus:function(t,n){return e({type:wn,appointmentId:t,bookingServices:n})},updateAppointment:function(t){e(Jr(t))},disableCalendar:function(t){return e(qr(t))},changeAppointmentTime:function(t){return e(oo(t))},groupIdAppointment:function(t){return e(_o(t))},checkOut:function(t){return e(Oo(t))}}}),Gp=Object(a.compose)(Up)(Wp);n("a230b9763ddae96228aa");function $p(e){return($p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kp(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jp(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Vp(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Jp(i,r,o,a,c,"next",e)}function c(e){Jp(i,r,o,a,c,"throw",e)}a(void 0)})}}function qp(e,t,n,r){Hp||(Hp="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Hp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nf=Object(i.c)(Pe.a).withConfig({displayName:"AddAppointment__AppPopup",componentId:"sc-1ijw8t4-0"})(["border-radius:1.5rem;padding:0 !important;border:none !important;overflow:hidden;"]),rf=i.c.div.withConfig({displayName:"AddAppointment__AppPopupWrapper",componentId:"sc-1ijw8t4-1"})(["position:relative;"]);rf.Header=i.c.div.withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-2"})(["height:3rem;font-size:20px;font-weight:bold;background:",";color:#ffffff;width:100%;padding:0.5rem 1rem;line-height:1.5;text-align:center;"],function(e){return e.backgroundColor}),rf.Close=i.c.div.withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-3"})(["position:absolute;right:0.5rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;cursor:pointer;"]),rf.Body=i.c.div.withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-4"})(["background:#ffffff;width:100%;padding:1rem 1rem 0 1rem;"]),rf.Footer=i.c.div.withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-5"})(["display:flex;flex-direction:row;padding:0.5rem 1rem 1rem 1rem;& > div{flex:1;text-align:center;}& > select{width:5rem;height:3rem;}"]);var of=Object(i.c)(nf).withConfig({displayName:"AddAppointment__SearchingPopup",componentId:"sc-1ijw8t4-6"})(["width:30rem !important;"]),af=Object(i.c)(rf).withConfig({displayName:"AddAppointment__SearchingWrapper",componentId:"sc-1ijw8t4-7"})([""]);af.Header=Object(i.c)(rf.Header).withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-8"})([""]),af.Body=Object(i.c)(rf.Body).withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-9"})(["text-align:center;"]),af.Close=Object(i.c)(rf.Close).withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-10"})([""]),af.Footer=i.c.div.withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-11"})(["display:flex;padding:0.5rem 1rem 1rem 1rem;"]);var cf=Object(i.c)(nf).withConfig({displayName:"AddAppointment__AddingPopup",componentId:"sc-1ijw8t4-12"})(["width:30rem !important;"]),sf=Object(i.c)(rf).withConfig({displayName:"AddAppointment__AddingWrapper",componentId:"sc-1ijw8t4-13"})([""]);sf.Header=Object(i.c)(rf.Header).withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-14"})([""]),sf.Body=Object(i.c)(rf.Body).withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-15"})(["text-align:center;height:26rem;overflow-y:scroll;"]),sf.Close=Object(i.c)(rf.Close).withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-16"})([""]),sf.Footer=Object(i.c)(rf.Footer).withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-17"})([""]);i.c.img.withConfig({displayName:"AddAppointment__Img",componentId:"sc-1ijw8t4-18"})(["filter:invert(100%);"]);var uf=i.c.div.withConfig({displayName:"AddAppointment__Label",componentId:"sc-1ijw8t4-19"})(["margin-bottom:0.3rem;text-align:left;"]),df=i.c.div.withConfig({displayName:"AddAppointment__FooterChekPhone",componentId:"sc-1ijw8t4-20"})(["width:100%;padding:1rem;text-align:center;"]),pf=i.c.div.withConfig({displayName:"AddAppointment__FormCheckPhone",componentId:"sc-1ijw8t4-21"})(["display:flex;flex-direction:row;width:100%;height:2.5rem;margin-bottom:1rem;& > input{flex:1;text-align:left;background:#ffffff;border:1px solid #dddddd;border-radius:4px;padding-left:1.3rem;-moz-appearance:none;-webkit-appearance:none;}& > select{width:4rem;background:#ffffff;border:1px solid #dddddd;border-radius:4px;margin-right:0.5rem;padding-left:1.2rem;-moz-appearance:none;-webkit-appearance:none;}"]),ff=i.c.form.withConfig({displayName:"AddAppointment__Form",componentId:"sc-1ijw8t4-22"})(["flex:1;text-align:center;};input{width:100%;background:#ffffff;border:1px solid #dddddd;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0.5rem 1rem;margin-bottom:1rem;text-align:left;-moz-appearance:none;-webkit-appearance:none;&.w-50{width:48%;}}"]),lf=i.c.button.withConfig({displayName:"AddAppointment__Button",componentId:"sc-1ijw8t4-23"})(["border-radius:4px;background:",";color:",";border:1px solid #dddddd;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;text-align:center;padding:0 2rem;"],function(e){return e.primary?"#0071c5":"#eeeeee"},function(e){return e.primary?"#ffffff":"#333333"}),mf=i.c.div.withConfig({displayName:"AddAppointment__NoteWrapper",componentId:"sc-1ijw8t4-24"})(["border:1px solid #dddddd;background:#eeeeee;padding:0.5rem;height:10rem;text-align:left;display:flex;flex-direction:column;justify-content:space-between;word-wrap:break-word;"]);mf.Form=i.c.form.withConfig({displayName:"AddAppointment__Form",componentId:"sc-1ijw8t4-25"})(["display:flex;& > input{flex:1;background:#ffffff;border:1px solid #dddddd;border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0 1rem;-moz-appearance:none;-webkit-appearance:none;}& > button{width:5rem;border-top-right-radius:4px;border-bottom-right-radius:4px;background:#0071c5;color:#ffffff;line-height:2.8;cursor:pointer;text-align:center;}"]);var hf=i.c.div.withConfig({displayName:"AddAppointment__NoteInformation",componentId:"sc-1ijw8t4-26"})(["display:flex;padding:0.5rem;width:10rem;background:red;"]),yf={isOpenSearchingPopup:!0,isOpenAddingPopup:!1,first_name:"",last_name:"",phone:"",phoneNumber:"",phoneCheck:"1",refPhoneHeader:"1",noteValue:"",notes:[],email:"",error_phone:"",success_addApointment:"",error_addApointment:""},bf=qp(Q.FaTimesCircle,{}),vf=qp(af.Header,{backgroundColor:"#0071C5"},void 0,"Add Appointment"),gf=qp(af.Body,{},void 0,"Enter phone number"),wf=qp("option",{value:"1"},void 0,"+1"),Sf=qp("option",{value:"84"},void 0,"+84"),kf=qp("option",{}),xf=qp(Q.FaTimesCircle,{}),If=qp(sf.Header,{backgroundColor:"#00b4f7"},void 0,"Add Appointment"),Cf=qp(uf,{},void 0,"Customer Name *"),Af=qp(uf,{},void 0,"Email"),_f=qp(uf,{},void 0,"Referrer Phone Number"),Of=qp("option",{value:"1"},void 0,"+1"),Tf=qp("option",{value:"84"},void 0,"+84"),Pf=qp("option",{}),Df=qp(uf,{},void 0,"Note:"),Ef=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Zp(t).call(this,e),n=!o||"object"!==$p(o)&&"function"!==typeof o?Qp(r):o,tf(Qp(n),"handleSubmitAppointment",function(){var e=n.props.TimeAndStaffID,t=e.time,r=e.staffID,o=n.state,i=o.first_name,a=o.last_name,c=o.phoneNumber,s=o.phone,u=o.notes,d=o.email,p=o.phoneCheck,f=o.refPhoneHeader,l=s||"";""!==i.trim()&&""!==a.trim()&&(n.props.addCustomer({first_name:i,last_name:a,phone:"+".concat(p).concat(c),refPhone:f+oe(l.toString()),note:u.toString(),time:t,staffID:r,email:d}),n.props.infoCheckPhone(""),n.closeAllModal())}),tf(Qp(n),"renderNote",function(e,t){return qp(hf,{},t,qp("div",{},void 0,e))}),tf(Qp(n),"phoneNumberError",function(){var e=n.props.checkPhoneNumberCustomerError;n.setState({error_phone:"This phone number already exist !!!"}),setTimeout(function(){n.setState({error_phone:""}),e(!1)},3e3)}),tf(Qp(n),"showInsertCustomerSuccess",function(){setTimeout(function(){n.setState({first_name:"",last_name:"",countryCode:"+1",phone:"",phoneNumber:"",success_addApointment:"Add appointment succesful !!!"}),n.closeAllModal()},300)}),tf(Qp(n),"openFormInsertAfterCheckPhone",function(){""!==n.state.phoneNumber.trim()&&n.setState({isOpenSearchingPopup:!1,isOpenAddingPopup:!0})}),n.state=yf,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}(t,o.a.Component),n=t,(r=[{key:"closeAllModal",value:function(){this.setState({isOpenSearchingPopup:!0,isOpenAddingPopup:!1,phoneNumber:""}),this.resetState(),this.props.checkPhoneNumberCustomerError(!1),this.props.checkPhoneNumberCustomerSuccess(!1),this.props.disableCalendar(!1),this.props.closeAddingAppointment(),this.props.closeTimeAndStaffID(""),this.props.infoCheckPhone(""),this.props.addCustomerSuccess(!1)}},{key:"handleSubmitVerifyPhone",value:function(){var e=Vp(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.phoneNumber,n=this.props.TimeAndStaffID,r=n.time,o=n.staffID,i=oe(t.toString()),e.next=5,this.setState({phoneNumber:i});case 5:this.props.checkPhoneNumberCustomer({phone:"".concat(this.state.phoneCheck).concat(i),time:r,staffID:o});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Vp(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,t.target.validity.valid?this.setState({phoneNumber:t.target.value.replace(/^0+/,"")}):""!==n&&"-"!==n||this.setState({phoneNumber:n});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeNote",value:function(e){this.setState({noteValue:e.target.value})}},{key:"renderNotes",value:function(){return qp("div",{style:{height:60,overflowY:"scroll"}},void 0,this.state.notes.toString())}},{key:"resetState",value:function(){this.setState(yf)}},{key:"componentWillReceiveProps",value:function(){var e=Vp(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!0===t.StateAddCustomerSuccess&&this.showInsertCustomerSuccess(),!0===t.checkPhoneError&&(n=t.InfoAfterCheckPhone,r=n.firstName,o=n.lastName,i=n.email,a=n.phone,c=n.referrerPhone,s=n.favourite,this.setState({first_name:r,last_name:o,email:i,phoneNumber:void 0===a?" ":a.slice(2),phone:c,notes:s||""}),this.openFormInsertAfterCheckPhone()),!1===t.checkPhoneError&&!0===t.checkPhoneSuccess&&this.openFormInsertAfterCheckPhone();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addNotes",value:function(){var e=this.state,t=e.notes,n=e.noteValue;""!==n&&this.setState({notes:[].concat(Kp(t),[n]),noteValue:""})}},{key:"RefPhoneExist",value:function(){var e=this.state.phone,t="";return e&&(t="1"===e.charAt(1)?"(+1) "+ne(e.substring(1)):"1"===e.charAt(0)?"(+1) "+ne(e.substring(1)):"8"===e.charAt(1)&&"4"===e.charAt(2)?"(+84) "+ne(e.substring(2)):"8"===e.charAt(0)&&"4"===e.charAt(1)?"(+84) "+ne(e.substring(2)):"(+1) "+ne(e.substring(2))),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpenSearchingPopup,r=t.isOpenAddingPopup,o=(t.notes,t.error_phone),i=t.success_addApointment,a=(t.phone,this.props),c=a.appointment,s=a.InfoAfterCheckPhone,u=a.StateAddCustomerSuccess,d=a.checkPhoneError,p="+(".concat(this.state.phoneCheck,") ").concat(ne(this.state.phoneNumber));return c?qp("div",{},void 0,qp(of,{open:n,closeOnDocumentClick:!1,lockScroll:!0},void 0,qp(af,{},void 0,qp(af.Close,{onClick:function(){return e.closeAllModal()}},void 0,bf),vf,gf,qp(df,{},void 0,qp(pf,{},void 0,qp("select",{value:this.state.phoneCheck,onChange:function(t){return e.setState({phoneCheck:t.target.value})},className:"",name:"",id:""},void 0,wf,Sf,kf),qp(Vu.a,{format:"###-###-####",mask:"_",value:this.state.phoneNumber,onChange:function(t){return e.handleChange(t)},placeholder:"Enter phone number",type:"tel"})),qp(lf,{onClick:function(){return e.handleSubmitVerifyPhone()},id:"submit-create-appointment",primary:!0},void 0,"Next"),o&&qp("p",{style:{color:"red"}},void 0,o)))),qp(cf,{open:r,onClose:function(){return e.closeAllModal()},closeOnDocumentClick:!1,modal:!0,position:"left center"},void 0,qp(sf,{},void 0,qp(sf.Close,{onClick:function(){return e.closeAllModal()}},void 0,xf),If,qp(sf.Body,{},void 0,qp(ff,{onSubmit:function(e){return e.preventDefault()}},void 0,i&&qp("p",{style:{color:"#8D9440"}},void 0,i),!d&&qp(uf,{style:{textAlign:"center"}},void 0,"Phone number is not exist ! Get information !"),d&&qp(uf,{style:{textAlign:"center"}},void 0,"Phone number"),qp("input",{style:{textAlign:"center"},value:p,type:"text",disabled:!0})),qp(ff,{className:"left",onSubmit:function(e){return e.preventDefault()}},void 0,Cf,qp("div",{style:{display:"flex",justifyContent:"space-between"}},void 0,qp("input",{disabled:""!==s,value:this.state.first_name,onChange:function(t){return e.setState({first_name:t.target.value})},placeholder:"First Name",className:"w-50"}),qp("input",{disabled:""!==s,value:this.state.last_name,onChange:function(t){return e.setState({last_name:t.target.value})},placeholder:"Last Name",className:"w-50"}))),qp(ff,{className:"left",onSubmit:function(e){return e.preventDefault()}},void 0,Af,qp("div",{style:{display:"flex",justifyContent:"space-between"}},void 0,qp("input",{disabled:""!==s,type:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Email"}))),qp(ff,{className:"left",onSubmit:function(e){return e.preventDefault()}},void 0,_f,""===s&&qp("div",{style:{display:"flex",flexDirection:"row"}},void 0,qp("select",{value:this.state.refPhoneHeader,onChange:function(t){return e.setState({refPhoneHeader:t.target.value})},className:"headerRefPhone",name:"",id:""},void 0,Of,Tf,Pf),qp(Vu.a,{format:"###-###-####",mask:"_",value:this.state.phone,onChange:function(t){return e.setState({phone:t.target.value})},type:"tel"})),""!==s&&qp("input",{disabled:""!==s,value:this.RefPhoneExist(),onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone number",type:"tel"})),qp(mf,{},void 0,Df,qp(mf.Form,{onSubmit:function(e){return e.preventDefault()}},void 0,qp("input",{value:this.state.noteValue,disabled:""!==s,onChange:function(t){return e.handleChangeNote(t)}}),qp("button",{type:"submit",onClick:function(){return e.addNotes()}},void 0,qp(Od.MdSubdirectoryArrowLeft,{style:{width:28,height:28}}))),this.renderNotes()),qp("div",{style:{height:70}})),qp(sf.Footer,{},void 0,qp("div",{},void 0,qp(lf,{onClick:this.handleSubmitAppointment,disabled:u,type:"button",primary:!0},void 0,"Next")))))):""}}])&&Xp(n.prototype,r),i&&Xp(n,i),t}();var Nf,jf=Object(s.b)({appointment:Object(s.a)(fc,function(e){return e.get("addingAppointment")}),checkPhoneSuccess:Object(s.a)(fc,function(e){return e.get("checkPhoneNumber_success")}),checkPhoneError:Object(s.a)(fc,function(e){return e.get("checkPhoneNumber_error")}),StateAddCustomerSuccess:Object(s.a)(fc,function(e){return e.get("addCustomer_success")}),TimeAndStaffID:Object(s.a)(fc,function(e){return e.get("time_staffId")}),InfoAfterCheckPhone:gc()}),Mf=Object(c.connect)(jf,function(e){return{closeAddingAppointment:function(){return e({type:qt})},checkPhoneNumberCustomer:function(t){return e(function(e){return{type:In,phone:e}}(t))},checkPhoneNumberCustomerSuccess:function(t){return e(Ur(t))},checkPhoneNumberCustomerError:function(t){return e(Gr(t))},addCustomer:function(t){return e(function(e){return{type:_n,customer:e}}(t))},addCustomerSuccess:function(t){return e($r(t))},closeTimeAndStaffID:function(t){return e(Qr(t))},disableCalendar:function(t){return e(qr(t))},infoCheckPhone:function(t){return e(fo(t))}}}),Yf=Object(a.compose)(Mf)(Ef),Rf=n("7fa3d1d0596e1f2a0f74");function Ff(e,t,n,r){Nf||(Nf="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Nf,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Bf(e){return(Bf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wf(e,t){return!t||"object"!==Bf(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hf(e){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zf(e,t){return(zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"AppointmentPage",function(){return Gf}),n.d(t,"mapDispatchToProps",function(){return $f});var Uf=Ff(i.c.div.withConfig({displayName:"AppointmentPage__AppointmentPageWrapper",componentId:"sc-1dgxsnd-0"})(["width:100%;height:100%;"]),{},void 0,Ff(Ic,{}),Ff(Zs,{}),Ff(zu,{}),Ff(Gp,{}),Ff(Yf,{}),Ff(Rf.a,{})),Gf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wf(this,Hf(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Uf}}])&&Lf(n.prototype,r),i&&Lf(n,i),t}();function $f(){return{}}var Kf,Jf,Vf,qf=Object(s.b)({}),Xf=Object(c.connect)(qf,$f),Zf=(Jf=(Kf={key:"appointment",reducer:pc}).key,Vf=Kf.reducer,function(e){var t=function(t){function n(){var e,t,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return r=this,t=!(o=(e=P(n)).call.apply(e,[this].concat(c)))||"object"!==O(o)&&"function"!==typeof o?D(r):o,N(D(t),"injectors",(C(i=t.context.store),{injectReducer:_(i,!0)})),t}var r,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,o.a.Component),r=n,(i=[{key:"componentWillMount",value:function(){(0,this.injectors.injectReducer)(Jf,Vf)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&T(r.prototype,i),a&&T(r,a),n}();return N(t,"WrappedComponent",e),N(t,"contextTypes",{store:d.a.object.isRequired}),N(t,"displayName","withReducer(".concat(e.displayName||e.name||"Component",")")),f()(t,e)}),Qf=function(e){var t=e.key,n=e.saga,r=e.mode;return function(e){var i=function(i){function a(){var e,t,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=this,t=!(r=(e=$(a)).call.apply(e,[this].concat(c)))||"object"!==U(r)&&"function"!==typeof r?K(n):r,V(K(t),"injectors",(C(o=t.context.store),{injectSaga:H(o,!0),ejectSaga:z(o,!0)})),t}var c,s,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,o.a.Component),c=a,(s=[{key:"componentWillMount",value:function(){(0,this.injectors.injectSaga)(t,{saga:n,mode:r},this.props)}},{key:"componentWillUnmount",value:function(){(0,this.injectors.ejectSaga)(t)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&G(c.prototype,s),u&&G(c,u),a}();return V(i,"WrappedComponent",e),V(i,"contextTypes",{store:d.a.object.isRequired}),V(i,"displayName","withSaga(".concat(e.displayName||e.name||"Component",")")),f()(i,e)}}({key:"appointment",saga:tc});t.default=Object(a.compose)(Zf,Qf,Xf)(Gf)},a230b9763ddae96228aa:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeBAMAAADJHrORAAAAMFBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlTPQ5AAAAD3RSTlMAd2YE3he9Cdaqly315Djb3zZZAAAAUElEQVQY02NgQAbMXxhQ+dcY8IPXDPj1zyKgX4iA/iHIZ1+Kyi/7icJnz29F4Zf9F1JCgC8M6/8jgy8MEX8EkYAQA2t/OqqdET9R+azZyDwAKzguXf0fo4sAAAAASUVORK5CYII="},aec32e8a77eab6610f23:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVqampHcExpaWlpaWlpaWlpaWlpaWlsbGxqampoaGhqamruv8CPAAAACnRSTlMwAO/wwlykFIpwzFGOMgAAAThJREFUOMt10jFPwkAYh/GXEhen+xsF3Jw7MbMRjSbdGjc2TBxkK9/BxcnExbmlDXk+pcMVpPfCLZf06a93b1KTW3dv9btk7nkogJczIQOoKxdCTvMIS/OgKfVDax7MpXs68ye0ktiZA1BKBeZOWNB6EXLmY1p/RkYzCotSWXKrkNNKVwp5MkcG9SjCweQhBx76WWx4wit1pYxmdBpCzjws2n54G15J4zLuJyG+OO33kxBfPO42BP+7XQDHkIJjSMEhOHAIDvTBgz54EMMZEMMZILsAZBeA7AKQSVsoHZBpWtB6INMMlh7ItIXOA5lWwNoBmb4o6ByQqWAC6xTIxE4buhTIAntNIAWyGXupIAWyW/gtPJDdAPEnT8I1AF2l2dNg2QqoPyppw2DZht1nJWlCEp6/4zcTwB8dpeR3aUqO3gAAAABJRU5ErkJggg=="},c8bceb1b874be93372c1:function(e,t,n){e.exports=n.p+"c6ae99b3bd5594d9e17ed79c37737c5d.gif"}}]);