(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{a089d5de5d5c1c06e185:function(e,t,n){"use strict";n.r(t);var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0b3cb19af78752326f59"),a=n("ab4cb61bcb2dc161defb"),c=n("d7dd51e1bf6bfc2c9c3d"),u=n("a28fc3c963a1d4d1a2e5"),p=n("8a2d1b95e05b6a321e74"),d=n.n(p),s=n("5ef9de3df8d92ea0e41c"),f=n.n(s),l=n("5fa3f8487e09c6182715"),m=n.n(l),b=n("f3b0ff1628e56352bcbf"),y=n.n(b),v=n("a1cf5d6fa4ed65a6ddd5"),h=n.n(v),g=n("6a4f9c383785f9168266"),w=n.n(g),A=n("d3a850c4000d77bccc89"),_=n.n(A),O=n("f2873ecf7390fe7d7c89"),C=n.n(O);function S(e){var t={dispatch:y.a,subscribe:y.a,getState:y.a,replaceReducer:y.a,runSaga:y.a,injectedReducers:_.a,injectedSagas:_.a};w()(C()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var j=n("491cc2e27aa2b4221847");function x(e,t){return function(n,r){t||S(e),w()(m()(n)&&!h()(n)&&y()(r),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===r||(e.injectedReducers[n]=r,e.replaceReducer(Object(j.a)(e.injectedReducers)))}}function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T="@@saga-injector/restart-on-remount",R="@@saga-injector/daemon",M="@@saga-injector/once-till-unmount";function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){B(e,t,n[t])})}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=[T,R,M],W=function(e){return w()(m()(e)&&!h()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},H=function(e){var t={saga:y.a,mode:function(e){return m()(e)&&F.includes(e)}};w()(C()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function U(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;t||S(e);var i=Y({},r,{mode:r.mode||T}),a=i.saga,c=i.mode;W(n),H(i);var u=Reflect.has(e.injectedSagas,n);(!u||u&&c!==R&&c!==M)&&(e.injectedSagas[n]=Y({},i,{task:e.runSaga(a,o)}))}}function z(e,t){return function(n){if(t||S(e),W(n),Reflect.has(e.injectedSagas,n)){var r=e.injectedSagas[n];r.mode&&r.mode!==R&&(r.task.cancel(),e.injectedSagas[n]="done")}}}function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J,Z=n("72110207b6499adb0ff6"),X=n.n(Z),Q=n("0a659e49a726b6fa3fb3"),ee=n("d4644582e3cddb2eda41"),te=n("8e4c85c29cdef1bf8a5f");function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t,n,r){J||(J="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:J,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=i.c.div.withConfig({displayName:"ResourceSelector__ResourceSelectorWrapper",componentId:"sc-1ww0b6w-0"})(["width:100%;height:4rem;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-top:2px solid #3883bb;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;"]),pe=i.c.div.withConfig({displayName:"ResourceSelector__TodayWrapper",componentId:"sc-1ww0b6w-1"})(["width:calc(5.05rem - 2px);height:100%;text-align:center;padding:0.5rem;"]);pe.Button=i.c.div.withConfig({displayName:"ResourceSelector__Button",componentId:"sc-1ww0b6w-2"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;"]);var de=i.c.div.withConfig({displayName:"ResourceSelector__ResourceSliderWrapper",componentId:"sc-1ww0b6w-3"})(["width:calc(100% - 5.05rem - (calc((100vw - 5.05rem) / 7)) + 1px);position:relative;"]),se=i.c.div.withConfig({displayName:"ResourceSelector__ResourceWrapper",componentId:"sc-1ww0b6w-4"})(["height:calc(4rem - 2px);position:relative;border-left:1px solid #3883bb;display:flex;"]),fe=i.c.div.withConfig({displayName:"ResourceSelector__Resource",componentId:"sc-1ww0b6w-5"})(["width:calc(100% / 6);padding:0.25rem;position:relative;border-right:1px solid #ddd;text-align:center;"]);fe.Avatar=i.c.div.withConfig({displayName:"ResourceSelector__Avatar",componentId:"sc-1ww0b6w-6"})(["padding:2px;& img{width:3rem;border-radius:50%;}"]),fe.OrderNumber=i.c.div.withConfig({displayName:"ResourceSelector__OrderNumber",componentId:"sc-1ww0b6w-7"})(["position:absolute;top:2px;right:2px;background:",";width:16px;height:16px;border-radius:50%;color:#ffffff;padding:2px;font-size:9px;line-height:1.3;"],function(e){return e.notEmpty?"#3883bb":"#ff1b22"}),fe.Title=i.c.div.withConfig({displayName:"ResourceSelector__Title",componentId:"sc-1ww0b6w-8"})(["position:absolute;bottom:0;left:0;background:#ffffff;width:100%;opacity:0.75;text-align:center;padding-bottom:4px;font-size:13px;line-height:1.3;"]);var le=i.c.div.withConfig({displayName:"ResourceSelector__PrevButton",componentId:"sc-1ww0b6w-9"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),me=i.c.div.withConfig({displayName:"ResourceSelector__NextButton",componentId:"sc-1ww0b6w-10"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),be=i.c.div.withConfig({displayName:"ResourceSelector__WaitingHeader",componentId:"sc-1ww0b6w-11"})(["width:calc((100vw - 5.05rem) / 7);text-align:center;line-height:64px;font-size:18px;color:#333333;background:#f4f4f5;border-left:1px solid #3883bb;"]);var ye=re(fe,{},void 0,re(te.a,{})),ve=re(ee.FaCaretLeft,{}),he=re(ee.FaCaretRight,{}),ge=re(be,{},void 0,"Waiting"),we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ae(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){(0,this.props.loadMembers)()}},{key:"onPrevClick",value:function(e,t){t(e)}},{key:"onNextClick",value:function(e,t){t(e)}},{key:"afterSlide",value:function(e){var t=this.props,n=t.resources;(0,t.setDisplayedMembers)(n.slice(6*e,6*e+6))}},{key:"onTodayClick",value:function(){(0,this.props.onChangeToday)(X()().format("DDMMYYYY"))}},{key:"renderResource",value:function(e,t){var n=this.props.calendarMembers.find(function(t){return t.memberId===e.id}),r=n?n.appointments.length:0;return re(fe,{},t,re(fe.Avatar,{},void 0,re("img",{src:e.imageUrl,alt:e.orderNumber})),re(fe.OrderNumber,{notEmpty:r},void 0,e.orderNumber),re(fe.Title,{},void 0,e.title))}},{key:"renderResources",value:function(e,t){var n=this;return re(se,{},t,e.map(function(e,t){return n.renderResource(e,t)}))}},{key:"renderLoadingResources",value:function(e){return re(se,{},e,ye)}},{key:"renderCarouselSlide",value:function(){var e=this,t=this.props,n=t.loading,r=t.resources;return n?[1].map(function(t){return e.renderLoadingResources(t)}):function(e,t){for(var n=[],r=0;r<e.length;r+=1){var o=n[n.length-1];o&&o.length!==t?o.push(e[r]):n.push([e[r]])}return n}(r,6).map(function(t,n){return e.renderResources(t,n)})}},{key:"render",value:function(){var e=this;return re(ue,{},void 0,re(pe,{},void 0,re(pe.Button,{onClick:function(){return e.onTodayClick()}},void 0,"Today")),re(de,{},void 0,re(Q.a,{dragging:!1,renderBottomCenterControls:function(){return""},renderCenterLeftControls:function(t){var n=t.previousSlide;return re(le,{onClick:function(t){return e.onPrevClick(t,n)}},void 0,ve)},renderCenterRightControls:function(t){var n=t.nextSlide;return re(me,{onClick:function(t){return e.onNextClick(t,n)}},void 0,he)},afterSlide:function(t){return e.afterSlide(t)}},void 0,this.renderCarouselSlide())),ge)}}])&&oe(n.prototype,r),i&&oe(n,i),t}(),Ae=n("54f683fcda7806277002"),_e="app/Appointment/SELECT_DAY",Oe="app/Appointment/SELECT_WEEK",Ce="app/Appointment/SELECT_DAY_CALENDAR",Se="app/Appointment/SELECT_APPOINTMENT",je="app/Appointment/DESELECT_APPOINTMENT",xe="app/Appointment/OPEN_ADDING_APPOINTMENT",ke="app/Appointment/CLOSE_ADDING_APPOINTMENT",Ie="App/LOAD_MEMBERS",Ne="App/LOAD_MEMBERS_SUCCESS",Pe="App/LOAD_MEMBERS_ERROR",De="App/SET_DISPLAYED_MEMBERS",Ee="App/LOAD_WAITING_APPOINTMENT",Te="App/LOAD_WAITING_APPOINTMENT_SUCCESS",Re="App/ASSIGN_WAITING_APPOINTMENT_ERROR",Me="App/LOAD_APPOINTMENTS_BY_MEMBERS",Ye="App/LOAD_APPOINTMENTS_BY_MEMBERS_SUCCESS",Be="App/LOAD_APPOINTMENTS_BY_MEMBERS_ERROR",Fe="App/ASSIGN_APPOINTMENT",We="App/ASSIGN_APPOINTMENT_SUCCESS",He="App/ASSIGN_APPOINTMENT_ERROR",Ue="App/MOVE_APPOINTMENT",ze="App/MOVE_APPOINTMENT_SUCCESS",Le="App/MOVE_APPOINTMENT_ERROR",$e="App/PUT_BACK_APPOINTMENT",Ge="App/PUT_BACK_APPOINTMENT_SUCCESS",Ve="App/PUT_BACK_APPOINTMENT_ERROR",Ke="app/Appointment/CANCEL_APPOINTMENT",qe="app/Appointment/CANCEL_APPOINTMENT_SUCCESS",Je="app/Appointment/CANCEL_APPOINTMENT_ERROR",Ze="app/Appointment/UPDATE_STATUS_APPOINTMENT",Xe="app/Appointment/UPDATE_STATUS_APPOINTMENT_SUCCESS",Qe="app/Appointment/UPDATE_STATUS_APPOINTMENT_ERROR",et="app/Appointment/UPDATE_STATUS_APPOINTMENT_ERROR",tt="app/Appointment/CHECK_PHONE_ADD_CUSTOMER",nt="app/Appointment/CHECK_PHONE_ADD_CUSTOMER_SUCCESS",rt="app/Appointment/CHECK_PHONE_ADD_CUSTOMER_ERROR",ot="app/Appointment/ADD_CUSTOMER",it="app/Appointment/ADD_CUSTOMER_ERROR",at="UPDATE_WAITING_APPOINTMENT",ct="UPDATE_APPOINTMENT_STATUS";function ut(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){dt(e,t,n[t])})}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=X()(),ft=st.clone().startOf("isoWeek"),lt=[ft,ft.clone().add(1,"d"),ft.clone().add(2,"d"),ft.clone().add(3,"d"),ft.clone().add(4,"d"),ft.clone().add(5,"d"),ft.clone().add(6,"d")],mt=Object(Ae.fromJS)({loading:!1,error:!1,currentDay:st,currentWeekDays:lt,selectedAppointment:null,addingAppointment:null,selectedFCEvent:null,members:{all:[],displayed:[]},appointments:{calendar:[],waiting:[]},checkPhoneNumber_success:!1,checkPhoneNumber_error:!1});var bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case _e:return t.set("currentDay",X()(n.day,"DDMMYYYY"));case Oe:return e=X()(n.dayOfWeek,"DDMMYYYY").startOf("isoWeek"),t.set("currentWeekDays",Object(Ae.fromJS)([e,e.clone().add(1,"d"),e.clone().add(2,"d"),e.clone().add(3,"d"),e.clone().add(4,"d"),e.clone().add(5,"d"),e.clone().add(6,"d")]));case Se:return t.set("selectedAppointment",n.appointment).set("selectedFCEvent",pt({},n.fcEvent));case je:return t.set("selectedAppointment",null).set("selectedFCEvent",null);case xe:return t.set("addingAppointment",n.appointment);case ke:return t.set("addingAppointment",null);case Ie:return t.set("loading",!0).set("error",!1).setIn(["members","all"],[]);case Ne:return t.setIn(["members","all"],n.members).set("loading",!1);case Pe:return t.set("error",n.error).set("loading",!1);case De:return t.setIn(["members","displayed"],n.members);case Ee:return t.setIn(["appointments","waiting"],[]);case Te:return t.setIn(["appointments","waiting"],n.appointments);case Re:return t.set("error",n.error);case Me:return t.setIn(["appointments","calendar"],[]);case Ye:return t.setIn(["appointments","calendar"],n.appointments);case Be:return t.set("error",n.error);case We:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.memberId===n.appointment.memberId});return t&&t.appointments.push(n.appointment),ut(e)}).updateIn(["appointments","waiting"],function(e){var t=e.findIndex(function(e){return e.id===n.appointment.id});return t<0?ut(e):(e.splice(t,1),ut(e))});case ze:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointment.id})});if(!t)return ut(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointment.id});if(r<0)return ut(e);t.appointments.splice(r,1);var o=e.findIndex(function(e){return e.memberId===n.appointment.memberId});return r<0?ut(e):(e[o].appointments.push(n.appointment),ut(e))});case Ge:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointment.id})});if(!t)return ut(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointment.id});return r<0?ut(e):(t.appointments.splice(r,1),ut(e))}).updateIn(["appointments","waiting"],function(e){return[pt({},n.appointment,{status:"WAITING",memberId:null,start:null})].concat(ut(e))});case qe:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointmentId})});if(!t)return ut(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointmentId});return r<0?ut(e):(t.appointments.splice(r,1),ut(e))});case Xe:return t.updateIn(["appointments","calendar"],function(e){var t=e.find(function(e){return e.appointments.find(function(e){return e.id===n.appointmentId})});if(!t)return ut(e);var r=t.appointments.findIndex(function(e){return e.id===n.appointmentId});if(r<0)return ut(e);var o=t.appointments[r].status;return"ASSIGNED"===o&&(t.appointments[r].status="CONFIRMED"),"CONFIRMED"===o&&(t.appointments[r].status="CHECKED_IN"),"CHECKED_IN"===o&&(t.appointments[r].status="PAID"),ut(e)});case at:return t.updateIn(["appointments","waiting"],function(e){return ut(e)});case nt:return t.set("checkPhoneNumber_success",n.phone);case rt:return t.set("checkPhoneNumber_error",n.error);default:return t}},yt=function(e){return e.get("appointment",mt)},vt=function(){return Object(u.a)(yt,function(e){return e.get("currentDay")})},ht=function(){return Object(u.a)(yt,function(e){return e.getIn(["members","displayed"])})},gt=function(){return Object(u.a)(yt,function(e){return e.getIn(["appointments","calendar"])})},wt=function(){return Object(u.a)(yt,function(e){return e.get("selectedFCEvent")})};function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_t(e,t,n[t])})}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){return{type:_e,day:e}}function Ct(e){return{type:Oe,dayOfWeek:e}}function St(e){return{type:Ce,day:e}}function jt(){return{type:je}}function xt(e){return{type:Ne,members:e}}function kt(e){return{type:De,members:e}}function It(e){return{type:Te,appointments:e}}function Nt(e){return{type:Ye,appointments:e}}function Pt(e){return{type:We,appointment:e}}function Dt(e){return{type:He,error:e}}function Et(e){return{type:ze,appointment:e}}function Tt(e){return{type:Le,error:e}}function Rt(e){return{type:Ve,error:e}}function Mt(e){return{type:Je,error:e}}function Yt(e){return{type:Qe,error:e}}function Bt(e){return{type:Bt,error:e}}var Ft=function(e){return{type:at,appointment:e}},Wt=function(e){return{type:ct,appointment:e}},Ht=function(e){return{type:"UPDATE_APPOINTMENT_STATUS_SUCCESS",appointment:e}},Ut=function(e){return{type:"UPDATE_APPOINTMENT_STATUS_ERROR",error:e}};var zt,Lt=Object(u.b)({loading:Object(u.a)(yt,function(e){return e.get("loading")}),error:Object(u.a)(yt,function(e){return e.get("error")}),resources:Object(u.a)(yt,function(e){return e.getIn(["members","all"])}),calendarMembers:gt()}),$t=Object(c.connect)(Lt,function(e){return{onChangeToday:function(t){return e(St(t))},loadMembers:function(t){return e({type:Ie})},setDisplayedMembers:function(t){return e(kt(t))}}}),Gt=Object(a.compose)($t)(we),Vt=n("127c8cf59f228bb01a21"),Kt=n.n(Vt);function qt(e,t,n,r){zt||(zt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:zt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Jt(e){return(Jt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return!t||"object"!==Jt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tn,nn=qt("div",{id:"full-calendar"}),rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Qt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.options;Kt()("#full-calendar").fullCalendar(e),setInterval(function(){Kt()(".fc-now-indicator-arrow").html(X()().format("HH:mm"))},500)}},{key:"render",value:function(){return nn}}])&&Zt(n.prototype,r),i&&Zt(n,i),t}();n("c04ba74958b5b4603085");function on(e){return(on="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t,n,r){tn||(tn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:tn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return!t||"object"!==on(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=i.c.div.withConfig({displayName:"FCDragZone__DragZoneWrapper",componentId:"sc-1jr0ymx-0"})(["height:calc(100vh - 4rem - 4rem - 4rem);#waiting-events{height:100%;overflow:scroll;}"]),fn=i.c.div.withConfig({displayName:"FCDragZone__EventWrapper",componentId:"sc-1jr0ymx-1"})(["background:#f4f4f5;border:1px solid #ffffff;color:#333333;"]);function ln(){var e=Kt()(this).data("event-information");Kt()(this).data("event",{data:e,color:"#ffe400",stick:!0}),Kt()(this).draggable({containment:"document",helper:"clone",appendTo:"body",zIndex:999,revert:!0,revertDuration:0})}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),un(this,pn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){Kt()("#waiting-events > div").each(ln)}},{key:"render",value:function(){var e=this.props.events;return an(sn,{},void 0,an("div",{id:"waiting-events"},void 0,e.map(function(e){return an(fn,{className:"app-event","data-event-information":JSON.stringify(e)},e.id,an("div",{className:"app-event__id-number"},void 0,"#",e.id),an("div",{className:"app-event__full-name"},void 0,e.userFullName),an("div",{className:"app-event__phone-number"},void 0,e.phoneNumber),e.options.map(function(e){return an("div",{className:"app-event__option"},e.id,"- ",e.name)}))})))}}])&&cn(n.prototype,r),i&&cn(n,i),t}(),bn=n("8b703812aa8ae3c41814");function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vn(e,t,n[t])})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn,gn={header:!1,defaultView:"agendaDay",groupByResource:!0,editable:!0,eventResourceEditable:!0,droppable:!0,height:"parent",allDaySlot:!1,nowIndicator:!0,slotLabelFormat:"HH:mm A",slotDuration:"00:15:00",eventOverlap:!1,minTime:"06:00:00",maxTime:"23:00:00",timezone:"local",resources:[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5}],schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",eventClick:function(e){var t=bn.store.getState().getIn(["appointment","appointments","calendar"]).find(function(t){return t.appointments.find(function(t){return t.id===e.data.id})});if(t){var n=t.appointments.find(function(t){return t.id===e.data.id});n&&bn.store.dispatch(function(e,t){return{type:Se,appointment:e,fcEvent:t}}(n,e))}},drop:function(e,t,n,r){var o,i=this;if(e.isBefore(X()()))Kt()("#full-calendar").fullCalendar("removeEvents",function(e){return e.data.id===Kt()(i).data().event.data.id});else{var a=Kt()(this).data().event.data;bn.store.dispatch((o={eventData:yn({},a,{status:"ASSIGNED",start:"".concat(e.format("YYYY-MM-DD"),"T").concat(e.format("HH:mm:ss")),end:"".concat(e.clone().add("m",a.duration).format("YYYY-MM-DD"),"T").concat(e.clone().add("m",a.duration).format("HH:mm:ss"))}),resourceId:r},At({type:Fe},o)))}},eventDrop:function(e,t,n){var r,o,i,a;e.start.isBefore(X()())||"PAID"===e.data.status?n():bn.store.dispatch((r=e.data.id,o=e.resourceId,i="".concat(e.start.format("YYYY-MM-DD"),"T").concat(e.start.format("HH:mm:ss")),a="".concat(e.start.clone().add("m",e.data.duration).format("YYYY-MM-DD"),"T").concat(e.start.clone().add("m",e.data.duration).format("HH:mm:ss")),{type:Ue,appointmentId:r,newPositionIndex:o,newTime:i,newEndTime:a}))},eventDragStop:function(e,t){var n,r=Kt()("#drag-zone"),o=r.offset(),i=o.left,a=o.left+r.outerWidth(!0),c=o.top,u=o.top+r.outerHeight(!0);if(t.pageX>=i&&t.pageX<=a&&t.pageY>=c&&t.pageY<=u){Kt()("#full-calendar").fullCalendar("removeEvents",e._id);var p=bn.store.getState().getIn(["appointment","appointments","calendar"])[e.resourceId];bn.store.dispatch((n=yn({},e.data,{memberId:p.memberId}),{type:$e,appointment:n})),setTimeout(function(){Kt()("#waiting-events > div").each(function(){var e=Kt()(this).data("event-information");Kt()(this).data("event",{data:e,color:"#ffe400",stick:!0}),Kt()(this).draggable({zIndex:999,revert:!0,revertDuration:0})})},1e3)}},eventRender:function(e,t){t[0].innerHTML=function(e){return'\n  <div class="app-event">\n    <div class="app-event__id-number">#'.concat(e.id,'</div>\n    <div class="app-event__full-name">').concat(e.userFullName,'</div>\n    <div class="app-event__phone-number">').concat(e.phoneNumber,"</div>\n    ").concat(e.options.map(function(e){return function(e){return'<div class="app-event__option">- '.concat(e.name,"</div>")}(e)}).join(""),"\n  </div>\n")}(e.data)},resourceRender:function(e,t){t[0].innerHTML=""}},wn=function(e,t){Kt()("#full-calendar").fullCalendar("gotoDate",e),Kt()("#full-calendar").fullCalendar("removeEvents");var n=[];t.forEach(function(e,t){e.appointments.forEach(function(e){var r="#00b4f7";"ASSIGNED"===e.status&&(r="#ffe400"),"CONFIRMED"===e.status&&(r="#98e6f8"),"CHECKED_IN"===e.status&&(r="#00b4f7"),"PAID"===e.status&&(r="#00dc00"),n.push({resourceId:t,start:e.start,end:e.end,data:e,color:r,startEditable:!("PAID"===e.status),resourceEditable:!("PAID"===e.status)})})}),Kt()("#full-calendar").fullCalendar("renderEvents",n)},An=function(e){Kt()("#full-calendar").fullCalendar("removeEvents",[e])},_n=function(e){var t,n=!0,r=!0,o=e.data.status;"ASSIGNED"===o&&(t="#ffe400"),"CONFIRMED"!==o&&"#ffe400"!==e.color||(t="#98e6f8"),"CHECKED_IN"!==o&&"#98e6f8"!==e.color||(t="#00b4f7"),"PAID"!==o&&"#00b4f7"!==e.color||(t="#00dc00",n=!1,r=!1),Kt()("#full-calendar").fullCalendar("updateEvent",yn({},e,{color:t,startEditable:n,resourceEditable:r}))},On=n("bd183afcc37eabd79225"),Cn=n.n(On);function Sn(e){return(Sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t,n,r){hn||(hn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:hn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pn=location.search.replace("?token=",""),Dn=i.c.div.withConfig({displayName:"Calendar__CalendarWrapper",componentId:"sc-1wctk8v-0"})(["display:flex;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-bottom:2px solid #3883bb;height:calc(100% - 4rem - 4rem);overflow:hidden;"]),En=i.c.div.withConfig({displayName:"Calendar__MainCalendar",componentId:"sc-1wctk8v-1"})(["flex:1 0;border-right:1px solid #3883bb;"]),Tn=i.c.div.withConfig({displayName:"Calendar__RightSideBar",componentId:"sc-1wctk8v-2"})(["width:calc((100vw - 5.05rem) / 7);border-top:2px solid #3883bb;position:relative;"]),Rn=i.c.div.withConfig({displayName:"Calendar__SignInWrapper",componentId:"sc-1wctk8v-3"})(["position:absolute;bottom:0;width:calc((100vw - 5.05rem) / 7);background:#fafafa;height:4rem;text-align:center;padding:0.5rem;"]);Rn.Button=i.c.div.withConfig({displayName:"Calendar__Button",componentId:"sc-1wctk8v-4"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;"]);var Mn=jn(En,{},void 0,jn(rn,{options:gn})),Yn=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return r=this,o=(e=kn(t)).call.apply(e,[this].concat(p)),n=!o||"object"!==Sn(o)&&"function"!==typeof o?In(r):o,i=In(n),c=function(e){Cn.a.post("https://hp-api-dev.azurewebsites.net/api/Appointments/Waiting",{},{headers:{Authorization:"Bearer ".concat(Pn),"Content-Type":"application/json"}}).then(function(t){t.data.data.length>e.length&&n.props.loadWaitingAppointments()})},(a="checkWaiting5s")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){(0,this.props.loadWaitingAppointments)()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.updateCalendarInterval;setInterval(function(){t(),e.checkWaiting5s(e.props.waitingAppointments)},5e3)}},{key:"render",value:function(){var e=this.props,t=e.waitingAppointments,n=e.waitingIndex,r=e.openAddingAppointment;return jn(Dn,{},void 0,Mn,jn(Tn,{id:"drag-zone"},void 0,t&&t.length?jn(mn,{events:t,index:n}):"",jn(Rn,{},void 0,jn(Rn.Button,{onClick:function(){return r({})}},void 0,"Sign in"))))}}])&&xn(n.prototype,r),i&&xn(n,i),t}();var Bn,Fn=Object(u.b)({waitingAppointments:Object(u.a)(yt,function(e){return e.getIn(["appointments","waiting"])}),waitingIndex:Object(u.a)(yt,function(e){return e.getIn(["appointments","waitingIndex"])})}),Wn=Object(c.connect)(Fn,function(e){return{loadWaitingAppointments:function(t){return e(At({type:Ee},t))},openAddingAppointment:function(t){return e({type:xe,appointment:t})},updateCalendarInterval:function(t){return e({type:et})},updateWaitingAppointment:function(t){return e(Ft(t))}}}),Hn=Object(a.compose)(Wn)(Yn),Un=n("0d7f0986bcd2f33d8a2a"),zn=n("ac84d617ca1062960887"),Ln=n.n(zn),$n=(n("1c63ba327a1209defc64"),n("ce83741f5d4040dca12e")),Gn=n.n($n);function Vn(e){return(Vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t,n,r){Bn||(Bn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Bn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Vn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qn=i.c.div.withConfig({displayName:"MiniCalendar__MiniCalendarWrapper",componentId:"sc-18e5qik-0"})(["width:calc(5.05rem - 1px);height:100%;text-align:center;border-right:1px solid #3883bb;position:relative;padding:0.5rem;"]);Qn.Button=i.c.div.withConfig({displayName:"MiniCalendar__Button",componentId:"sc-18e5qik-1"})(["border-radius:4px;background:#0071c5;color:#ffffff;width:100%;font-size:1.5rem;line-height:1.5;height:100%;cursor:pointer;"]);var er=i.c.div.withConfig({displayName:"MiniCalendar__CalendarPopup",componentId:"sc-18e5qik-2"})(["top:0;left:0;position:absolute;transform:translate3d(0.5rem,calc(-18rem + 0.5rem),0px);will-change:transform;z-index:1;background:#fff;color:#000;height:18rem;line-height:1;box-shadow:2px 2px 10px rgba(0,0,0,0.1);border-radius:8px;overflow:hidden;"]);er.Heading=i.c.div.withConfig({displayName:"MiniCalendar__Heading",componentId:"sc-18e5qik-3"})(["background:#0071c5;color:#ffffff;height:3rem;font-size:1.5rem;line-height:2;"]),er.Body=i.c.div.withConfig({displayName:"MiniCalendar__Body",componentId:"sc-18e5qik-4"})([""]);var tr,nr=Kn(er.Heading,{},void 0,"Calendar"),rr=Kn(Un.Helmet,{},void 0,Kn("style",{},void 0,"\n            .DayPicker-Day--today {\n              color: #00e260;\n            }\n          ")),or=Kn(ee.FaCalendarAlt,{}),ir=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jn(this,Zn(t).call(this,e))).state={isPopupOpen:!1},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClickButton",value:function(){var e=this.state.isPopupOpen;this.setState({isPopupOpen:!e})}},{key:"onOutsideClickPopup",value:function(){this.setState({isPopupOpen:!1})}},{key:"onDaySelected",value:function(e){(0,this.props.onChangeDay)(X()(new Date(e)).format("DDMMYYYY"))}},{key:"renderPopup",value:function(){var e=this,t=this.props.selectedDay;return this.state.isPopupOpen?Kn(er,{},void 0,nr,Kn(er.Body,{},void 0,Kn(Ln.a,{firstDayOfWeek:1,selectedDays:[t.toDate()],onDayClick:function(t){return e.onDaySelected(t)}}))):""}},{key:"render",value:function(){var e=this;return Kn(Gn.a,{onOutsideClick:function(){return e.onOutsideClickPopup()}},void 0,rr,Kn(Qn,{},void 0,Kn(Qn.Button,{onClick:function(){return e.onClickButton()}},void 0,or),this.renderPopup()))}}])&&qn(n.prototype,r),i&&qn(n,i),t}();function ar(e){return(ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t,n,r){tr||(tr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:tr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return!t||"object"!==ar(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fr,lr=i.c.div.withConfig({displayName:"DaySlider__DateSliderWrapper",componentId:"sc-192q64y-0"})(["width:calc(100% - 5.05rem);position:relative;"]),mr=i.c.div.withConfig({displayName:"DaySlider__CarouselItem",componentId:"sc-192q64y-1"})(["display:flex;"]),br=i.c.div.withConfig({displayName:"DaySlider__NormalDay",componentId:"sc-192q64y-2"})(["flex:1;border-right:1px solid #3883bb;text-align:center;padding:0.5rem;overflow:hidden;&:last-child{border-right:none;}& div{white-space:normal;text-overflow:ellipsis;overflow:hidden;}"]),yr=Object(i.c)(br).withConfig({displayName:"DaySlider__ActiveDay",componentId:"sc-192q64y-3"})(["background:#0071c5;color:#ffffff;"]),vr=Object(i.c)(br).withConfig({displayName:"DaySlider__TodayDay",componentId:"sc-192q64y-4"})(["background:#00e260;color:#ffffff;"]),hr=i.c.div.withConfig({displayName:"DaySlider__PrevButton",componentId:"sc-192q64y-5"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),gr=i.c.div.withConfig({displayName:"DaySlider__NextButton",componentId:"sc-192q64y-6"})(["color:#3883bb;font-size:2rem;line-height:2rem;cursor:pointer;"]),wr=cr(ee.FaCaretLeft,{}),Ar=cr(ee.FaCaretRight,{}),_r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(this,dr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,o.a.Component),n=t,(r=[{key:"onPrevClick",value:function(e,t){t(e);var n=this.props,r=n.days;(0,n.onChangeWeek)(r[0].subtract(1,"w").format("DDMMYYYY"))}},{key:"onNextClick",value:function(e,t){t(e);var n=this.props,r=n.days;(0,n.onChangeWeek)(r[0].add(1,"w").format("DDMMYYYY"))}},{key:"onDayClick",value:function(e){(0,this.props.onChangeDay)(e.format("DDMMYYYY"))}},{key:"renderDay",value:function(e){return o.a.createElement(o.a.Fragment,null,cr("div",{},void 0,e.format("dddd")),cr("div",{},void 0,e.format("MM/DD/YYYY")))}},{key:"renderItems",value:function(e,t){var n=this,r=this.props.selectedDay;return e.format("DDMMYYYY")===r.format("DDMMYYYY")?cr(yr,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e)):e.format("DDMMYYYY")===X()().format("DDMMYYYY")?cr(vr,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e)):cr(br,{onClick:function(){return n.onDayClick(e)}},t,this.renderDay(e))}},{key:"render",value:function(){var e=this,t=this.props.days;return cr(lr,{},void 0,cr(Q.a,{wrapAround:!0,dragging:!1,renderBottomCenterControls:function(){return""},renderCenterLeftControls:function(t){var n=t.previousSlide;return cr(hr,{onClick:function(t){return e.onPrevClick(t,n)}},void 0,wr)},renderCenterRightControls:function(t){var n=t.nextSlide;return cr(gr,{onClick:function(t){return e.onNextClick(t,n)}},void 0,Ar)}},void 0,cr(mr,{},void 0,t.map(function(t,n){return e.renderItems(t,n)})),cr(mr,{},void 0,t.map(function(t,n){return e.renderItems(t,n)})),cr(mr,{},void 0,t.map(function(t,n){return e.renderItems(t,n)}))))}}])&&ur(n.prototype,r),i&&ur(n,i),t}();function Or(e){return(Or="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t,n,r){fr||(fr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:fr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return!t||"object"!==Or(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ir=i.c.div.withConfig({displayName:"DaySelector__DaySelectorWrapper",componentId:"rxtnnz-0"})(["width:100%;height:4rem;border-left:2px solid #3883bb;border-right:2px solid #3883bb;border-bottom:2px solid #3883bb;display:flex;"]),Nr=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=jr(this,xr(t).call(this,e));var r=X()().startOf("isoWeek"),o=X()().endOf("isoWeek");n.days=[];for(var i=r;i<=o;)n.days.push(i),i=i.clone().add(1,"d");return n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.currentDay,n=e.weekDays,r=e.onChangeDay,o=e.onChangeWeek,i=e.onChangeDayOnCalendar;return Cr(Ir,{},void 0,Cr(ir,{selectedDay:t,onChangeDay:i}),Cr(_r,{days:n.valueSeq().toArray(),selectedDay:t,onChangeDay:r,onChangeWeek:o}))}}])&&Sr(n.prototype,r),i&&Sr(n,i),t}();var Pr,Dr=Object(u.b)({currentDay:vt(),weekDays:Object(u.a)(yt,function(e){return e.get("currentWeekDays")})}),Er=Object(c.connect)(Dr,function(e){return{onChangeDay:function(t){return e(Ot(t))},onChangeWeek:function(t){return e(Ct(t))},onChangeDayOnCalendar:function(t){return e(St(t))}}}),Tr=Object(a.compose)(Er)(Nr),Rr=n("d433ee11c4833de99670"),Mr=n("a230b9763ddae96228aa"),Yr=n.n(Mr);function Br(e){return(Br="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wr(e,t,n,r){Pr||(Pr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Pr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gr=Object(i.c)(Rr.a).withConfig({displayName:"DetailAppointment__AppPopup",componentId:"sc-1ygvad7-0"})(["border-radius:1.5rem;padding:0 !important;border:none !important;overflow-y:scroll;"]),Vr=i.c.div.withConfig({displayName:"DetailAppointment__AppPopupWrapper",componentId:"sc-1ygvad7-1"})(["position:relative;"]);Vr.Header=i.c.div.withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-2"})(["height:3rem;font-size:26px;font-weight:bold;background:",";color:#ffffff;width:100%;padding:0.5rem 1rem;line-height:1.5;text-align:center;"],function(e){return e.backgroundColor}),Vr.Close=i.c.div.withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-3"})(["position:absolute;right:0.5rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;cursor:pointer;"]),Vr.Body=i.c.div.withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-4"})(["background:#ffffff;width:100%;padding:1rem 1rem 0 1rem;"]),Vr.Footer=i.c.div.withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-5"})(["display:flex;padding:0.5rem 1rem 1rem 1rem;& > div{width:50%;text-align:center;}"]);var Kr=Object(i.c)(Gr).withConfig({displayName:"DetailAppointment__AppointmentPopup",componentId:"sc-1ygvad7-6"})(["width:50rem !important;"]),qr=Object(i.c)(Vr).withConfig({displayName:"DetailAppointment__AppointmentWrapper",componentId:"sc-1ygvad7-7"})([""]);qr.Header=Object(i.c)(Vr.Header).withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-8"})([""]),qr.Close=Object(i.c)(Vr.Close).withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-9"})([""]),qr.Body=Object(i.c)(Vr.Body).withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-10"})([""]),qr.Footer=Object(i.c)(Vr.Footer).withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-11"})([""]);var Jr=i.c.div.withConfig({displayName:"DetailAppointment__UserInformation",componentId:"sc-1ygvad7-12"})(["display:flex;padding:0.5rem;& > div{width:50%;display:flex;justify-content:space-between;padding-right:1rem;}"]),Zr=i.c.button.withConfig({displayName:"DetailAppointment__AdjustButton",componentId:"sc-1ygvad7-13"})(["background:",";color:#ffffff;padding:2px 15px;margin:0 10px;border-radius:6px;cursor:",";"],function(e){return e.active?"#0071c5":"#dddddd"},function(e){return e.active?"pointer":"initial"}),Xr=i.c.div.withConfig({displayName:"DetailAppointment__NoteWrapper",componentId:"sc-1ygvad7-14"})(["border:1px solid #dddddd;background:#eeeeee;padding:0.5rem;overflow-x:scroll;height:10rem;"]);Xr.Form=i.c.form.withConfig({displayName:"DetailAppointment__Form",componentId:"sc-1ygvad7-15"})(["display:flex;& > input{flex:1;background:#ffffff;border:1px solid #dddddd;border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0 1rem;}& > button{width:5rem;border-top-right-radius:4px;border-bottom-right-radius:4px;background:#0071c5;color:#ffffff;line-height:2.8;cursor:pointer;text-align:center;}"]);var Qr=i.c.div.withConfig({displayName:"DetailAppointment__NoteInformation",componentId:"sc-1ygvad7-16"})(["display:flex;padding:0.5rem;& > div:nth-child(1),& > div:nth-child(2){width:20%;}& > div:last-child{width:60%;}"]),eo=i.c.div.withConfig({displayName:"DetailAppointment__AppointmentInformation",componentId:"sc-1ygvad7-17"})(["display:flex;padding:0.5rem;& > div{width:30%;display:flex;justify-content:space-between;padding-right:1rem;}"]),to=i.c.button.withConfig({displayName:"DetailAppointment__Button",componentId:"sc-1ygvad7-18"})(["border-radius:4px;background:",";color:",";border:1px solid #dddddd;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;text-align:center;padding:0 2rem;"],function(e){return e.primary?"#0071c5":"#eeeeee"},function(e){return e.primary?"#ffffff":"#333333"}),no=i.c.img.withConfig({displayName:"DetailAppointment__Img",componentId:"sc-1ygvad7-19"})(["filter:invert(100%);"]),ro=Object(i.c)(Gr).withConfig({displayName:"DetailAppointment__ConfirmationPopup",componentId:"sc-1ygvad7-20"})(["width:30rem !important;"]),oo=Object(i.c)(Vr).withConfig({displayName:"DetailAppointment__ConfirmationWrapper",componentId:"sc-1ygvad7-21"})([""]);oo.Header=Object(i.c)(Vr.Header).withConfig({displayName:"DetailAppointment__Header",componentId:"sc-1ygvad7-22"})([""]),oo.Body=Object(i.c)(Vr.Body).withConfig({displayName:"DetailAppointment__Body",componentId:"sc-1ygvad7-23"})(["text-align:center;"]),oo.Close=Object(i.c)(Vr.Close).withConfig({displayName:"DetailAppointment__Close",componentId:"sc-1ygvad7-24"})([""]),oo.Footer=Object(i.c)(Vr.Footer).withConfig({displayName:"DetailAppointment__Footer",componentId:"sc-1ygvad7-25"})([""]);location.search.replace("?token=","");var io=Wr(qr.Header,{backgroundColor:"#ffe400"},void 0,"Unconfirmed Appointment"),ao=Wr(qr.Header,{backgroundColor:"#98e6f8"},void 0,"Confirmed Appointment"),co=Wr(qr.Header,{backgroundColor:"#00b4f7"},void 0,"Checked-in Appointment"),uo=Wr(qr.Header,{backgroundColor:"#00b4f7"},void 0,"Paid Appointment"),po=Wr(qr.Header,{backgroundColor:"#00dc00"},void 0,"Appointment"),so=Wr("span",{},void 0,"Customer name: "),fo=Wr("span",{},void 0,"Phone number: "),lo=Wr("span",{},void 0,"Arriving in: "),mo=Wr("div",{},void 0,"\xa0\xa0"),bo=Wr("span",{},void 0,"Total: "),yo=Wr("th",{width:"50%"},void 0,"Selected Services"),vo=Wr("th",{width:"50%"},void 0,"Selected Products"),ho=Wr("button",{type:"submit"},void 0,Wr(no,{src:Yr.a,alt:"icon"})),go=Wr(ee.FaTimesCircle,{}),wo=Wr(ee.FaTimesCircle,{}),Ao=Wr(oo.Header,{backgroundColor:"#00b4f7"},void 0,"Confirmation"),_o=Wr(oo.Body,{},void 0,"Do you want to Cancel this Appointment?"),Oo=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=Ur(t)).call.apply(e,[this].concat(a)))||"object"!==Br(o)&&"function"!==typeof o?zr(r):o,$r(zr(n),"state",{noteValue:"",confirmationModal:!1,services:[],products:[],notes:[{name:"Rickie Da Vinci",date:"05/22/2018",content:"Note about customer's service"},{name:"Rickie Da Vinci",date:"03/14/2018",content:"Note about customer's service"}]}),$r(zr(n),"updateStatusPaid",function(e){window.postMessage(JSON.stringify({appointmentId:e,action:"checkout"}))}),$r(zr(n),"renderNote",function(e,t){return Wr(Qr,{},t,Wr("div",{},void 0,Wr("strong",{},void 0,e.date)),Wr("div",{},void 0,e.name),Wr("div",{},void 0,Wr("i",{},void 0,e.content)))}),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,o.a.Component),n=t,(r=[{key:"subtractService",value:function(e){this.setState(function(t){var n=t.services;return n[e].duration>=10&&(n[e].duration-=10),{services:n}})}},{key:"addService",value:function(e){this.setState(function(t){var n=t.services;return n[e].duration+=10,{services:n}})}},{key:"subtractProduct",value:function(e){this.setState(function(t){var n=t.products;return n[e].amount>=1&&(n[e].amount-=1),{products:n}})}},{key:"addProduct",value:function(e){this.setState(function(t){var n=t.products;return n[e].amount+=1,{products:n}})}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.notes,r=t.noteValue;e.preventDefault(),this.setState({noteValue:"",notes:[{name:"Rickie Da Vinci",date:X()().format("DD/MM/YYYY"),content:r}].concat(Fr(n))})}},{key:"handleChange",value:function(e){this.setState({noteValue:e.target.value})}},{key:"getTotalPrice",value:function(){var e=this.state,t=e.services,n=e.products,r=0;return t.forEach(function(e){r+=e.price*(e.duration/10)}),n.forEach(function(e){r+=e.price*e.amount}),r}},{key:"getTotalDuration",value:function(){var e=this.state.services,t=0;return e.forEach(function(e){t+=e.duration}),t}},{key:"closeModal",value:function(){(0,this.props.deselectAppointment)()}},{key:"componentWillReceiveProps",value:function(e){e.appointment&&this.setState({services:e.appointment.options})}},{key:"openConfirmationModal",value:function(){this.setState({confirmationModal:!0})}},{key:"closeConfirmationModal",value:function(){this.setState({confirmationModal:!1})}},{key:"confirmCancelAppointment",value:function(){this.closeConfirmationModal();var e=this.props,t=e.appointment,n=e.cancelAppointment,r=this.state.services;n(t.id);var o=r.map(function(e){return"".concat(e.id,"@").concat(e.duration,"@").concat(t.memberId)});this.updateStatus("Waiting",o)}},{key:"nextStatus",value:function(){var e=this.props,t=e.appointment,n=e.nextStatus,r=this.state.services.map(function(e){return"".concat(e.id,"@").concat(e.duration,"@").concat(t.memberId)});"CONFIRMED"===t.status&&this.updateStatus("CheckIn",r),"ASSIGNED"===t.status&&this.updateStatus("Confirm",r),"CHECKED_IN"===t.status&&this.updateStatusPaid(t.id),n(t.id,r)}},{key:"updateStatus",value:function(e,t){var n=this.props.appointment;this.props.updateAppointment({appointment:n,total:this.getTotalPrice(),duration:this.getTotalDuration(),BookingServices2:t,status:e})}},{key:"renderHeader",value:function(){var e=this.props.appointment;return"ASSIGNED"===e.status?io:"CONFIRMED"===e.status?ao:"CHECKED_IN"===e.status?co:"PAID"===e.status?uo:po}},{key:"renderBody",value:function(){var e=this.props.appointment;return Wr(qr.Body,{},void 0,Wr(Jr,{},void 0,Wr("div",{},void 0,so,Wr("strong",{},void 0,e.userFullName)),Wr("div",{},void 0,fo,Wr("strong",{},void 0,e.phoneNumber))),this.renderServices(),this.renderProducts(),this.renderNotes(),Wr(eo,{},void 0,Wr("div",{},void 0,lo,Wr("strong",{},void 0,X()(e.start).fromNow())),mo,Wr("div",{},void 0,bo,Wr("strong",{},void 0,"$",this.getTotalPrice()))))}},{key:"renderService",value:function(e,t){var n=this,r=this.props.appointment;return Wr("tr",{},t,Wr("td",{},void 0,e.name),Wr("td",{style:{textAlign:"center"}},void 0,Wr(Zr,{active:"PAID"!==r.status&&e.duration>10,disabled:"PAID"===r.status||e.duration<=10,onClick:function(){return n.subtractService(t)}},void 0,"-10'"),e.duration,Wr(Zr,{active:"PAID"!==r.status&&e.duration<90,disabled:"PAID"===r.status||e.duration>=90,onClick:function(){return n.addService(t)}},void 0,"+10'")),Wr("td",{style:{textAlign:"center"}},void 0,e.price*(e.duration/10)))}},{key:"renderServices",value:function(){var e=this,t=this.state.services;return Wr("table",{},void 0,Wr("thead",{},void 0,Wr("tr",{},void 0,yo,Wr("th",{width:"30%",style:{textAlign:"center"}},void 0,"Duration (ms)"),Wr("th",{style:{textAlign:"center"}},void 0,"Price ($)"))),Wr("tbody",{},void 0,t.map(function(t,n){return e.renderService(t,n)})))}},{key:"renderProduct",value:function(e,t){var n=this,r=this.props.appointment;return Wr("tr",{},t,Wr("td",{},void 0,e.name),Wr("td",{style:{textAlign:"center"}},void 0,Wr(Zr,{active:"PAID"!==r.status&&e.amount>1,disabled:"PAID"===r.status||e.amount<=1,onClick:function(){return n.subtractProduct(t)}},void 0,"-"),e.amount,Wr(Zr,{active:"PAID"!==r.status&&e.amount<5,disabled:"PAID"===r.status||e.amount>=5,onClick:function(){return n.addProduct(t)}},void 0,"+")),Wr("td",{style:{textAlign:"center"}},void 0,e.price*e.amount))}},{key:"renderProducts",value:function(){var e=this,t=this.state.products;return Wr("table",{},void 0,Wr("thead",{},void 0,Wr("tr",{},void 0,vo,Wr("th",{width:"30%",style:{textAlign:"center"}},void 0,"Amount"),Wr("th",{style:{textAlign:"center"}},void 0,"Price ($)"))),Wr("tbody",{},void 0,t.map(function(t,n){return e.renderProduct(t,n)})))}},{key:"renderNotes",value:function(){var e=this,t=this.state.notes;return Wr(Xr,{},void 0,Wr(Xr.Form,{onSubmit:function(t){return e.handleSubmit(t)}},void 0,Wr("input",{value:this.state.noteValue,onChange:function(t){return e.handleChange(t)}}),ho),t.map(this.renderNote))}},{key:"renderNextStatusButton",value:function(){var e=this,t=this.props.appointment;return"ASSIGNED"===t.status?Wr(to,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Confirm"):"CONFIRMED"===t.status?Wr(to,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Check In"):"CHECKED_IN"===t.status?Wr(to,{onClick:function(){return e.nextStatus()},primary:"true"},void 0,"Pay"):""}},{key:"render",value:function(){var e=this;return this.props.appointment?Wr("div",{},void 0,Wr(Kr,{closeOnDocumentClick:!0,open:!0,onOpen:function(){return e.openModal()},onClose:function(){return e.closeModal()}},void 0,Wr(qr,{},void 0,Wr(qr.Close,{onClick:function(){return e.closeModal()}},void 0,go),this.renderHeader(),this.renderBody(),Wr(qr.Footer,{},void 0,Wr("div",{},void 0,Wr(to,{onClick:function(){return e.openConfirmationModal()}},void 0,"Cancel")),Wr("div",{},void 0,this.renderNextStatusButton())))),Wr(ro,{open:this.state.confirmationModal},void 0,Wr(oo,{},void 0,Wr(oo.Close,{onClick:function(){return e.closeConfirmationModal()}},void 0,wo),Ao,_o,Wr(oo.Footer,{},void 0,Wr("div",{},void 0,Wr(to,{onClick:function(){return e.confirmCancelAppointment()}},void 0,"Yes")),Wr("div",{},void 0,Wr(to,{primary:!0,onClick:function(){return e.closeConfirmationModal()}},void 0,"No")))))):""}}])&&Hr(n.prototype,r),i&&Hr(n,i),t}();var Co,So=Object(u.b)({appointment:Object(u.a)(yt,function(e){return e.get("selectedAppointment")})}),jo=Object(c.connect)(So,function(e){return{deselectAppointment:function(){return e(jt())},cancelAppointment:function(t){return e({type:Ke,appointmentId:t})},nextStatus:function(t,n){return e({type:Ze,appointmentId:t,bookingServices:n})},updateAppointment:function(t){e(Wt(t))}}}),xo=Object(a.compose)(jo)(Oo);function ko(e){return(ko="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t,n,r){Co||(Co="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Co,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=Object(i.c)(Rr.a).withConfig({displayName:"AddAppointment__AppPopup",componentId:"sc-1ijw8t4-0"})(["border-radius:1.5rem;padding:0 !important;border:none !important;overflow:hidden;"]),Mo=i.c.div.withConfig({displayName:"AddAppointment__AppPopupWrapper",componentId:"sc-1ijw8t4-1"})(["position:relative;"]);Mo.Header=i.c.div.withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-2"})(["height:3rem;font-size:20px;font-weight:bold;background:",";color:#ffffff;width:100%;padding:0.5rem 1rem;line-height:1.5;text-align:center;"],function(e){return e.backgroundColor}),Mo.Close=i.c.div.withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-3"})(["position:absolute;right:0.5rem;top:0.25rem;line-height:1;font-size:2rem;color:#ffffff;cursor:pointer;"]),Mo.Body=i.c.div.withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-4"})(["background:#ffffff;width:100%;padding:1rem 1rem 0 1rem;"]),Mo.Footer=i.c.div.withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-5"})(["display:flex;padding:0.5rem 1rem 1rem 1rem;& > div{width:1000%;text-align:center;}"]);var Yo=Object(i.c)(Ro).withConfig({displayName:"AddAppointment__SearchingPopup",componentId:"sc-1ijw8t4-6"})(["width:30rem !important;"]),Bo=Object(i.c)(Mo).withConfig({displayName:"AddAppointment__SearchingWrapper",componentId:"sc-1ijw8t4-7"})([""]);Bo.Header=Object(i.c)(Mo.Header).withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-8"})([""]),Bo.Body=Object(i.c)(Mo.Body).withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-9"})(["text-align:center;"]),Bo.Close=Object(i.c)(Mo.Close).withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-10"})([""]),Bo.Footer=Object(i.c)(Mo.Footer).withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-11"})([""]);var Fo=Object(i.c)(Ro).withConfig({displayName:"AddAppointment__AddingPopup",componentId:"sc-1ijw8t4-12"})(["width:30rem !important;"]),Wo=Object(i.c)(Mo).withConfig({displayName:"AddAppointment__AddingWrapper",componentId:"sc-1ijw8t4-13"})([""]);Wo.Header=Object(i.c)(Mo.Header).withConfig({displayName:"AddAppointment__Header",componentId:"sc-1ijw8t4-14"})([""]),Wo.Body=Object(i.c)(Mo.Body).withConfig({displayName:"AddAppointment__Body",componentId:"sc-1ijw8t4-15"})(["text-align:center;"]),Wo.Close=Object(i.c)(Mo.Close).withConfig({displayName:"AddAppointment__Close",componentId:"sc-1ijw8t4-16"})([""]),Wo.Footer=Object(i.c)(Mo.Footer).withConfig({displayName:"AddAppointment__Footer",componentId:"sc-1ijw8t4-17"})([""]);var Ho=i.c.img.withConfig({displayName:"AddAppointment__Img",componentId:"sc-1ijw8t4-18"})(["filter:invert(100%);"]),Uo=i.c.div.withConfig({displayName:"AddAppointment__Label",componentId:"sc-1ijw8t4-19"})(["margin-bottom:1rem;"]),zo=i.c.form.withConfig({displayName:"AddAppointment__Form",componentId:"sc-1ijw8t4-20"})(["width:100%;text-align:center;&.left{text-align:left;input{text-align:left;}}input{width:100%;background:#ffffff;border:1px solid #dddddd;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0.5rem 1rem;margin-bottom:1rem;text-align:center;&.w-50{width:48%;}}"]),Lo=i.c.button.withConfig({displayName:"AddAppointment__Button",componentId:"sc-1ijw8t4-21"})(["border-radius:4px;background:",";color:",";border:1px solid #dddddd;font-size:1rem;line-height:2.8;height:100%;cursor:pointer;text-align:center;padding:0 2rem;"],function(e){return e.primary?"#0071c5":"#eeeeee"},function(e){return e.primary?"#ffffff":"#333333"}),$o=i.c.div.withConfig({displayName:"AddAppointment__NoteWrapper",componentId:"sc-1ijw8t4-22"})(["border:1px solid #dddddd;background:#eeeeee;padding:0.5rem;overflow-x:scroll;height:10rem;text-align:left;display:flex;flex-direction:column;justify-content:space-between;"]);$o.Form=i.c.form.withConfig({displayName:"AddAppointment__Form",componentId:"sc-1ijw8t4-23"})(["display:flex;& > input{flex:1;background:#ffffff;border:1px solid #dddddd;border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:0 1rem;}& > button{width:5rem;border-top-right-radius:4px;border-bottom-right-radius:4px;background:#0071c5;color:#ffffff;line-height:2.8;cursor:pointer;text-align:center;}"]);var Go=i.c.div.withConfig({displayName:"AddAppointment__NoteInformation",componentId:"sc-1ijw8t4-24"})(["display:flex;padding:0.5rem;& > div:nth-child(1),& > div:nth-child(2){width:20%;}& > div:last-child{width:60%;}"]),Vo=location.search.replace("?token=",""),Ko=Io(ee.FaTimesCircle,{}),qo=Io(Bo.Header,{backgroundColor:"#0071C5"},void 0,"Add Appointment"),Jo=Io(Bo.Body,{},void 0,"Enter phone number"),Zo=Io("div",{},void 0,Io(Lo,{id:"submit-create-appointment",type:"submit",primary:!0},void 0,"Next")),Xo=Io(ee.FaTimesCircle,{}),Qo=Io(Wo.Header,{backgroundColor:"#00b4f7"},void 0,"Add Appointment"),ei=Io(Uo,{},void 0,"Phone number is not exist ! Get information !"),ti=Io(Uo,{},void 0,"Customer Name"),ni=Io(Uo,{},void 0,"Referrer Phone Number"),ri=Io(Uo,{},void 0,"Note:"),oi=Io("button",{type:"submit"},void 0,Io(Ho,{src:Yr.a,alt:"icon"})),ii=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=Po(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==ko(o)&&"function"!==typeof o?Do(r):o,To(Do(n),"state",{isOpenSearchingPopup:!0,isOpenAddingPopup:!1,first_name:"",last_name:"",phone:"",phoneNumber:"",noteValue:"",notes:[],error_phone:"",success_addApointment:"",error_addApointment:""}),To(Do(n),"handleSubmitAppointment",function(){var e=n.state,t=e.first_name,r=e.last_name,o=e.phoneNumber,i=new FormData;i.append("first_name",t),i.append("last_name",r),i.append("phone",o),Cn.a.post("https://hp-api-dev.azurewebsites.net/api/AppointmentV2/AddNewUser",{first_name:t,last_name:r,phone:o},{headers:{Authorization:"Bearer ".concat(Vo),"Content-Type":"application/json"}}).then(function(e){if("{}"===e.data.data);else{console.log(e.data);var t=e.data.data;window.postMessage(JSON.stringify({consumerId:t,action:"newAppointment"})),n.setState({first_name:"",last_name:"",phone:"",phoneNumber:"",success_addApointment:"Inserted customer"}),setTimeout(function(){n.setState({isOpenSearchingPopup:!1,isOpenAddingPopup:!1,success_addApointment:""})},2e3)}})}),To(Do(n),"renderNote",function(e,t){return Io(Go,{},t,Io("div",{},void 0,Io("strong",{},void 0,e.date)),Io("div",{},void 0,e.name),Io("div",{},void 0,e.content))}),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(t,o.a.Component),n=t,(r=[{key:"closeAllModal",value:function(){this.setState({isOpenSearchingPopup:!0,isOpenAddingPopup:!1,phoneNumber:""}),(0,this.props.closeAddingAppointment)()}},{key:"handleSubmitVerifyPhone",value:function(e){var t=this;e.preventDefault();var n=new FormData;n.append("phone",this.state.phoneNumber),Cn.a.post("https://hp-api-dev.azurewebsites.net/api/AppointmentV2/FindUserByPhone",n,{headers:{Authorization:"Bearer ".concat(Vo)}}).then(function(e){"{}"===e.data.data?t.setState({isOpenSearchingPopup:!1,isOpenAddingPopup:!0}):(console.log(e.data),window.postMessage(JSON.stringify({consumerId:e.data.data.user_id,action:"newAppointment"})),t.setState({error_phone:"This phone number already exist !!!"}),setTimeout(function(){t.setState({error_phone:""})},3e3))})}},{key:"handleChange",value:function(e){this.setState({phoneNumber:e.target.value})}},{key:"handleSubmitNote",value:function(e){e.preventDefault()}},{key:"handleChangeNote",value:function(e){this.setState({noteValue:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpenSearchingPopup,r=t.isOpenAddingPopup,o=t.notes,i=t.error_phone,a=t.success_addApointment;return this.props.appointment?Io("div",{},void 0,Io(Yo,{open:n,closeOnDocumentClick:!1},void 0,Io(Bo,{},void 0,Io(Bo.Close,{onClick:function(){return e.closeAllModal()}},void 0,Ko),qo,Jo,Io(Bo.Footer,{},void 0,Io(zo,{onSubmit:function(t){return e.handleSubmitVerifyPhone(t)}},void 0,Io("input",{value:this.state.phoneNumber,onChange:function(t){return e.handleChange(t)},type:"number"}),Zo,i&&Io("p",{style:{color:"red"}},void 0,i))))),Io(Fo,{open:r,onClose:function(){return e.closeAllModal()},closeOnDocumentClick:!1},void 0,Io(Wo,{},void 0,Io(Wo.Close,{onClick:function(){return e.closeAllModal()}},void 0,Xo),Qo,Io(Wo.Body,{},void 0,Io(zo,{onSubmit:function(e){return e.preventDefault()}},void 0,a&&Io("p",{style:{color:"#8D9440"}},void 0,a),ei,Io("input",{value:this.state.phoneNumber,type:"number",disabled:!0})),Io(zo,{className:"left",onSubmit:function(e){return e.preventDefault()}},void 0,ti,Io("div",{style:{display:"flex",justifyContent:"space-between"}},void 0,Io("input",{value:this.state.first_name,onChange:function(t){return e.setState({first_name:t.target.value})},placeholder:"First Name",className:"w-50"}),Io("input",{value:this.state.last_name,onChange:function(t){return e.setState({last_name:t.target.value})},placeholder:"Last Name",className:"w-50"}))),Io(zo,{className:"left",onSubmit:function(e){return e.preventDefault()}},void 0,ni,Io("input",{value:this.state.phone,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone number"})),Io($o,{},void 0,ri,o.map(this.renderNote),Io($o.Form,{onSubmit:function(e){return e.preventDefault()}},void 0,Io("input",{value:this.state.noteValue,onChange:function(t){return e.handleChangeNote(t)}}),oi))),Io(Wo.Footer,{},void 0,Io("div",{},void 0,Io(Lo,{onClick:this.handleSubmitAppointment,type:"button",primary:!0},void 0,"Next")))))):""}}])&&No(n.prototype,r),i&&No(n,i),t}();var ai=Object(u.b)({appointment:Object(u.a)(yt,function(e){return e.get("addingAppointment")})}),ci=Object(c.connect)(ai,function(e){return{closeAddingAppointment:function(){return e({type:ke})},checkPhoneNumberCustomer:function(t){return e(function(e){return{type:tt,phone:e}}(t))},addCustomer:function(t){return e(function(e){return{type:ot,customer:e}}(t))}}}),ui=Object(a.compose)(ci)(ii),pi=n("7fa3d1d0596e1f2a0f74"),di=n("74431d47afb6248fcb69"),si=n("6c68d13fe9e3e77d8fc4");function fi(e){return 204===e.status||205===e.status?null:e.json()}function li(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function mi(e,t){return fetch(e,t).then(li).then(fi)}const bi="https://hp-api-dev.azurewebsites.net/api",yi=`${bi}/Staff`,vi=`${bi}/Appointments/Waiting`,hi=`${bi}/Appointments/Member`,gi=`${bi}/AppointmentV2/DragDrop`,wi=`${bi}/AppointmentV2/Update`,Ai=`${bi}/AppointmentV2/FindUserByPhone`;var _i={result:"success",message:"Appointment successfully!"};function Oi(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ci(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Oi(i,r,o,a,c,"next",e)}function c(e){Oi(i,r,o,a,c,"throw",e)}a(void 0)})}}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ji(e,t,n[t])})}return e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi,ki=regeneratorRuntime.mark(ua),Ii=regeneratorRuntime.mark(pa),Ni=regeneratorRuntime.mark(da),Pi=regeneratorRuntime.mark(sa),Di=regeneratorRuntime.mark(fa),Ei=regeneratorRuntime.mark(la),Ti=regeneratorRuntime.mark(ma),Ri=regeneratorRuntime.mark(ba),Mi=regeneratorRuntime.mark(ya),Yi=regeneratorRuntime.mark(va),Bi=regeneratorRuntime.mark(ha),Fi=regeneratorRuntime.mark(ga),Wi=regeneratorRuntime.mark(wa),Hi=regeneratorRuntime.mark(Aa),Ui=regeneratorRuntime.mark(_a),zi=regeneratorRuntime.mark(Oa),Li=regeneratorRuntime.mark(Ca),$i=regeneratorRuntime.mark(Sa),Gi=regeneratorRuntime.mark(ja),Vi=regeneratorRuntime.mark(xa),Ki=regeneratorRuntime.mark(ka),qi=regeneratorRuntime.mark(Ia),Ji=regeneratorRuntime.mark(Na),Zi=regeneratorRuntime.mark(Pa),Xi=regeneratorRuntime.mark(Da),Qi=regeneratorRuntime.mark(Ea),ea=regeneratorRuntime.mark(Ta),ta=location.search.replace("?token=",""),na={"Content-Type":"application/json",Authorization:"Bearer ".concat(ta)},ra={UnConfirm:"ASSIGNED",Confirm:"CONFIRMED",CheckIn:"CHECKED_IN",Paid:"PAID",Waiting:"WAITING",Cancel:"CANCEL"},oa=function(e){var t=[];return e.options&&e.options.service&&e.options.service.forEach(function(e){t.push({id:e.id,name:e.name,duration:e.duration,price:e.price})}),{id:e.id,userFullName:e.userFullName,phoneNumber:e.phoneNumber,options:t,status:ra[e.status],memberId:e.staffId,start:e.start,end:e.end}},ia=function(e){return{id:e.id,title:"".concat(e.first_name," ").concat(e.last_name),imageUrl:e.imageurl&&"https://hp-api-dev.azurewebsites.net/".concat(e.imageurl)||"https://png.pngtree.com/svg/20161027/631929649c.svg",orderNumber:e.orderNumber}},aa={ASSIGNED:"UnConfirm",CONFIRMED:"Confirm",CHECKED_IN:"CheckIn",PAID:"Paid",WAITING:"Waiting",CANCEL:"Cancel"},ca=function(e){return aa[e]};function ua(){var e,t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=new URL(yi),r.next=4,Object(si.b)(mi,e.toString(),{method:"POST",headers:na});case 4:return t=r.sent,n=t&&t.data&&t.data.map(function(e){return ia(e)}),r.next=8,Object(si.d)(xt(n));case 8:return r.next=10,Object(si.d)(kt(n.slice(0,6)));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(si.d)((o=r.t0,{type:Pe,error:o}));case 16:case"end":return r.stop()}var o},ki,null,[[0,12]])}function pa(){var e,t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return"WAITING",r.prev=1,(e=new URL(vi)).searchParams.append("status","WAITING"),r.next=6,Object(si.b)(mi,e.toString(),{method:"POST",headers:na});case 6:return t=r.sent,n=t&&t.data&&t.data.map(function(e){return oa(e)}),r.next=10,Object(si.d)(It(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(si.d)((o=r.t0,{type:Re,error:o}));case 16:case"end":return r.stop()}var o},Ii,null,[[1,12]])}function da(){var e,t,n,r,o,i,a,c,u;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(si.e)(ht());case 2:return e=p.sent,p.next=5,Object(si.e)(vt());case 5:return t=p.sent,n=t.format("YYYY-MM-DD")||X()().format("YYYY-MM-DD"),r=e.map(function(e){return e.id}),p.prev=8,o=new URL(hi),i=JSON.stringify({date:n,memberId:r}),p.next=13,Object(si.b)(mi,o.toString(),{method:"POST",headers:na,body:i});case 13:return a=p.sent,c=a&&a.data&&a.data.map(function(e){return oa(e)}),u=e.map(function(e){return{memberId:e.id,appointments:c.filter(function(t){return t.memberId===e.id&&"WAITING"!==t.status})}}),p.next=18,Object(si.d)(Nt(u));case 18:wn(t,u),p.next=25;break;case 21:return p.prev=21,p.t0=p.catch(8),p.next=25,Object(si.d)((d=p.t0,{type:Be,error:d}));case 25:case"end":return p.stop()}var d},Ni,null,[[8,21]])}function sa(e){var t,n,r,o,i,a,c,u,p;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(si.e)(ht());case 2:if(t=d.sent,n=t[e.resourceId],r=Si({},e.eventData,{memberId:n.id}),d.prev=5,o=r.id,i=r.memberId,a=r.start,c=r.end,u=new URL(wi),!(p=Ya(u.toString(),{id:o,Staff_id:i,StoreId:1,FromTime:a,ToTime:c,total:0,duration:0,CheckinStatus:"CheckIn",PaidStatus:!0,Status:1,CreateDate:(new Date).toString().substring(0,15),User_id:111}))){d.next=14;break}return d.next=12,Object(si.d)(Pt(r));case 12:d.next=16;break;case 14:return d.next=16,Object(si.d)(Dt(p));case 16:d.next=22;break;case 18:return d.prev=18,d.t0=d.catch(5),d.next=22,Object(si.d)(Dt(d.t0));case 22:case"end":return d.stop()}},Pi,null,[[5,18]])}function fa(e){var t,n,r,o,i,a,c,u,p;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(si.e)(ht());case 2:return t=d.sent,d.next=5,Object(si.e)(gt());case 5:if(n=d.sent,r=t[e.newPositionIndex],o=n.find(function(t){return t.appointments.find(function(t){return t.id===e.appointmentId})})){d.next=11;break}return d.next=11,Object(si.d)(Tt("Cannot find previous position."));case 11:if(i=o.appointments.find(function(t){return t.id===e.appointmentId})){d.next=15;break}return d.next=15,Object(si.d)(Tt("Cannot find moved appointment."));case 15:if(a=Si({},i,{start:e.newTime,end:e.newEndTime,memberId:r.id}),d.prev=16,c=new URL(gi),(u=new FormData).append("FromTime",a.start),u.append("staff_id",a.memberId),u.append("appointment_id",a.id),!(p=Ra(c.toString(),u))){d.next=28;break}return d.next=26,Object(si.d)(Et(a));case 26:d.next=30;break;case 28:return d.next=30,Object(si.d)(Tt(p));case 30:d.next=36;break;case 32:return d.prev=32,d.t0=d.catch(16),d.next=36,Object(si.d)(Tt(d.t0));case 36:case"end":return d.stop()}},Di,null,[[16,32]])}function la(e){var t,n,r,o,i,a,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(di.b)(200);case 3:if(t=e.appointment,n=t.id,r=t.memberId,o=t.start,i=t.end,a=new URL(wi),!(c=Ya(a.toString(),{id:n,Staff_id:r,StoreId:1,FromTime:o,ToTime:i,total:0,duration:0,CheckinStatus:"Waiting",PaidStatus:!0,Status:1,CreateDate:(new Date).toString().substring(0,15),User_id:109}))){u.next=11;break}return u.next=9,Object(si.d)((p=e.appointment,{type:Ge,appointment:p}));case 9:u.next=13;break;case 11:return u.next=13,Object(si.d)(Rt(c));case 13:u.next=19;break;case 15:return u.prev=15,u.t0=u.catch(0),u.next=19,Object(si.d)(Rt(u.t0));case 19:case"end":return u.stop()}var p},Ei,null,[[0,15]])}function ma(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(si.e)(wt());case 2:if(t=r.sent){r.next=6;break}return r.next=6,Object(si.d)(Mt("Cannot find selected fcEvent"));case 6:return r.prev=6,r.next=9,Object(di.b)(200);case 9:if(!(n=_i)){r.next=18;break}return r.next=13,Object(si.d)((o=e.appointmentId,{type:qe,appointmentId:o}));case 13:return An(t._id),r.next=16,Object(si.d)(jt());case 16:r.next=20;break;case 18:return r.next=20,Object(si.d)(Mt(n));case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r.catch(6),r.next=26,Object(si.d)(Mt(r.t0));case 26:case"end":return r.stop()}var o},Ti,null,[[6,22]])}function ba(e){var t,n,r,o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(si.e)(wt());case 2:if(t=a.sent){a.next=6;break}return a.next=6,Object(si.d)(Yt("Cannot find selected fcEvent"));case 6:return a.prev=6,n=new URL(wi),"UnConfirm"==(r=ca(t.data.status))?r="Confirm":"Confirm"==r?r="CheckIn":"CheckIn"==r&&(r="Paid"),o={method:"POST",headers:na,body:JSON.stringify({id:t.data.id,Staff_id:t.data.memberId,StoreId:1,FromTime:t.data.start,ToTime:t.data.end,TipPercent:null,User_id:null,total:1,duration:1,waitingtime:1,CheckinStatus:r,PaidStatus:!1,Status:1,CreateDate:t.data.start,BookingServices2:e.bookingServices})},a.next=13,Object(si.b)(mi,n.toString(),o);case 13:if(!(i=a.sent)){a.next=22;break}return a.next=17,Object(si.d)((c=e.appointmentId,{type:Xe,appointmentId:c}));case 17:return _n(t),a.next=20,Object(si.d)(jt());case 20:a.next=24;break;case 22:return a.next=24,Object(si.d)(Yt(i));case 24:a.next=30;break;case 26:return a.prev=26,a.t0=a.catch(6),a.next=30,Object(si.d)(Yt(a.t0));case 30:case"end":return a.stop()}var c},Ri,null,[[6,26]])}function ya(e){var t,n,r,o,i,a,c,u,p,d,s,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,t=e.appointment,n=t.appointment,r=t.total,o=t.duration,i=t.BookingServices2,a=t.status,c=n.memberId,u=n.start,p=n.end,d=n.id,s=new URL(wi),!(f=Fa(s.toString(),{id:d,Staff_id:c,StoreId:1,FromTime:u,ToTime:p,total:r,duration:o,CheckinStatus:a,PaidStatus:!0,Status:1,CreateDate:(new Date).toString().substring(0,15),BookingServices2:i,User_id:111}))){l.next=10;break}return l.next=8,Object(si.d)(Ht(f));case 8:l.next=12;break;case 10:return l.next=12,Object(si.d)(Ut(error));case 12:l.next=18;break;case 14:return l.prev=14,l.t0=l.catch(0),l.next=18,Object(si.d)(Ut(l.t0));case 18:case"end":return l.stop()}},Mi,null,[[0,14]])}function va(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,console.log(e.customer),t.next=8;break;case 4:return t.prev=4,t.t0=t.catch(0),t.next=8,Object(si.d)((n=t.t0,{type:it,error:n}));case 8:case"end":return t.stop()}var n},Yi,null,[[0,4]])}function ha(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,console.log(e.phone),(t=new FormData).append("phone",e.phone),new URL(wi),Cn.a.post(Ai,t,{headers:{Authorization:"Bearer ".concat(ta)}}).then(function(e){console.log(e.data),"{}"===e.data.data&&Object(si.d)({type:"CHECK_PHONE_ADD_CUSTOMER_SUCCESS",phone:!0})}),n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(si.d)(Bt(n.t0));case 12:case"end":return n.stop()}},Bi,null,[[0,8]])}function ga(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(si.d)(Ot(e.day));case 2:return t.next=4,Object(si.d)(Ct(e.day));case 4:case"end":return t.stop()}},Fi)}function wa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.d)({type:Me});case 2:case"end":return e.stop()}},Wi)}function Aa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ce,ga);case 2:case"end":return e.stop()}},Hi)}function _a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ie,ua);case 2:case"end":return e.stop()}},Ui)}function Oa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ee,pa);case 2:case"end":return e.stop()}},zi)}function Ca(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Me,da);case 2:return e.next=4,Object(si.f)(Xe,da);case 4:return e.next=6,Object(si.f)(_e,da);case 6:return e.next=8,Object(si.f)(et,da);case 8:case"end":return e.stop()}},Li)}function Sa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(De,wa);case 2:case"end":return e.stop()}},$i)}function ja(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Fe,sa);case 2:case"end":return e.stop()}},Gi)}function xa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ue,fa);case 2:case"end":return e.stop()}},Vi)}function ka(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)($e,la);case 2:case"end":return e.stop()}},Ki)}function Ia(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ze,ba);case 2:case"end":return e.stop()}},qi)}function Na(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(Ke,ma);case 2:case"end":return e.stop()}},Ji)}function Pa(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(ct,ya);case 2:case"end":return e.stop()}},Zi)}function Da(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(ot,va);case 2:case"end":return e.stop()}},Xi)}function Ea(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.f)(tt,ha);case 2:case"end":return e.stop()}},Qi)}function Ta(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(si.a)([Object(si.c)(Aa),Object(si.c)(_a),Object(si.c)(Oa),Object(si.c)(Sa),Object(si.c)(Ca),Object(si.c)(ja),Object(si.c)(xa),Object(si.c)(ka),Object(si.c)(Ia),Object(si.c)(Na),Object(si.c)(Pa),Object(si.c)(Da),Object(si.c)(Ea)]);case 2:case"end":return e.stop()}},ea)}function Ra(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=Ci(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn()({method:"POST",url:t,data:n,headers:na,config:{headers:{"Content-Type":"multipart/form-data"}}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ya(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=Ci(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn()({method:"POST",url:t,data:n,headers:na,config:{headers:{Authorization:"Bearer ".concat(ta),"Content-Type":"application/json"}}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fa(e,t){return Wa.apply(this,arguments)}function Wa(){return(Wa=Ci(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn()({method:"POST",url:t,data:n,headers:na,config:{headers:{Authorization:"Bearer ".concat(ta),"Content-Type":"application/json"}}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ha(e,t,n,r){xi||(xi="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:xi,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ua(e){return(Ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return!t||"object"!==Ua(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"AppointmentPage",function(){return Ka}),n.d(t,"mapDispatchToProps",function(){return qa});var Va=Ha(i.c.div.withConfig({displayName:"AppointmentPage__AppointmentPageWrapper",componentId:"sc-1dgxsnd-0"})(["width:100%;height:100%;"]),{},void 0,Ha(Gt,{}),Ha(Hn,{}),Ha(Tr,{}),Ha(xo,{}),Ha(ui,{}),Ha(pi.a,{})),Ka=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),La(this,$a(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Va}}])&&za(n.prototype,r),i&&za(n,i),t}();function qa(){return{}}var Ja,Za,Xa,Qa=Object(u.b)({}),ec=Object(c.connect)(Qa,qa),tc=(Za=(Ja={key:"appointment",reducer:bt}).key,Xa=Ja.reducer,function(e){var t=function(t){function n(){var e,t,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return r=this,t=!(o=(e=N(n)).call.apply(e,[this].concat(c)))||"object"!==k(o)&&"function"!==typeof o?P(r):o,E(P(t),"injectors",(S(i=t.context.store),{injectReducer:x(i,!0)})),t}var r,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(n,o.a.Component),r=n,(i=[{key:"componentWillMount",value:function(){(0,this.injectors.injectReducer)(Za,Xa)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&I(r.prototype,i),a&&I(r,a),n}();return E(t,"WrappedComponent",e),E(t,"contextTypes",{store:d.a.object.isRequired}),E(t,"displayName","withReducer(".concat(e.displayName||e.name||"Component",")")),f()(t,e)}),nc=function(e){var t=e.key,n=e.saga,r=e.mode;return function(e){var i=function(i){function a(){var e,t,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=this,t=!(r=(e=G(a)).call.apply(e,[this].concat(c)))||"object"!==L(r)&&"function"!==typeof r?V(n):r,q(V(t),"injectors",(S(o=t.context.store),{injectSaga:U(o,!0),ejectSaga:z(o,!0)})),t}var c,u,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,o.a.Component),c=a,(u=[{key:"componentWillMount",value:function(){(0,this.injectors.injectSaga)(t,{saga:n,mode:r},this.props)}},{key:"componentWillUnmount",value:function(){(0,this.injectors.ejectSaga)(t)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&$(c.prototype,u),p&&$(c,p),a}();return q(i,"WrappedComponent",e),q(i,"contextTypes",{store:d.a.object.isRequired}),q(i,"displayName","withSaga(".concat(e.displayName||e.name||"Component",")")),f()(i,e)}}({key:"appointment",saga:Ta});t.default=Object(a.compose)(tc,nc,ec)(Ka)},a230b9763ddae96228aa:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeBAMAAADJHrORAAAAMFBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlTPQ5AAAAD3RSTlMAd2YE3he9Cdaqly315Djb3zZZAAAAUElEQVQY02NgQAbMXxhQ+dcY8IPXDPj1zyKgX4iA/iHIZ1+Kyi/7icJnz29F4Zf9F1JCgC8M6/8jgy8MEX8EkYAQA2t/OqqdET9R+azZyDwAKzguXf0fo4sAAAAASUVORK5CYII="}}]);